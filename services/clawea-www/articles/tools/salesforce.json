{
  "slug": "tools/salesforce",
  "title": "Salesforce for Permissioned Agents | Claw EA",
  "category": "tools",
  "html": "<h2>Direct Answer</h2>\n<p>Salesforce is a high-impact system for agents because a single “helpful” action can create, update, or expose leads, contacts, cases, and notes at scale. Claw EA runs OpenClaw as the baseline agent runtime, then adds a permissioned execution layer so Salesforce actions are governed by policy-as-code, not prompt-only instructions.</p>\n<p>This page describes how to connect Salesforce via official API with enterprise buildout controls, while requiring Work Policy Contracts (WPC), CST (scoped token), and auditable model traffic through clawproxy.</p>\n\n<h2>Step-by-step runbook</h2>\n<ol>\n  <li>\n    <p>Define the Salesforce “agent job” boundary. Be explicit about which objects and fields the agent may touch, and which actions are read-only vs write.</p>\n    <p>Separate “triage” (search, summarize, propose changes) from “commit” (create/update/delete) so you can gate the commit path.</p>\n  </li>\n  <li>\n    <p>Write a WPC that encodes allowed Salesforce operations and approval requirements. Store the WPC in the WPC registry so it is signed and hash-addressed (served by clawcontrols).</p>\n    <p>Keep the WPC narrow: object types, field sets, and max row counts per run are more effective than broad “CRM access” rules.</p>\n  </li>\n  <li>\n    <p>Issue a CST (from clawscope) for the specific job. Use CST scope hash and, when appropriate, policy hash pinning so the agent cannot swap to a different policy mid-run.</p>\n    <p>Bind the CST to the job to reduce replay risk. This aligns with marketplace anti-replay binding (job-scoped CST binding) when you later store artifacts.</p>\n  </li>\n  <li>\n    <p>Connect Salesforce via official API in an enterprise buildout. Use explicit least-privilege auth scopes and avoid reusing a human admin identity for agent workloads.</p>\n    <p>Route model calls through clawproxy so every model call emits gateway receipts for verification. (Salesforce API calls can be logged separately; do not assume they are natively receipted.)</p>\n  </li>\n  <li>\n    <p>Run the agent in OpenClaw with sandboxing enabled for tool execution where feasible. Use OpenClaw tool policy to allow only the minimal set of tools required for the job and deny everything else.</p>\n    <p>Use OpenClaw’s security audit regularly to catch configuration footguns (exposed gateway auth, broad tool allowlists, unsafe filesystem permissions).</p>\n  </li>\n  <li>\n    <p>For write and admin actions, require WPC approval gates. Operationally, this means the agent can prepare a proposed change set, but execution requires an explicit approval step that the policy recognizes.</p>\n    <p>Keep approvals machine-checkable: include the object, record ids, field diffs, and a reason string, then require a second party or an allowlisted role to approve.</p>\n  </li>\n  <li>\n    <p>Collect proof artifacts. For each run, Claw EA produces a proof bundle that includes gateway receipts and job metadata, then you can store/view it as a Trust Pulse artifact for audit.</p>\n    <p>Verify before you trust: use receipt verification to confirm the model traffic that drove recommendations, and keep the proof bundle alongside your Salesforce change logs.</p>\n  </li>\n</ol>\n\n<h2>Threat model</h2>\n<p>Salesforce risk is not theoretical: it is a shared operational datastore that controls pipeline, customer communications, and service workflows. An agent that can write to Salesforce can cause durable business impact quickly, especially when combined with broad object permissions.</p>\n\n<table>\n  <thead>\n    <tr>\n      <th>Threat</th>\n      <th>What happens</th>\n      <th>Control</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>Prompt injection leads to unauthorized updates</td>\n      <td>The agent is tricked into changing Opportunity stages, closing cases, or overwriting notes based on untrusted text (email, case comments, knowledge articles).</td>\n      <td>WPC restricts write actions and requires approval gates for “commit” operations. OpenClaw tool policy denies any direct “raw HTTP” or shell tooling not required for the integration path.</td>\n    </tr>\n    <tr>\n      <td>Overbroad OAuth/app permissions</td>\n      <td>A single token can read or modify objects outside the intended business unit, including sensitive fields.</td>\n      <td>Use explicit least-privilege auth scopes and separate service principals per job type. Bind the run to a CST whose scope hash matches the intended permission set.</td>\n    </tr>\n    <tr>\n      <td>Silent exfiltration via model context</td>\n      <td>Agent copies PII or deal data into model prompts, then logs or downstream systems retain it.</td>\n      <td>Route model calls through clawproxy and retain gateway receipts so you can audit what was sent to the model. Keep the WPC strict about which fields may be placed into prompts.</td>\n    </tr>\n    <tr>\n      <td>Record fan-out and bulk damage</td>\n      <td>A bad filter or loop causes thousands of updates, creating irreparable CRM noise or compliance issues.</td>\n      <td>WPC enforces max row counts and requires a two-phase pattern: query and propose, then approve and apply. Prefer idempotent updates and dry-run summaries before write.</td>\n    </tr>\n    <tr>\n      <td>Misconfigured agent runtime expands blast radius</td>\n      <td>Agent can reach extra tools (filesystem, network, browser control) and pivot beyond Salesforce.</td>\n      <td>OpenClaw sandboxing reduces tool execution blast radius, while OpenClaw tool policy and elevated gates keep host escape hatches off by default. Run OpenClaw security audit after changes.</td>\n    </tr>\n  </tbody>\n</table>\n\n<h2>Policy-as-code example</h2>\n<p>This JSON-like snippet illustrates the shape of a WPC used to gate Salesforce actions connected via official API. It is intentionally narrow: read is allowed for a small set of objects; writes require approval, and admin actions are denied.</p>\n\n<pre>{\n  \"wpc_version\": \"v1\",\n  \"policy_name\": \"salesforce-permissioned-agent\",\n  \"tools\": {\n    \"salesforce_api\": {\n      \"mode\": \"official_api\",\n      \"allow\": [\n        { \"action\": \"query\", \"objects\": [\"Account\", \"Contact\", \"Case\"], \"max_rows\": 200 },\n        { \"action\": \"get\", \"objects\": [\"Account\", \"Contact\", \"Case\"] }\n      ],\n      \"write_requires_approval\": [\n        { \"action\": \"create\", \"objects\": [\"Case\"] },\n        { \"action\": \"update\", \"objects\": [\"Case\"], \"fields_allowlist\": [\"Status\", \"Priority\", \"Description\"] }\n      ],\n      \"deny\": [\n        { \"action\": \"delete\", \"objects\": [\"*\"] },\n        { \"action\": \"admin\", \"objects\": [\"*\"] }\n      ]\n    }\n  },\n  \"model_calls\": {\n    \"must_route_via\": \"clawproxy\",\n    \"retain_gateway_receipts\": true\n  },\n  \"token_requirements\": {\n    \"require_cst\": true,\n    \"require_cst_scope_hash\": true,\n    \"optional_policy_hash_pinning\": true\n  }\n}</pre>\n\n<p>Prompt-only controls can describe these rules, but they cannot enforce them. Policy-as-code is what makes the agent fail closed when it tries a disallowed Salesforce operation, even if the model is confused or manipulated.</p>\n\n<h2>What proof do you get?</h2>\n<p>For each run, Claw EA can produce gateway receipts for model calls emitted by clawproxy. These receipts let you verify which model endpoints were called, when, and under what job context, without trusting application logs alone.</p>\n<p>Claw EA packages those receipts plus related metadata into a proof bundle. You can store and view the resulting artifact as a Trust Pulse for audit, and use marketplace anti-replay binding (job-scoped CST binding) to make replayed tokens easier to detect in review.</p>\n<p>Operationally, this means you can answer: “Which model calls influenced this Salesforce update proposal?” and “Was the run executed under the exact WPC we approved?” without relying on developer assertions.</p>\n\n<h2>Rollback posture</h2>\n<p>Salesforce changes are often reversible, but only if you plan for it. Treat rollback as a first-class job requirement: write paths must be idempotent, diffable, and tied to a run identifier stored outside the model context.</p>\n\n<table>\n  <thead>\n    <tr>\n      <th>Action</th>\n      <th>Safe rollback</th>\n      <th>Evidence</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <td>Create Case</td>\n      <td>Close the created case and mark it as agent-created, or delete only if your retention policy allows. Keep a run-id field or external mapping for traceability.</td>\n      <td>Proof bundle for the run, plus Salesforce record id list produced at commit time.</td>\n    </tr>\n    <tr>\n      <td>Update Case fields</td>\n      <td>Store a before/after field diff and revert to previous values using the diff. Require approval for bulk reverts, same as bulk writes.</td>\n      <td>Gateway receipts for model calls that generated the diff, and an approval record tied to the WPC hash.</td>\n    </tr>\n    <tr>\n      <td>Bulk update many records</td>\n      <td>Rollback via a bounded “undo batch” that is limited to the exact record ids and fields touched by the run. Never run an unfiltered rollback query.</td>\n      <td>Commit-time manifest (record ids, fields, timestamps) plus CST job binding in the run metadata.</td>\n    </tr>\n    <tr>\n      <td>Permission change / admin action attempt</td>\n      <td>No rollback needed if denied by policy. If allowed by exception, treat as an emergency change with manual verification steps.</td>\n      <td>WPC denial/exception trace and the absence of an executed commit step for the agent job.</td>\n    </tr>\n  </tbody>\n</table>\n\n<h2>FAQ</h2>\n\n<h3>Is this a native Salesforce connector in Claw EA?</h3>\n<p>No. Salesforce can be connected via official API with enterprise buildout controls, and you should assume implementation work for your org’s auth model, objects, and field rules.</p>\n\n<h3>Why isn’t prompt-only governance enough for Salesforce agents?</h3>\n<p>Prompts can be ignored or subverted, especially when an agent consumes untrusted text from cases, emails, or web pages. A WPC makes the execution layer enforce allowed actions and approval gates even when the model output is wrong.</p>\n\n<h3>How do you ensure writes and admin actions are constrained?</h3>\n<p>Write and admin actions require WPC approval gates, CST, and explicit least-privilege auth scopes. In practice, the agent prepares a change set, then a policy-controlled approval step is required before any Salesforce mutation is allowed.</p>\n\n<h3>What do gateway receipts cover in a Salesforce workflow?</h3>\n<p>Gateway receipts cover model calls routed through clawproxy. They do not automatically attest Salesforce API calls, so pair receipts with your Salesforce-side logs and the agent’s commit manifest for a complete audit trail.</p>\n\n<h3>Can I run Salesforce-capable agents in a sandboxed environment?</h3>\n<p>Yes for tool execution in OpenClaw: sandboxing reduces local filesystem and process blast radius. It does not replace Salesforce permission scoping, so keep both controls in place.</p>\n\n<h2>Sources</h2>\n<ul>\n  <li><a href=\"https://github.com/openclaw/openclaw/blob/5d4f42016f3afdbd5218843648d3ea594541dedc/docs/gateway/security/index.md\">OpenClaw Gateway Security (audit + footguns)</a></li>\n  <li><a href=\"https://github.com/openclaw/openclaw/blob/5d4f42016f3afdbd5218843648d3ea594541dedc/docs/gateway/sandbox-vs-tool-policy-vs-elevated.md\">OpenClaw: Sandbox vs Tool Policy vs Elevated</a></li>\n  <li><a href=\"https://engineering.salesforce.com/how-agentforce-runs-secure-ai-agents-at-11-million-calls-per-day/\">How Agentforce Runs Secure AI Agents at 11 Million Calls Per Day</a></li>\n  <li><a href=\"https://www.salesforce.com/blog/best-practices-for-secure-agentforce-implementation/\">Best Practices for Secure Agentforce Implementation</a></li>\n  <li><a href=\"https://compliance.salesforce.com/en/documents/a006e000014OxLFAA0\">Salesforce Agentforce &amp; Einstein Generative AI Security White Paper (EN)</a></li>\n</ul>\n\n<div class=\"cta-banner\" data-cta=\"bofu-endcap\">\n  <h2>Ready to put this workflow into production?</h2>\n  <p>Get a scoped deployment plan with Work Policy Contracts, approval gates, and cryptographic proof bundles for your team.</p>\n  <a href=\"/contact\" class=\"cta-btn cta-btn-lg\" data-cta=\"bofu-talk-to-sales\">Talk to Sales</a>\n  <a href=\"/trust\" class=\"cta-btn cta-btn-outline cta-btn-lg\" style=\"margin-left:.75rem\" data-cta=\"bofu-trust-layer\">Review Trust Layer</a>\n</div>\n",
  "description": "Salesforce is a high-impact system for agents because a single “helpful” action can create, update, or expose leads, contacts, cases, and notes at scale. Claw EA runs OpenClaw as the baseline agent runtime, then adds a p",
  "faqs": [
    {
      "q": "Is this a native Salesforce connector in Claw EA?",
      "a": "No. Salesforce can be connected via official API with enterprise buildout controls, and you should assume implementation work for your org’s auth model, objects, and field rules."
    },
    {
      "q": "Why isn’t prompt-only governance enough for Salesforce agents?",
      "a": "Prompts can be ignored or subverted, especially when an agent consumes untrusted text from cases, emails, or web pages. A WPC makes the execution layer enforce allowed actions and approval gates even when the model output is wrong."
    },
    {
      "q": "How do you ensure writes and admin actions are constrained?",
      "a": "Write and admin actions require WPC approval gates, CST, and explicit least-privilege auth scopes. In practice, the agent prepares a change set, then a policy-controlled approval step is required before any Salesforce mutation is allowed."
    },
    {
      "q": "What do gateway receipts cover in a Salesforce workflow?",
      "a": "Gateway receipts cover model calls routed through clawproxy. They do not automatically attest Salesforce API calls, so pair receipts with your Salesforce-side logs and the agent’s commit manifest for a complete audit trail."
    },
    {
      "q": "Can I run Salesforce-capable agents in a sandboxed environment?",
      "a": "Yes for tool execution in OpenClaw: sandboxing reduces local filesystem and process blast radius. It does not replace Salesforce permission scoping, so keep both controls in place."
    }
  ],
  "sources": [
    {
      "title": "How Agentforce Runs Secure AI Agents at 11 Million Calls Per Day",
      "uri": "https://engineering.salesforce.com/how-agentforce-runs-secure-ai-agents-at-11-million-calls-per-day/"
    },
    {
      "title": "Best Practices for Secure Agentforce Implementation",
      "uri": "https://www.salesforce.com/blog/best-practices-for-secure-agentforce-implementation/"
    },
    {
      "title": "Your Guide to AI Agent Security",
      "uri": "https://www.salesforce.com/agentforce/ai-agents/security/"
    },
    {
      "title": "The Agentic Enterprise - The IT Architecture for the AI-Powered Future",
      "uri": "https://architect.salesforce.com/docs/architect/fundamentals/guide/agentic-enterprise-it-architecture"
    },
    {
      "title": "The Enterprise AI Agent Era: Why Trust, Security, and Governance are Non-Negotiable",
      "uri": "https://www.salesforce.com/blog/unified-trust-security-governance-for-agentic-solutions/"
    },
    {
      "title": "5 AI Agent Pitfalls That Will Sink Your Agentic Enterprise ...",
      "uri": "https://www.salesforce.com/blog/ai-agent-pitfalls/"
    },
    {
      "title": "Salesforce Agentforce & Einstein Generative AI Security White Paper (EN)",
      "uri": "https://compliance.salesforce.com/en/documents/a006e000014OxLFAA0"
    }
  ],
  "model": "candidate-01",
  "generatedAt": "2026-02-11T16:52:53.402Z",
  "indexable": true
}