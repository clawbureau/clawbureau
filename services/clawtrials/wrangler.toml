name = "clawtrials"
account_id = "b8f2c66f1848dff476faa874282d781e"
main = "src/index.ts"
compatibility_date = "2026-02-11"
workers_dev = true

routes = [
  { pattern = "clawtrials.com/v1/harness*", zone_name = "clawtrials.com" },
  { pattern = "clawtrials.com/health", zone_name = "clawtrials.com" }
]

[[queues.producers]]
binding = "REP_EVENTS"
queue = "clawrep-events"

[vars]
ENVIRONMENT = "production"
CLAWTRIALS_VERSION = "0.2.0"
CLAWREP_BASE_URL = "https://clawrep.com"

[env.staging]
routes = [
  { pattern = "staging.clawtrials.com", custom_domain = true }
]

[[env.staging.queues.producers]]
binding = "REP_EVENTS"
queue = "clawrep-events-staging"

[env.staging.vars]
ENVIRONMENT = "staging"
CLAWTRIALS_VERSION = "0.2.0-staging"
CLAWREP_BASE_URL = "https://staging.clawrep.com"
