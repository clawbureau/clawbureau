/* eslint-disable */
// @ts-nocheck

// AUTO-GENERATED FILE. DO NOT EDIT.
// Regenerate via:
//   node services/clawverify/scripts/generate-schema-validators.mjs

"use strict";export const validateProofBundleEnvelopeV1 = validate20;const schema31 = {"$id":"https://schemas.clawbureau.org/claw.poh.proof_bundle_envelope.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"Proof Bundle Envelope v1","description":"SignedEnvelope wrapper for proof bundles (envelope_type = proof_bundle).","type":"object","additionalProperties":false,"required":["envelope_version","envelope_type","payload","payload_hash_b64u","hash_algorithm","signature_b64u","algorithm","signer_did","issued_at"],"properties":{"envelope_version":{"const":"1"},"envelope_type":{"const":"proof_bundle"},"payload":{"$ref":"https://schemas.clawbureau.org/claw.poh.proof_bundle.v1.json"},"payload_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8},"hash_algorithm":{"type":"string","enum":["SHA-256","BLAKE3"]},"signature_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8},"algorithm":{"type":"string","enum":["Ed25519"]},"signer_did":{"type":"string","pattern":"^did:","description":"Bundle signer DID. Must start with 'did:'."},"issued_at":{"type":"string","format":"date-time"}}};const func1 = Object.prototype.hasOwnProperty;const func2 = require("ajv/dist/runtime/ucs2length").default;const schema32 = {"$id":"https://schemas.clawbureau.org/claw.poh.proof_bundle.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"Proof Bundle v1","type":"object","additionalProperties":false,"required":["bundle_version","bundle_id","agent_did"],"properties":{"bundle_version":{"const":"1","description":"Proof bundle payload version."},"bundle_id":{"type":"string","minLength":1,"description":"Unique identifier for this proof bundle payload."},"agent_did":{"type":"string","pattern":"^did:","description":"Agent DID. Must start with 'did:'."},"urm":{"type":"object","description":"Universal Resource Manifest (URM) reference. The URM document itself is content-addressed and can be fetched separately.","additionalProperties":false,"required":["urm_version","urm_id","resource_type","resource_hash_b64u"],"properties":{"urm_version":{"const":"1"},"urm_id":{"type":"string","minLength":1},"resource_type":{"type":"string","minLength":1},"resource_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"SHA-256 hash of the URM bytes, base64url (no padding)."},"metadata":{"type":"object","description":"Optional URM reference metadata."}}},"event_chain":{"type":"array","minItems":1,"description":"Hash-chained event log entries for this run (tamper-evident).","items":{"type":"object","additionalProperties":false,"required":["event_id","run_id","event_type","timestamp","payload_hash_b64u","prev_hash_b64u","event_hash_b64u"],"properties":{"event_id":{"type":"string","minLength":1},"run_id":{"type":"string","minLength":1},"event_type":{"type":"string","minLength":1},"timestamp":{"type":"string","format":"date-time"},"payload_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Hash of the event payload bytes, base64url (no padding)."},"prev_hash_b64u":{"type":["string","null"],"pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Previous event hash (base64url) or null for the first event."},"event_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Hash of the canonical event header, base64url (no padding)."}}}},"receipts":{"type":"array","minItems":1,"description":"Gateway receipt envelopes (proof-of-harness). Expected to be SignedEnvelope<GatewayReceiptPayload>.","items":{"type":"object","additionalProperties":false,"required":["envelope_version","envelope_type","payload","payload_hash_b64u","hash_algorithm","signature_b64u","algorithm","signer_did","issued_at"],"properties":{"envelope_version":{"const":"1"},"envelope_type":{"const":"gateway_receipt"},"payload":{"type":"object","additionalProperties":false,"required":["receipt_version","receipt_id","gateway_id","provider","model","request_hash_b64u","response_hash_b64u","tokens_input","tokens_output","latency_ms","timestamp"],"properties":{"receipt_version":{"const":"1"},"receipt_id":{"type":"string","minLength":1},"gateway_id":{"type":"string","minLength":1},"provider":{"type":"string","minLength":1},"model":{"type":"string","minLength":1},"request_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"SHA-256 hash of request bytes, base64url (no padding)."},"response_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"SHA-256 hash of response bytes, base64url (no padding)."},"tokens_input":{"type":"number","minimum":0},"tokens_output":{"type":"number","minimum":0},"latency_ms":{"type":"number","minimum":0},"timestamp":{"type":"string","format":"date-time"},"binding":{"$ref":"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json"},"metadata":{"type":"object"}}},"payload_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8},"hash_algorithm":{"type":"string","enum":["SHA-256","BLAKE3"]},"signature_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8},"algorithm":{"type":"string","enum":["Ed25519"]},"signer_did":{"type":"string","pattern":"^did:","description":"Receipt signer DID. Must start with 'did:'."},"issued_at":{"type":"string","format":"date-time"}}}},"attestations":{"type":"array","minItems":1,"description":"Attestation references used for trust tier computation.","items":{"type":"object","additionalProperties":false,"required":["attestation_id","attestation_type","attester_did","subject_did","signature_b64u"],"properties":{"attestation_id":{"type":"string","minLength":1},"attestation_type":{"type":"string","enum":["owner","third_party"]},"attester_did":{"type":"string","pattern":"^did:"},"subject_did":{"type":"string","pattern":"^did:"},"expires_at":{"type":"string","format":"date-time"},"signature_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8}}}},"metadata":{"type":"object","description":"Optional bundle metadata. SHOULD include harness info for auditability.","properties":{"harness":{"type":"object","description":"Harness metadata identifying the runtime that produced this bundle.","required":["id","version"],"properties":{"id":{"type":"string","minLength":1,"description":"Harness identifier (e.g. openclaw, pi, claude-code, codex, opencode, factory-droid, script)."},"version":{"type":"string","minLength":1,"description":"Harness version string."},"runtime":{"type":"string","description":"Execution environment (host, docker, clawea, tee)."},"config_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Hash of the harness config inputs, base64url (no padding)."}}}}}},"anyOf":[{"required":["urm"]},{"required":["event_chain"]},{"required":["receipts"]},{"required":["attestations"]}]};const schema33 = {"$id":"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"Receipt Binding v1","description":"Standard binding fields that tie a gateway receipt to a specific run, event, and idempotency scope. Harnesses attach these via HTTP headers (X-Run-Id, X-Event-Hash, X-Idempotency-Key) when routing LLM calls through clawproxy.","type":"object","additionalProperties":false,"properties":{"run_id":{"type":"string","minLength":1,"description":"Run identifier correlating this receipt to a specific agent run. Sent via X-Run-Id header."},"event_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Hash of the event in the chain that triggered this LLM call (base64url). Sent via X-Event-Hash header."},"nonce":{"type":"string","minLength":1,"description":"Idempotency nonce to prevent duplicate receipt issuance. Sent via X-Idempotency-Key header."},"policy_hash":{"type":"string","minLength":1,"description":"Work Policy Contract hash, injected by the proxy when a policy is enforced."},"token_scope_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Hash of the scoped token (CST) claims, injected by the proxy when a CST is validated."}}};const pattern4 = new RegExp("^did:", "u");const pattern5 = new RegExp("^[A-Za-z0-9_-]+$", "u");const formats0 = require("ajv-formats/dist/formats").fullFormats["date-time"];function validate21(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="https://schemas.clawbureau.org/claw.poh.proof_bundle.v1.json" */;let vErrors = null;let errors = 0;const evaluated0 = validate21.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}const _errs1 = errors;let valid0 = false;const _errs2 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.urm === undefined){const err0 = {instancePath,schemaPath:"#/anyOf/0/required",keyword:"required",params:{missingProperty: "urm"},message:"must have required property '"+"urm"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}}var _valid0 = _errs2 === errors;valid0 = valid0 || _valid0;const _errs3 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.event_chain === undefined){const err1 = {instancePath,schemaPath:"#/anyOf/1/required",keyword:"required",params:{missingProperty: "event_chain"},message:"must have required property '"+"event_chain"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}}var _valid0 = _errs3 === errors;valid0 = valid0 || _valid0;const _errs4 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.receipts === undefined){const err2 = {instancePath,schemaPath:"#/anyOf/2/required",keyword:"required",params:{missingProperty: "receipts"},message:"must have required property '"+"receipts"+"'"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}}var _valid0 = _errs4 === errors;valid0 = valid0 || _valid0;const _errs5 = errors;if(data && typeof data == "object" && !Array.isArray(data)){if(data.attestations === undefined){const err3 = {instancePath,schemaPath:"#/anyOf/3/required",keyword:"required",params:{missingProperty: "attestations"},message:"must have required property '"+"attestations"+"'"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}}var _valid0 = _errs5 === errors;valid0 = valid0 || _valid0;if(!valid0){const err4 = {instancePath,schemaPath:"#/anyOf",keyword:"anyOf",params:{},message:"must match a schema in anyOf"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}else {errors = _errs1;if(vErrors !== null){if(_errs1){vErrors.length = _errs1;}else {vErrors = null;}}}if(data && typeof data == "object" && !Array.isArray(data)){if(data.bundle_version === undefined){const err5 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "bundle_version"},message:"must have required property '"+"bundle_version"+"'"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data.bundle_id === undefined){const err6 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "bundle_id"},message:"must have required property '"+"bundle_id"+"'"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data.agent_did === undefined){const err7 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "agent_did"},message:"must have required property '"+"agent_did"+"'"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key0 in data){if(!((((((((key0 === "bundle_version") || (key0 === "bundle_id")) || (key0 === "agent_did")) || (key0 === "urm")) || (key0 === "event_chain")) || (key0 === "receipts")) || (key0 === "attestations")) || (key0 === "metadata"))){const err8 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.bundle_version !== undefined){if("1" !== data.bundle_version){const err9 = {instancePath:instancePath+"/bundle_version",schemaPath:"#/properties/bundle_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.bundle_id !== undefined){let data1 = data.bundle_id;if(typeof data1 === "string"){if(func2(data1) < 1){const err10 = {instancePath:instancePath+"/bundle_id",schemaPath:"#/properties/bundle_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}else {const err11 = {instancePath:instancePath+"/bundle_id",schemaPath:"#/properties/bundle_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.agent_did !== undefined){let data2 = data.agent_did;if(typeof data2 === "string"){if(!pattern4.test(data2)){const err12 = {instancePath:instancePath+"/agent_did",schemaPath:"#/properties/agent_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}else {const err13 = {instancePath:instancePath+"/agent_did",schemaPath:"#/properties/agent_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.urm !== undefined){let data3 = data.urm;if(data3 && typeof data3 == "object" && !Array.isArray(data3)){if(data3.urm_version === undefined){const err14 = {instancePath:instancePath+"/urm",schemaPath:"#/properties/urm/required",keyword:"required",params:{missingProperty: "urm_version"},message:"must have required property '"+"urm_version"+"'"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}if(data3.urm_id === undefined){const err15 = {instancePath:instancePath+"/urm",schemaPath:"#/properties/urm/required",keyword:"required",params:{missingProperty: "urm_id"},message:"must have required property '"+"urm_id"+"'"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(data3.resource_type === undefined){const err16 = {instancePath:instancePath+"/urm",schemaPath:"#/properties/urm/required",keyword:"required",params:{missingProperty: "resource_type"},message:"must have required property '"+"resource_type"+"'"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}if(data3.resource_hash_b64u === undefined){const err17 = {instancePath:instancePath+"/urm",schemaPath:"#/properties/urm/required",keyword:"required",params:{missingProperty: "resource_hash_b64u"},message:"must have required property '"+"resource_hash_b64u"+"'"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}for(const key1 in data3){if(!(((((key1 === "urm_version") || (key1 === "urm_id")) || (key1 === "resource_type")) || (key1 === "resource_hash_b64u")) || (key1 === "metadata"))){const err18 = {instancePath:instancePath+"/urm",schemaPath:"#/properties/urm/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data3.urm_version !== undefined){if("1" !== data3.urm_version){const err19 = {instancePath:instancePath+"/urm/urm_version",schemaPath:"#/properties/urm/properties/urm_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data3.urm_id !== undefined){let data5 = data3.urm_id;if(typeof data5 === "string"){if(func2(data5) < 1){const err20 = {instancePath:instancePath+"/urm/urm_id",schemaPath:"#/properties/urm/properties/urm_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}else {const err21 = {instancePath:instancePath+"/urm/urm_id",schemaPath:"#/properties/urm/properties/urm_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data3.resource_type !== undefined){let data6 = data3.resource_type;if(typeof data6 === "string"){if(func2(data6) < 1){const err22 = {instancePath:instancePath+"/urm/resource_type",schemaPath:"#/properties/urm/properties/resource_type/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}else {const err23 = {instancePath:instancePath+"/urm/resource_type",schemaPath:"#/properties/urm/properties/resource_type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data3.resource_hash_b64u !== undefined){let data7 = data3.resource_hash_b64u;if(typeof data7 === "string"){if(func2(data7) < 8){const err24 = {instancePath:instancePath+"/urm/resource_hash_b64u",schemaPath:"#/properties/urm/properties/resource_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}if(!pattern5.test(data7)){const err25 = {instancePath:instancePath+"/urm/resource_hash_b64u",schemaPath:"#/properties/urm/properties/resource_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}else {const err26 = {instancePath:instancePath+"/urm/resource_hash_b64u",schemaPath:"#/properties/urm/properties/resource_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data3.metadata !== undefined){let data8 = data3.metadata;if(!(data8 && typeof data8 == "object" && !Array.isArray(data8))){const err27 = {instancePath:instancePath+"/urm/metadata",schemaPath:"#/properties/urm/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath:instancePath+"/urm",schemaPath:"#/properties/urm/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.event_chain !== undefined){let data9 = data.event_chain;if(Array.isArray(data9)){if(data9.length < 1){const err29 = {instancePath:instancePath+"/event_chain",schemaPath:"#/properties/event_chain/minItems",keyword:"minItems",params:{limit: 1},message:"must NOT have fewer than 1 items"};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}const len0 = data9.length;for(let i0=0; i0<len0; i0++){let data10 = data9[i0];if(data10 && typeof data10 == "object" && !Array.isArray(data10)){if(data10.event_id === undefined){const err30 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/required",keyword:"required",params:{missingProperty: "event_id"},message:"must have required property '"+"event_id"+"'"};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}if(data10.run_id === undefined){const err31 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/required",keyword:"required",params:{missingProperty: "run_id"},message:"must have required property '"+"run_id"+"'"};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}if(data10.event_type === undefined){const err32 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/required",keyword:"required",params:{missingProperty: "event_type"},message:"must have required property '"+"event_type"+"'"};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}if(data10.timestamp === undefined){const err33 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/required",keyword:"required",params:{missingProperty: "timestamp"},message:"must have required property '"+"timestamp"+"'"};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}if(data10.payload_hash_b64u === undefined){const err34 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/required",keyword:"required",params:{missingProperty: "payload_hash_b64u"},message:"must have required property '"+"payload_hash_b64u"+"'"};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}if(data10.prev_hash_b64u === undefined){const err35 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/required",keyword:"required",params:{missingProperty: "prev_hash_b64u"},message:"must have required property '"+"prev_hash_b64u"+"'"};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}if(data10.event_hash_b64u === undefined){const err36 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/required",keyword:"required",params:{missingProperty: "event_hash_b64u"},message:"must have required property '"+"event_hash_b64u"+"'"};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}for(const key2 in data10){if(!(((((((key2 === "event_id") || (key2 === "run_id")) || (key2 === "event_type")) || (key2 === "timestamp")) || (key2 === "payload_hash_b64u")) || (key2 === "prev_hash_b64u")) || (key2 === "event_hash_b64u"))){const err37 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}if(data10.event_id !== undefined){let data11 = data10.event_id;if(typeof data11 === "string"){if(func2(data11) < 1){const err38 = {instancePath:instancePath+"/event_chain/" + i0+"/event_id",schemaPath:"#/properties/event_chain/items/properties/event_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}else {const err39 = {instancePath:instancePath+"/event_chain/" + i0+"/event_id",schemaPath:"#/properties/event_chain/items/properties/event_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data10.run_id !== undefined){let data12 = data10.run_id;if(typeof data12 === "string"){if(func2(data12) < 1){const err40 = {instancePath:instancePath+"/event_chain/" + i0+"/run_id",schemaPath:"#/properties/event_chain/items/properties/run_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}else {const err41 = {instancePath:instancePath+"/event_chain/" + i0+"/run_id",schemaPath:"#/properties/event_chain/items/properties/run_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}if(data10.event_type !== undefined){let data13 = data10.event_type;if(typeof data13 === "string"){if(func2(data13) < 1){const err42 = {instancePath:instancePath+"/event_chain/" + i0+"/event_type",schemaPath:"#/properties/event_chain/items/properties/event_type/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}else {const err43 = {instancePath:instancePath+"/event_chain/" + i0+"/event_type",schemaPath:"#/properties/event_chain/items/properties/event_type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}if(data10.timestamp !== undefined){let data14 = data10.timestamp;if(typeof data14 === "string"){if(!(formats0.validate(data14))){const err44 = {instancePath:instancePath+"/event_chain/" + i0+"/timestamp",schemaPath:"#/properties/event_chain/items/properties/timestamp/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}else {const err45 = {instancePath:instancePath+"/event_chain/" + i0+"/timestamp",schemaPath:"#/properties/event_chain/items/properties/timestamp/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}if(data10.payload_hash_b64u !== undefined){let data15 = data10.payload_hash_b64u;if(typeof data15 === "string"){if(func2(data15) < 8){const err46 = {instancePath:instancePath+"/event_chain/" + i0+"/payload_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/payload_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}if(!pattern5.test(data15)){const err47 = {instancePath:instancePath+"/event_chain/" + i0+"/payload_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/payload_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}else {const err48 = {instancePath:instancePath+"/event_chain/" + i0+"/payload_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/payload_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}}if(data10.prev_hash_b64u !== undefined){let data16 = data10.prev_hash_b64u;if((typeof data16 !== "string") && (data16 !== null)){const err49 = {instancePath:instancePath+"/event_chain/" + i0+"/prev_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/prev_hash_b64u/type",keyword:"type",params:{type: schema32.properties.event_chain.items.properties.prev_hash_b64u.type},message:"must be string,null"};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}if(typeof data16 === "string"){if(func2(data16) < 8){const err50 = {instancePath:instancePath+"/event_chain/" + i0+"/prev_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/prev_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}if(!pattern5.test(data16)){const err51 = {instancePath:instancePath+"/event_chain/" + i0+"/prev_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/prev_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}}if(data10.event_hash_b64u !== undefined){let data17 = data10.event_hash_b64u;if(typeof data17 === "string"){if(func2(data17) < 8){const err52 = {instancePath:instancePath+"/event_chain/" + i0+"/event_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/event_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}if(!pattern5.test(data17)){const err53 = {instancePath:instancePath+"/event_chain/" + i0+"/event_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/event_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}}else {const err54 = {instancePath:instancePath+"/event_chain/" + i0+"/event_hash_b64u",schemaPath:"#/properties/event_chain/items/properties/event_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}}else {const err55 = {instancePath:instancePath+"/event_chain/" + i0,schemaPath:"#/properties/event_chain/items/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}}else {const err56 = {instancePath:instancePath+"/event_chain",schemaPath:"#/properties/event_chain/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}if(data.receipts !== undefined){let data18 = data.receipts;if(Array.isArray(data18)){if(data18.length < 1){const err57 = {instancePath:instancePath+"/receipts",schemaPath:"#/properties/receipts/minItems",keyword:"minItems",params:{limit: 1},message:"must NOT have fewer than 1 items"};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}const len1 = data18.length;for(let i1=0; i1<len1; i1++){let data19 = data18[i1];if(data19 && typeof data19 == "object" && !Array.isArray(data19)){if(data19.envelope_version === undefined){const err58 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "envelope_version"},message:"must have required property '"+"envelope_version"+"'"};if(vErrors === null){vErrors = [err58];}else {vErrors.push(err58);}errors++;}if(data19.envelope_type === undefined){const err59 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "envelope_type"},message:"must have required property '"+"envelope_type"+"'"};if(vErrors === null){vErrors = [err59];}else {vErrors.push(err59);}errors++;}if(data19.payload === undefined){const err60 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'"};if(vErrors === null){vErrors = [err60];}else {vErrors.push(err60);}errors++;}if(data19.payload_hash_b64u === undefined){const err61 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "payload_hash_b64u"},message:"must have required property '"+"payload_hash_b64u"+"'"};if(vErrors === null){vErrors = [err61];}else {vErrors.push(err61);}errors++;}if(data19.hash_algorithm === undefined){const err62 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "hash_algorithm"},message:"must have required property '"+"hash_algorithm"+"'"};if(vErrors === null){vErrors = [err62];}else {vErrors.push(err62);}errors++;}if(data19.signature_b64u === undefined){const err63 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "signature_b64u"},message:"must have required property '"+"signature_b64u"+"'"};if(vErrors === null){vErrors = [err63];}else {vErrors.push(err63);}errors++;}if(data19.algorithm === undefined){const err64 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "algorithm"},message:"must have required property '"+"algorithm"+"'"};if(vErrors === null){vErrors = [err64];}else {vErrors.push(err64);}errors++;}if(data19.signer_did === undefined){const err65 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "signer_did"},message:"must have required property '"+"signer_did"+"'"};if(vErrors === null){vErrors = [err65];}else {vErrors.push(err65);}errors++;}if(data19.issued_at === undefined){const err66 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/required",keyword:"required",params:{missingProperty: "issued_at"},message:"must have required property '"+"issued_at"+"'"};if(vErrors === null){vErrors = [err66];}else {vErrors.push(err66);}errors++;}for(const key3 in data19){if(!(func1.call(schema32.properties.receipts.items.properties, key3))){const err67 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err67];}else {vErrors.push(err67);}errors++;}}if(data19.envelope_version !== undefined){if("1" !== data19.envelope_version){const err68 = {instancePath:instancePath+"/receipts/" + i1+"/envelope_version",schemaPath:"#/properties/receipts/items/properties/envelope_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err68];}else {vErrors.push(err68);}errors++;}}if(data19.envelope_type !== undefined){if("gateway_receipt" !== data19.envelope_type){const err69 = {instancePath:instancePath+"/receipts/" + i1+"/envelope_type",schemaPath:"#/properties/receipts/items/properties/envelope_type/const",keyword:"const",params:{allowedValue: "gateway_receipt"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err69];}else {vErrors.push(err69);}errors++;}}if(data19.payload !== undefined){let data22 = data19.payload;if(data22 && typeof data22 == "object" && !Array.isArray(data22)){if(data22.receipt_version === undefined){const err70 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "receipt_version"},message:"must have required property '"+"receipt_version"+"'"};if(vErrors === null){vErrors = [err70];}else {vErrors.push(err70);}errors++;}if(data22.receipt_id === undefined){const err71 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "receipt_id"},message:"must have required property '"+"receipt_id"+"'"};if(vErrors === null){vErrors = [err71];}else {vErrors.push(err71);}errors++;}if(data22.gateway_id === undefined){const err72 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "gateway_id"},message:"must have required property '"+"gateway_id"+"'"};if(vErrors === null){vErrors = [err72];}else {vErrors.push(err72);}errors++;}if(data22.provider === undefined){const err73 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "provider"},message:"must have required property '"+"provider"+"'"};if(vErrors === null){vErrors = [err73];}else {vErrors.push(err73);}errors++;}if(data22.model === undefined){const err74 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "model"},message:"must have required property '"+"model"+"'"};if(vErrors === null){vErrors = [err74];}else {vErrors.push(err74);}errors++;}if(data22.request_hash_b64u === undefined){const err75 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "request_hash_b64u"},message:"must have required property '"+"request_hash_b64u"+"'"};if(vErrors === null){vErrors = [err75];}else {vErrors.push(err75);}errors++;}if(data22.response_hash_b64u === undefined){const err76 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "response_hash_b64u"},message:"must have required property '"+"response_hash_b64u"+"'"};if(vErrors === null){vErrors = [err76];}else {vErrors.push(err76);}errors++;}if(data22.tokens_input === undefined){const err77 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "tokens_input"},message:"must have required property '"+"tokens_input"+"'"};if(vErrors === null){vErrors = [err77];}else {vErrors.push(err77);}errors++;}if(data22.tokens_output === undefined){const err78 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "tokens_output"},message:"must have required property '"+"tokens_output"+"'"};if(vErrors === null){vErrors = [err78];}else {vErrors.push(err78);}errors++;}if(data22.latency_ms === undefined){const err79 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "latency_ms"},message:"must have required property '"+"latency_ms"+"'"};if(vErrors === null){vErrors = [err79];}else {vErrors.push(err79);}errors++;}if(data22.timestamp === undefined){const err80 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/required",keyword:"required",params:{missingProperty: "timestamp"},message:"must have required property '"+"timestamp"+"'"};if(vErrors === null){vErrors = [err80];}else {vErrors.push(err80);}errors++;}for(const key4 in data22){if(!(func1.call(schema32.properties.receipts.items.properties.payload.properties, key4))){const err81 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key4},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err81];}else {vErrors.push(err81);}errors++;}}if(data22.receipt_version !== undefined){if("1" !== data22.receipt_version){const err82 = {instancePath:instancePath+"/receipts/" + i1+"/payload/receipt_version",schemaPath:"#/properties/receipts/items/properties/payload/properties/receipt_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err82];}else {vErrors.push(err82);}errors++;}}if(data22.receipt_id !== undefined){let data24 = data22.receipt_id;if(typeof data24 === "string"){if(func2(data24) < 1){const err83 = {instancePath:instancePath+"/receipts/" + i1+"/payload/receipt_id",schemaPath:"#/properties/receipts/items/properties/payload/properties/receipt_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err83];}else {vErrors.push(err83);}errors++;}}else {const err84 = {instancePath:instancePath+"/receipts/" + i1+"/payload/receipt_id",schemaPath:"#/properties/receipts/items/properties/payload/properties/receipt_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err84];}else {vErrors.push(err84);}errors++;}}if(data22.gateway_id !== undefined){let data25 = data22.gateway_id;if(typeof data25 === "string"){if(func2(data25) < 1){const err85 = {instancePath:instancePath+"/receipts/" + i1+"/payload/gateway_id",schemaPath:"#/properties/receipts/items/properties/payload/properties/gateway_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err85];}else {vErrors.push(err85);}errors++;}}else {const err86 = {instancePath:instancePath+"/receipts/" + i1+"/payload/gateway_id",schemaPath:"#/properties/receipts/items/properties/payload/properties/gateway_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err86];}else {vErrors.push(err86);}errors++;}}if(data22.provider !== undefined){let data26 = data22.provider;if(typeof data26 === "string"){if(func2(data26) < 1){const err87 = {instancePath:instancePath+"/receipts/" + i1+"/payload/provider",schemaPath:"#/properties/receipts/items/properties/payload/properties/provider/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err87];}else {vErrors.push(err87);}errors++;}}else {const err88 = {instancePath:instancePath+"/receipts/" + i1+"/payload/provider",schemaPath:"#/properties/receipts/items/properties/payload/properties/provider/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err88];}else {vErrors.push(err88);}errors++;}}if(data22.model !== undefined){let data27 = data22.model;if(typeof data27 === "string"){if(func2(data27) < 1){const err89 = {instancePath:instancePath+"/receipts/" + i1+"/payload/model",schemaPath:"#/properties/receipts/items/properties/payload/properties/model/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err89];}else {vErrors.push(err89);}errors++;}}else {const err90 = {instancePath:instancePath+"/receipts/" + i1+"/payload/model",schemaPath:"#/properties/receipts/items/properties/payload/properties/model/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err90];}else {vErrors.push(err90);}errors++;}}if(data22.request_hash_b64u !== undefined){let data28 = data22.request_hash_b64u;if(typeof data28 === "string"){if(func2(data28) < 8){const err91 = {instancePath:instancePath+"/receipts/" + i1+"/payload/request_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload/properties/request_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err91];}else {vErrors.push(err91);}errors++;}if(!pattern5.test(data28)){const err92 = {instancePath:instancePath+"/receipts/" + i1+"/payload/request_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload/properties/request_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err92];}else {vErrors.push(err92);}errors++;}}else {const err93 = {instancePath:instancePath+"/receipts/" + i1+"/payload/request_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload/properties/request_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err93];}else {vErrors.push(err93);}errors++;}}if(data22.response_hash_b64u !== undefined){let data29 = data22.response_hash_b64u;if(typeof data29 === "string"){if(func2(data29) < 8){const err94 = {instancePath:instancePath+"/receipts/" + i1+"/payload/response_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload/properties/response_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err94];}else {vErrors.push(err94);}errors++;}if(!pattern5.test(data29)){const err95 = {instancePath:instancePath+"/receipts/" + i1+"/payload/response_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload/properties/response_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err95];}else {vErrors.push(err95);}errors++;}}else {const err96 = {instancePath:instancePath+"/receipts/" + i1+"/payload/response_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload/properties/response_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err96];}else {vErrors.push(err96);}errors++;}}if(data22.tokens_input !== undefined){let data30 = data22.tokens_input;if(typeof data30 == "number"){if(data30 < 0 || isNaN(data30)){const err97 = {instancePath:instancePath+"/receipts/" + i1+"/payload/tokens_input",schemaPath:"#/properties/receipts/items/properties/payload/properties/tokens_input/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err97];}else {vErrors.push(err97);}errors++;}}else {const err98 = {instancePath:instancePath+"/receipts/" + i1+"/payload/tokens_input",schemaPath:"#/properties/receipts/items/properties/payload/properties/tokens_input/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err98];}else {vErrors.push(err98);}errors++;}}if(data22.tokens_output !== undefined){let data31 = data22.tokens_output;if(typeof data31 == "number"){if(data31 < 0 || isNaN(data31)){const err99 = {instancePath:instancePath+"/receipts/" + i1+"/payload/tokens_output",schemaPath:"#/properties/receipts/items/properties/payload/properties/tokens_output/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err99];}else {vErrors.push(err99);}errors++;}}else {const err100 = {instancePath:instancePath+"/receipts/" + i1+"/payload/tokens_output",schemaPath:"#/properties/receipts/items/properties/payload/properties/tokens_output/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err100];}else {vErrors.push(err100);}errors++;}}if(data22.latency_ms !== undefined){let data32 = data22.latency_ms;if(typeof data32 == "number"){if(data32 < 0 || isNaN(data32)){const err101 = {instancePath:instancePath+"/receipts/" + i1+"/payload/latency_ms",schemaPath:"#/properties/receipts/items/properties/payload/properties/latency_ms/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err101];}else {vErrors.push(err101);}errors++;}}else {const err102 = {instancePath:instancePath+"/receipts/" + i1+"/payload/latency_ms",schemaPath:"#/properties/receipts/items/properties/payload/properties/latency_ms/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err102];}else {vErrors.push(err102);}errors++;}}if(data22.timestamp !== undefined){let data33 = data22.timestamp;if(typeof data33 === "string"){if(!(formats0.validate(data33))){const err103 = {instancePath:instancePath+"/receipts/" + i1+"/payload/timestamp",schemaPath:"#/properties/receipts/items/properties/payload/properties/timestamp/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err103];}else {vErrors.push(err103);}errors++;}}else {const err104 = {instancePath:instancePath+"/receipts/" + i1+"/payload/timestamp",schemaPath:"#/properties/receipts/items/properties/payload/properties/timestamp/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err104];}else {vErrors.push(err104);}errors++;}}if(data22.binding !== undefined){let data34 = data22.binding;if(data34 && typeof data34 == "object" && !Array.isArray(data34)){for(const key5 in data34){if(!(((((key5 === "run_id") || (key5 === "event_hash_b64u")) || (key5 === "nonce")) || (key5 === "policy_hash")) || (key5 === "token_scope_hash_b64u"))){const err105 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key5},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err105];}else {vErrors.push(err105);}errors++;}}if(data34.run_id !== undefined){let data35 = data34.run_id;if(typeof data35 === "string"){if(func2(data35) < 1){const err106 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/run_id",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/run_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err106];}else {vErrors.push(err106);}errors++;}}else {const err107 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/run_id",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/run_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err107];}else {vErrors.push(err107);}errors++;}}if(data34.event_hash_b64u !== undefined){let data36 = data34.event_hash_b64u;if(typeof data36 === "string"){if(func2(data36) < 8){const err108 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/event_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/event_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err108];}else {vErrors.push(err108);}errors++;}if(!pattern5.test(data36)){const err109 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/event_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/event_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err109];}else {vErrors.push(err109);}errors++;}}else {const err110 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/event_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/event_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err110];}else {vErrors.push(err110);}errors++;}}if(data34.nonce !== undefined){let data37 = data34.nonce;if(typeof data37 === "string"){if(func2(data37) < 1){const err111 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/nonce",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/nonce/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err111];}else {vErrors.push(err111);}errors++;}}else {const err112 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/nonce",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/nonce/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err112];}else {vErrors.push(err112);}errors++;}}if(data34.policy_hash !== undefined){let data38 = data34.policy_hash;if(typeof data38 === "string"){if(func2(data38) < 1){const err113 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/policy_hash",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/policy_hash/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err113];}else {vErrors.push(err113);}errors++;}}else {const err114 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/policy_hash",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/policy_hash/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err114];}else {vErrors.push(err114);}errors++;}}if(data34.token_scope_hash_b64u !== undefined){let data39 = data34.token_scope_hash_b64u;if(typeof data39 === "string"){if(func2(data39) < 8){const err115 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/token_scope_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/token_scope_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err115];}else {vErrors.push(err115);}errors++;}if(!pattern5.test(data39)){const err116 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/token_scope_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/token_scope_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err116];}else {vErrors.push(err116);}errors++;}}else {const err117 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding/token_scope_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/token_scope_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err117];}else {vErrors.push(err117);}errors++;}}}else {const err118 = {instancePath:instancePath+"/receipts/" + i1+"/payload/binding",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err118];}else {vErrors.push(err118);}errors++;}}if(data22.metadata !== undefined){let data40 = data22.metadata;if(!(data40 && typeof data40 == "object" && !Array.isArray(data40))){const err119 = {instancePath:instancePath+"/receipts/" + i1+"/payload/metadata",schemaPath:"#/properties/receipts/items/properties/payload/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err119];}else {vErrors.push(err119);}errors++;}}}else {const err120 = {instancePath:instancePath+"/receipts/" + i1+"/payload",schemaPath:"#/properties/receipts/items/properties/payload/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err120];}else {vErrors.push(err120);}errors++;}}if(data19.payload_hash_b64u !== undefined){let data41 = data19.payload_hash_b64u;if(typeof data41 === "string"){if(func2(data41) < 8){const err121 = {instancePath:instancePath+"/receipts/" + i1+"/payload_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err121];}else {vErrors.push(err121);}errors++;}if(!pattern5.test(data41)){const err122 = {instancePath:instancePath+"/receipts/" + i1+"/payload_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err122];}else {vErrors.push(err122);}errors++;}}else {const err123 = {instancePath:instancePath+"/receipts/" + i1+"/payload_hash_b64u",schemaPath:"#/properties/receipts/items/properties/payload_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err123];}else {vErrors.push(err123);}errors++;}}if(data19.hash_algorithm !== undefined){let data42 = data19.hash_algorithm;if(typeof data42 !== "string"){const err124 = {instancePath:instancePath+"/receipts/" + i1+"/hash_algorithm",schemaPath:"#/properties/receipts/items/properties/hash_algorithm/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err124];}else {vErrors.push(err124);}errors++;}if(!((data42 === "SHA-256") || (data42 === "BLAKE3"))){const err125 = {instancePath:instancePath+"/receipts/" + i1+"/hash_algorithm",schemaPath:"#/properties/receipts/items/properties/hash_algorithm/enum",keyword:"enum",params:{allowedValues: schema32.properties.receipts.items.properties.hash_algorithm.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err125];}else {vErrors.push(err125);}errors++;}}if(data19.signature_b64u !== undefined){let data43 = data19.signature_b64u;if(typeof data43 === "string"){if(func2(data43) < 8){const err126 = {instancePath:instancePath+"/receipts/" + i1+"/signature_b64u",schemaPath:"#/properties/receipts/items/properties/signature_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err126];}else {vErrors.push(err126);}errors++;}if(!pattern5.test(data43)){const err127 = {instancePath:instancePath+"/receipts/" + i1+"/signature_b64u",schemaPath:"#/properties/receipts/items/properties/signature_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err127];}else {vErrors.push(err127);}errors++;}}else {const err128 = {instancePath:instancePath+"/receipts/" + i1+"/signature_b64u",schemaPath:"#/properties/receipts/items/properties/signature_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err128];}else {vErrors.push(err128);}errors++;}}if(data19.algorithm !== undefined){let data44 = data19.algorithm;if(typeof data44 !== "string"){const err129 = {instancePath:instancePath+"/receipts/" + i1+"/algorithm",schemaPath:"#/properties/receipts/items/properties/algorithm/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err129];}else {vErrors.push(err129);}errors++;}if(!(data44 === "Ed25519")){const err130 = {instancePath:instancePath+"/receipts/" + i1+"/algorithm",schemaPath:"#/properties/receipts/items/properties/algorithm/enum",keyword:"enum",params:{allowedValues: schema32.properties.receipts.items.properties.algorithm.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err130];}else {vErrors.push(err130);}errors++;}}if(data19.signer_did !== undefined){let data45 = data19.signer_did;if(typeof data45 === "string"){if(!pattern4.test(data45)){const err131 = {instancePath:instancePath+"/receipts/" + i1+"/signer_did",schemaPath:"#/properties/receipts/items/properties/signer_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err131];}else {vErrors.push(err131);}errors++;}}else {const err132 = {instancePath:instancePath+"/receipts/" + i1+"/signer_did",schemaPath:"#/properties/receipts/items/properties/signer_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err132];}else {vErrors.push(err132);}errors++;}}if(data19.issued_at !== undefined){let data46 = data19.issued_at;if(typeof data46 === "string"){if(!(formats0.validate(data46))){const err133 = {instancePath:instancePath+"/receipts/" + i1+"/issued_at",schemaPath:"#/properties/receipts/items/properties/issued_at/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err133];}else {vErrors.push(err133);}errors++;}}else {const err134 = {instancePath:instancePath+"/receipts/" + i1+"/issued_at",schemaPath:"#/properties/receipts/items/properties/issued_at/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err134];}else {vErrors.push(err134);}errors++;}}}else {const err135 = {instancePath:instancePath+"/receipts/" + i1,schemaPath:"#/properties/receipts/items/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err135];}else {vErrors.push(err135);}errors++;}}}else {const err136 = {instancePath:instancePath+"/receipts",schemaPath:"#/properties/receipts/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err136];}else {vErrors.push(err136);}errors++;}}if(data.attestations !== undefined){let data47 = data.attestations;if(Array.isArray(data47)){if(data47.length < 1){const err137 = {instancePath:instancePath+"/attestations",schemaPath:"#/properties/attestations/minItems",keyword:"minItems",params:{limit: 1},message:"must NOT have fewer than 1 items"};if(vErrors === null){vErrors = [err137];}else {vErrors.push(err137);}errors++;}const len2 = data47.length;for(let i2=0; i2<len2; i2++){let data48 = data47[i2];if(data48 && typeof data48 == "object" && !Array.isArray(data48)){if(data48.attestation_id === undefined){const err138 = {instancePath:instancePath+"/attestations/" + i2,schemaPath:"#/properties/attestations/items/required",keyword:"required",params:{missingProperty: "attestation_id"},message:"must have required property '"+"attestation_id"+"'"};if(vErrors === null){vErrors = [err138];}else {vErrors.push(err138);}errors++;}if(data48.attestation_type === undefined){const err139 = {instancePath:instancePath+"/attestations/" + i2,schemaPath:"#/properties/attestations/items/required",keyword:"required",params:{missingProperty: "attestation_type"},message:"must have required property '"+"attestation_type"+"'"};if(vErrors === null){vErrors = [err139];}else {vErrors.push(err139);}errors++;}if(data48.attester_did === undefined){const err140 = {instancePath:instancePath+"/attestations/" + i2,schemaPath:"#/properties/attestations/items/required",keyword:"required",params:{missingProperty: "attester_did"},message:"must have required property '"+"attester_did"+"'"};if(vErrors === null){vErrors = [err140];}else {vErrors.push(err140);}errors++;}if(data48.subject_did === undefined){const err141 = {instancePath:instancePath+"/attestations/" + i2,schemaPath:"#/properties/attestations/items/required",keyword:"required",params:{missingProperty: "subject_did"},message:"must have required property '"+"subject_did"+"'"};if(vErrors === null){vErrors = [err141];}else {vErrors.push(err141);}errors++;}if(data48.signature_b64u === undefined){const err142 = {instancePath:instancePath+"/attestations/" + i2,schemaPath:"#/properties/attestations/items/required",keyword:"required",params:{missingProperty: "signature_b64u"},message:"must have required property '"+"signature_b64u"+"'"};if(vErrors === null){vErrors = [err142];}else {vErrors.push(err142);}errors++;}for(const key6 in data48){if(!((((((key6 === "attestation_id") || (key6 === "attestation_type")) || (key6 === "attester_did")) || (key6 === "subject_did")) || (key6 === "expires_at")) || (key6 === "signature_b64u"))){const err143 = {instancePath:instancePath+"/attestations/" + i2,schemaPath:"#/properties/attestations/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key6},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err143];}else {vErrors.push(err143);}errors++;}}if(data48.attestation_id !== undefined){let data49 = data48.attestation_id;if(typeof data49 === "string"){if(func2(data49) < 1){const err144 = {instancePath:instancePath+"/attestations/" + i2+"/attestation_id",schemaPath:"#/properties/attestations/items/properties/attestation_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err144];}else {vErrors.push(err144);}errors++;}}else {const err145 = {instancePath:instancePath+"/attestations/" + i2+"/attestation_id",schemaPath:"#/properties/attestations/items/properties/attestation_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err145];}else {vErrors.push(err145);}errors++;}}if(data48.attestation_type !== undefined){let data50 = data48.attestation_type;if(typeof data50 !== "string"){const err146 = {instancePath:instancePath+"/attestations/" + i2+"/attestation_type",schemaPath:"#/properties/attestations/items/properties/attestation_type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err146];}else {vErrors.push(err146);}errors++;}if(!((data50 === "owner") || (data50 === "third_party"))){const err147 = {instancePath:instancePath+"/attestations/" + i2+"/attestation_type",schemaPath:"#/properties/attestations/items/properties/attestation_type/enum",keyword:"enum",params:{allowedValues: schema32.properties.attestations.items.properties.attestation_type.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err147];}else {vErrors.push(err147);}errors++;}}if(data48.attester_did !== undefined){let data51 = data48.attester_did;if(typeof data51 === "string"){if(!pattern4.test(data51)){const err148 = {instancePath:instancePath+"/attestations/" + i2+"/attester_did",schemaPath:"#/properties/attestations/items/properties/attester_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err148];}else {vErrors.push(err148);}errors++;}}else {const err149 = {instancePath:instancePath+"/attestations/" + i2+"/attester_did",schemaPath:"#/properties/attestations/items/properties/attester_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err149];}else {vErrors.push(err149);}errors++;}}if(data48.subject_did !== undefined){let data52 = data48.subject_did;if(typeof data52 === "string"){if(!pattern4.test(data52)){const err150 = {instancePath:instancePath+"/attestations/" + i2+"/subject_did",schemaPath:"#/properties/attestations/items/properties/subject_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err150];}else {vErrors.push(err150);}errors++;}}else {const err151 = {instancePath:instancePath+"/attestations/" + i2+"/subject_did",schemaPath:"#/properties/attestations/items/properties/subject_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err151];}else {vErrors.push(err151);}errors++;}}if(data48.expires_at !== undefined){let data53 = data48.expires_at;if(typeof data53 === "string"){if(!(formats0.validate(data53))){const err152 = {instancePath:instancePath+"/attestations/" + i2+"/expires_at",schemaPath:"#/properties/attestations/items/properties/expires_at/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err152];}else {vErrors.push(err152);}errors++;}}else {const err153 = {instancePath:instancePath+"/attestations/" + i2+"/expires_at",schemaPath:"#/properties/attestations/items/properties/expires_at/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err153];}else {vErrors.push(err153);}errors++;}}if(data48.signature_b64u !== undefined){let data54 = data48.signature_b64u;if(typeof data54 === "string"){if(func2(data54) < 8){const err154 = {instancePath:instancePath+"/attestations/" + i2+"/signature_b64u",schemaPath:"#/properties/attestations/items/properties/signature_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err154];}else {vErrors.push(err154);}errors++;}if(!pattern5.test(data54)){const err155 = {instancePath:instancePath+"/attestations/" + i2+"/signature_b64u",schemaPath:"#/properties/attestations/items/properties/signature_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err155];}else {vErrors.push(err155);}errors++;}}else {const err156 = {instancePath:instancePath+"/attestations/" + i2+"/signature_b64u",schemaPath:"#/properties/attestations/items/properties/signature_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err156];}else {vErrors.push(err156);}errors++;}}}else {const err157 = {instancePath:instancePath+"/attestations/" + i2,schemaPath:"#/properties/attestations/items/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err157];}else {vErrors.push(err157);}errors++;}}}else {const err158 = {instancePath:instancePath+"/attestations",schemaPath:"#/properties/attestations/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err158];}else {vErrors.push(err158);}errors++;}}if(data.metadata !== undefined){let data55 = data.metadata;if(data55 && typeof data55 == "object" && !Array.isArray(data55)){if(data55.harness !== undefined){let data56 = data55.harness;if(data56 && typeof data56 == "object" && !Array.isArray(data56)){if(data56.id === undefined){const err159 = {instancePath:instancePath+"/metadata/harness",schemaPath:"#/properties/metadata/properties/harness/required",keyword:"required",params:{missingProperty: "id"},message:"must have required property '"+"id"+"'"};if(vErrors === null){vErrors = [err159];}else {vErrors.push(err159);}errors++;}if(data56.version === undefined){const err160 = {instancePath:instancePath+"/metadata/harness",schemaPath:"#/properties/metadata/properties/harness/required",keyword:"required",params:{missingProperty: "version"},message:"must have required property '"+"version"+"'"};if(vErrors === null){vErrors = [err160];}else {vErrors.push(err160);}errors++;}if(data56.id !== undefined){let data57 = data56.id;if(typeof data57 === "string"){if(func2(data57) < 1){const err161 = {instancePath:instancePath+"/metadata/harness/id",schemaPath:"#/properties/metadata/properties/harness/properties/id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err161];}else {vErrors.push(err161);}errors++;}}else {const err162 = {instancePath:instancePath+"/metadata/harness/id",schemaPath:"#/properties/metadata/properties/harness/properties/id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err162];}else {vErrors.push(err162);}errors++;}}if(data56.version !== undefined){let data58 = data56.version;if(typeof data58 === "string"){if(func2(data58) < 1){const err163 = {instancePath:instancePath+"/metadata/harness/version",schemaPath:"#/properties/metadata/properties/harness/properties/version/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err163];}else {vErrors.push(err163);}errors++;}}else {const err164 = {instancePath:instancePath+"/metadata/harness/version",schemaPath:"#/properties/metadata/properties/harness/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err164];}else {vErrors.push(err164);}errors++;}}if(data56.runtime !== undefined){if(typeof data56.runtime !== "string"){const err165 = {instancePath:instancePath+"/metadata/harness/runtime",schemaPath:"#/properties/metadata/properties/harness/properties/runtime/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err165];}else {vErrors.push(err165);}errors++;}}if(data56.config_hash_b64u !== undefined){let data60 = data56.config_hash_b64u;if(typeof data60 === "string"){if(func2(data60) < 8){const err166 = {instancePath:instancePath+"/metadata/harness/config_hash_b64u",schemaPath:"#/properties/metadata/properties/harness/properties/config_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err166];}else {vErrors.push(err166);}errors++;}if(!pattern5.test(data60)){const err167 = {instancePath:instancePath+"/metadata/harness/config_hash_b64u",schemaPath:"#/properties/metadata/properties/harness/properties/config_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err167];}else {vErrors.push(err167);}errors++;}}else {const err168 = {instancePath:instancePath+"/metadata/harness/config_hash_b64u",schemaPath:"#/properties/metadata/properties/harness/properties/config_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err168];}else {vErrors.push(err168);}errors++;}}}else {const err169 = {instancePath:instancePath+"/metadata/harness",schemaPath:"#/properties/metadata/properties/harness/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err169];}else {vErrors.push(err169);}errors++;}}}else {const err170 = {instancePath:instancePath+"/metadata",schemaPath:"#/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err170];}else {vErrors.push(err170);}errors++;}}}else {const err171 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err171];}else {vErrors.push(err171);}errors++;}validate21.errors = vErrors;return errors === 0;}validate21.evaluated = {"props":true,"dynamicProps":false,"dynamicItems":false};function validate20(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="https://schemas.clawbureau.org/claw.poh.proof_bundle_envelope.v1.json" */;let vErrors = null;let errors = 0;const evaluated0 = validate20.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}if(data && typeof data == "object" && !Array.isArray(data)){if(data.envelope_version === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "envelope_version"},message:"must have required property '"+"envelope_version"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.envelope_type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "envelope_type"},message:"must have required property '"+"envelope_type"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.payload === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.payload_hash_b64u === undefined){const err3 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "payload_hash_b64u"},message:"must have required property '"+"payload_hash_b64u"+"'"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data.hash_algorithm === undefined){const err4 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "hash_algorithm"},message:"must have required property '"+"hash_algorithm"+"'"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data.signature_b64u === undefined){const err5 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "signature_b64u"},message:"must have required property '"+"signature_b64u"+"'"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data.algorithm === undefined){const err6 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "algorithm"},message:"must have required property '"+"algorithm"+"'"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data.signer_did === undefined){const err7 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "signer_did"},message:"must have required property '"+"signer_did"+"'"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data.issued_at === undefined){const err8 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "issued_at"},message:"must have required property '"+"issued_at"+"'"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key0 in data){if(!(func1.call(schema31.properties, key0))){const err9 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.envelope_version !== undefined){if("1" !== data.envelope_version){const err10 = {instancePath:instancePath+"/envelope_version",schemaPath:"#/properties/envelope_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.envelope_type !== undefined){if("proof_bundle" !== data.envelope_type){const err11 = {instancePath:instancePath+"/envelope_type",schemaPath:"#/properties/envelope_type/const",keyword:"const",params:{allowedValue: "proof_bundle"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.payload !== undefined){if(!(validate21(data.payload, {instancePath:instancePath+"/payload",parentData:data,parentDataProperty:"payload",rootData,dynamicAnchors}))){vErrors = vErrors === null ? validate21.errors : vErrors.concat(validate21.errors);errors = vErrors.length;}}if(data.payload_hash_b64u !== undefined){let data3 = data.payload_hash_b64u;if(typeof data3 === "string"){if(func2(data3) < 8){const err12 = {instancePath:instancePath+"/payload_hash_b64u",schemaPath:"#/properties/payload_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if(!pattern5.test(data3)){const err13 = {instancePath:instancePath+"/payload_hash_b64u",schemaPath:"#/properties/payload_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}else {const err14 = {instancePath:instancePath+"/payload_hash_b64u",schemaPath:"#/properties/payload_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.hash_algorithm !== undefined){let data4 = data.hash_algorithm;if(typeof data4 !== "string"){const err15 = {instancePath:instancePath+"/hash_algorithm",schemaPath:"#/properties/hash_algorithm/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(!((data4 === "SHA-256") || (data4 === "BLAKE3"))){const err16 = {instancePath:instancePath+"/hash_algorithm",schemaPath:"#/properties/hash_algorithm/enum",keyword:"enum",params:{allowedValues: schema31.properties.hash_algorithm.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.signature_b64u !== undefined){let data5 = data.signature_b64u;if(typeof data5 === "string"){if(func2(data5) < 8){const err17 = {instancePath:instancePath+"/signature_b64u",schemaPath:"#/properties/signature_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}if(!pattern5.test(data5)){const err18 = {instancePath:instancePath+"/signature_b64u",schemaPath:"#/properties/signature_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}else {const err19 = {instancePath:instancePath+"/signature_b64u",schemaPath:"#/properties/signature_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.algorithm !== undefined){let data6 = data.algorithm;if(typeof data6 !== "string"){const err20 = {instancePath:instancePath+"/algorithm",schemaPath:"#/properties/algorithm/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}if(!(data6 === "Ed25519")){const err21 = {instancePath:instancePath+"/algorithm",schemaPath:"#/properties/algorithm/enum",keyword:"enum",params:{allowedValues: schema31.properties.algorithm.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.signer_did !== undefined){let data7 = data.signer_did;if(typeof data7 === "string"){if(!pattern4.test(data7)){const err22 = {instancePath:instancePath+"/signer_did",schemaPath:"#/properties/signer_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}else {const err23 = {instancePath:instancePath+"/signer_did",schemaPath:"#/properties/signer_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.issued_at !== undefined){let data8 = data.issued_at;if(typeof data8 === "string"){if(!(formats0.validate(data8))){const err24 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}else {const err25 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}validate20.errors = vErrors;return errors === 0;}validate20.evaluated = {"props":true,"dynamicProps":false,"dynamicItems":false};export const validateGatewayReceiptEnvelopeV1 = validate23;const schema34 = {"$id":"https://schemas.clawbureau.org/claw.poh.gateway_receipt_envelope.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"Gateway Receipt Envelope v1","description":"SignedEnvelope wrapper for gateway receipts (envelope_type = gateway_receipt).","type":"object","additionalProperties":false,"required":["envelope_version","envelope_type","payload","payload_hash_b64u","hash_algorithm","signature_b64u","algorithm","signer_did","issued_at"],"properties":{"envelope_version":{"const":"1"},"envelope_type":{"const":"gateway_receipt"},"payload":{"$ref":"https://schemas.clawbureau.org/claw.poh.gateway_receipt.v1.json"},"payload_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8},"hash_algorithm":{"type":"string","enum":["SHA-256","BLAKE3"]},"signature_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8},"algorithm":{"type":"string","enum":["Ed25519"]},"signer_did":{"type":"string","pattern":"^did:","description":"Receipt signer DID. Must start with 'did:'."},"issued_at":{"type":"string","format":"date-time"}}};const schema35 = {"$id":"https://schemas.clawbureau.org/claw.poh.gateway_receipt.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"Gateway Receipt v1","description":"Gateway receipt payload (proof-of-harness). Signed as part of a SignedEnvelope<GatewayReceiptPayload>.","type":"object","additionalProperties":false,"required":["receipt_version","receipt_id","gateway_id","provider","model","request_hash_b64u","response_hash_b64u","tokens_input","tokens_output","latency_ms","timestamp"],"properties":{"receipt_version":{"const":"1"},"receipt_id":{"type":"string","minLength":1},"gateway_id":{"type":"string","minLength":1},"provider":{"type":"string","minLength":1},"model":{"type":"string","minLength":1},"request_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"SHA-256 hash of request bytes, base64url (no padding)."},"response_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"SHA-256 hash of response bytes, base64url (no padding)."},"tokens_input":{"type":"number","minimum":0},"tokens_output":{"type":"number","minimum":0},"latency_ms":{"type":"number","minimum":0},"timestamp":{"type":"string","format":"date-time"},"binding":{"$ref":"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json"},"metadata":{"type":"object"}}};function validate24(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="https://schemas.clawbureau.org/claw.poh.gateway_receipt.v1.json" */;let vErrors = null;let errors = 0;const evaluated0 = validate24.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}if(data && typeof data == "object" && !Array.isArray(data)){if(data.receipt_version === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "receipt_version"},message:"must have required property '"+"receipt_version"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.receipt_id === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "receipt_id"},message:"must have required property '"+"receipt_id"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.gateway_id === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "gateway_id"},message:"must have required property '"+"gateway_id"+"'"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.provider === undefined){const err3 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "provider"},message:"must have required property '"+"provider"+"'"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data.model === undefined){const err4 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "model"},message:"must have required property '"+"model"+"'"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data.request_hash_b64u === undefined){const err5 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "request_hash_b64u"},message:"must have required property '"+"request_hash_b64u"+"'"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data.response_hash_b64u === undefined){const err6 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "response_hash_b64u"},message:"must have required property '"+"response_hash_b64u"+"'"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data.tokens_input === undefined){const err7 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "tokens_input"},message:"must have required property '"+"tokens_input"+"'"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data.tokens_output === undefined){const err8 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "tokens_output"},message:"must have required property '"+"tokens_output"+"'"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}if(data.latency_ms === undefined){const err9 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "latency_ms"},message:"must have required property '"+"latency_ms"+"'"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(data.timestamp === undefined){const err10 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "timestamp"},message:"must have required property '"+"timestamp"+"'"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}for(const key0 in data){if(!(func1.call(schema35.properties, key0))){const err11 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.receipt_version !== undefined){if("1" !== data.receipt_version){const err12 = {instancePath:instancePath+"/receipt_version",schemaPath:"#/properties/receipt_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.receipt_id !== undefined){let data1 = data.receipt_id;if(typeof data1 === "string"){if(func2(data1) < 1){const err13 = {instancePath:instancePath+"/receipt_id",schemaPath:"#/properties/receipt_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}else {const err14 = {instancePath:instancePath+"/receipt_id",schemaPath:"#/properties/receipt_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.gateway_id !== undefined){let data2 = data.gateway_id;if(typeof data2 === "string"){if(func2(data2) < 1){const err15 = {instancePath:instancePath+"/gateway_id",schemaPath:"#/properties/gateway_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}else {const err16 = {instancePath:instancePath+"/gateway_id",schemaPath:"#/properties/gateway_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.provider !== undefined){let data3 = data.provider;if(typeof data3 === "string"){if(func2(data3) < 1){const err17 = {instancePath:instancePath+"/provider",schemaPath:"#/properties/provider/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}else {const err18 = {instancePath:instancePath+"/provider",schemaPath:"#/properties/provider/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data.model !== undefined){let data4 = data.model;if(typeof data4 === "string"){if(func2(data4) < 1){const err19 = {instancePath:instancePath+"/model",schemaPath:"#/properties/model/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}else {const err20 = {instancePath:instancePath+"/model",schemaPath:"#/properties/model/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.request_hash_b64u !== undefined){let data5 = data.request_hash_b64u;if(typeof data5 === "string"){if(func2(data5) < 8){const err21 = {instancePath:instancePath+"/request_hash_b64u",schemaPath:"#/properties/request_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}if(!pattern5.test(data5)){const err22 = {instancePath:instancePath+"/request_hash_b64u",schemaPath:"#/properties/request_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}else {const err23 = {instancePath:instancePath+"/request_hash_b64u",schemaPath:"#/properties/request_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.response_hash_b64u !== undefined){let data6 = data.response_hash_b64u;if(typeof data6 === "string"){if(func2(data6) < 8){const err24 = {instancePath:instancePath+"/response_hash_b64u",schemaPath:"#/properties/response_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}if(!pattern5.test(data6)){const err25 = {instancePath:instancePath+"/response_hash_b64u",schemaPath:"#/properties/response_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}else {const err26 = {instancePath:instancePath+"/response_hash_b64u",schemaPath:"#/properties/response_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data.tokens_input !== undefined){let data7 = data.tokens_input;if(typeof data7 == "number"){if(data7 < 0 || isNaN(data7)){const err27 = {instancePath:instancePath+"/tokens_input",schemaPath:"#/properties/tokens_input/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}else {const err28 = {instancePath:instancePath+"/tokens_input",schemaPath:"#/properties/tokens_input/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data.tokens_output !== undefined){let data8 = data.tokens_output;if(typeof data8 == "number"){if(data8 < 0 || isNaN(data8)){const err29 = {instancePath:instancePath+"/tokens_output",schemaPath:"#/properties/tokens_output/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}else {const err30 = {instancePath:instancePath+"/tokens_output",schemaPath:"#/properties/tokens_output/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data.latency_ms !== undefined){let data9 = data.latency_ms;if(typeof data9 == "number"){if(data9 < 0 || isNaN(data9)){const err31 = {instancePath:instancePath+"/latency_ms",schemaPath:"#/properties/latency_ms/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}else {const err32 = {instancePath:instancePath+"/latency_ms",schemaPath:"#/properties/latency_ms/type",keyword:"type",params:{type: "number"},message:"must be number"};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data.timestamp !== undefined){let data10 = data.timestamp;if(typeof data10 === "string"){if(!(formats0.validate(data10))){const err33 = {instancePath:instancePath+"/timestamp",schemaPath:"#/properties/timestamp/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}else {const err34 = {instancePath:instancePath+"/timestamp",schemaPath:"#/properties/timestamp/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}if(data.binding !== undefined){let data11 = data.binding;if(data11 && typeof data11 == "object" && !Array.isArray(data11)){for(const key1 in data11){if(!(((((key1 === "run_id") || (key1 === "event_hash_b64u")) || (key1 === "nonce")) || (key1 === "policy_hash")) || (key1 === "token_scope_hash_b64u"))){const err35 = {instancePath:instancePath+"/binding",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data11.run_id !== undefined){let data12 = data11.run_id;if(typeof data12 === "string"){if(func2(data12) < 1){const err36 = {instancePath:instancePath+"/binding/run_id",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/run_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}}else {const err37 = {instancePath:instancePath+"/binding/run_id",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/run_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}if(data11.event_hash_b64u !== undefined){let data13 = data11.event_hash_b64u;if(typeof data13 === "string"){if(func2(data13) < 8){const err38 = {instancePath:instancePath+"/binding/event_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/event_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}if(!pattern5.test(data13)){const err39 = {instancePath:instancePath+"/binding/event_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/event_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}else {const err40 = {instancePath:instancePath+"/binding/event_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/event_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}if(data11.nonce !== undefined){let data14 = data11.nonce;if(typeof data14 === "string"){if(func2(data14) < 1){const err41 = {instancePath:instancePath+"/binding/nonce",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/nonce/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}else {const err42 = {instancePath:instancePath+"/binding/nonce",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/nonce/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data11.policy_hash !== undefined){let data15 = data11.policy_hash;if(typeof data15 === "string"){if(func2(data15) < 1){const err43 = {instancePath:instancePath+"/binding/policy_hash",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/policy_hash/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}}else {const err44 = {instancePath:instancePath+"/binding/policy_hash",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/policy_hash/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}if(data11.token_scope_hash_b64u !== undefined){let data16 = data11.token_scope_hash_b64u;if(typeof data16 === "string"){if(func2(data16) < 8){const err45 = {instancePath:instancePath+"/binding/token_scope_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/token_scope_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}if(!pattern5.test(data16)){const err46 = {instancePath:instancePath+"/binding/token_scope_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/token_scope_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}}else {const err47 = {instancePath:instancePath+"/binding/token_scope_hash_b64u",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/properties/token_scope_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}}else {const err48 = {instancePath:instancePath+"/binding",schemaPath:"https://schemas.clawbureau.org/claw.poh.receipt_binding.v1.json/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}}if(data.metadata !== undefined){let data17 = data.metadata;if(!(data17 && typeof data17 == "object" && !Array.isArray(data17))){const err49 = {instancePath:instancePath+"/metadata",schemaPath:"#/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}}}else {const err50 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}validate24.errors = vErrors;return errors === 0;}validate24.evaluated = {"props":true,"dynamicProps":false,"dynamicItems":false};function validate23(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="https://schemas.clawbureau.org/claw.poh.gateway_receipt_envelope.v1.json" */;let vErrors = null;let errors = 0;const evaluated0 = validate23.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}if(data && typeof data == "object" && !Array.isArray(data)){if(data.envelope_version === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "envelope_version"},message:"must have required property '"+"envelope_version"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.envelope_type === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "envelope_type"},message:"must have required property '"+"envelope_type"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.payload === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "payload"},message:"must have required property '"+"payload"+"'"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.payload_hash_b64u === undefined){const err3 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "payload_hash_b64u"},message:"must have required property '"+"payload_hash_b64u"+"'"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data.hash_algorithm === undefined){const err4 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "hash_algorithm"},message:"must have required property '"+"hash_algorithm"+"'"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data.signature_b64u === undefined){const err5 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "signature_b64u"},message:"must have required property '"+"signature_b64u"+"'"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data.algorithm === undefined){const err6 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "algorithm"},message:"must have required property '"+"algorithm"+"'"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data.signer_did === undefined){const err7 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "signer_did"},message:"must have required property '"+"signer_did"+"'"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}if(data.issued_at === undefined){const err8 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "issued_at"},message:"must have required property '"+"issued_at"+"'"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}for(const key0 in data){if(!(func1.call(schema34.properties, key0))){const err9 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.envelope_version !== undefined){if("1" !== data.envelope_version){const err10 = {instancePath:instancePath+"/envelope_version",schemaPath:"#/properties/envelope_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.envelope_type !== undefined){if("gateway_receipt" !== data.envelope_type){const err11 = {instancePath:instancePath+"/envelope_type",schemaPath:"#/properties/envelope_type/const",keyword:"const",params:{allowedValue: "gateway_receipt"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.payload !== undefined){if(!(validate24(data.payload, {instancePath:instancePath+"/payload",parentData:data,parentDataProperty:"payload",rootData,dynamicAnchors}))){vErrors = vErrors === null ? validate24.errors : vErrors.concat(validate24.errors);errors = vErrors.length;}}if(data.payload_hash_b64u !== undefined){let data3 = data.payload_hash_b64u;if(typeof data3 === "string"){if(func2(data3) < 8){const err12 = {instancePath:instancePath+"/payload_hash_b64u",schemaPath:"#/properties/payload_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}if(!pattern5.test(data3)){const err13 = {instancePath:instancePath+"/payload_hash_b64u",schemaPath:"#/properties/payload_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}else {const err14 = {instancePath:instancePath+"/payload_hash_b64u",schemaPath:"#/properties/payload_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.hash_algorithm !== undefined){let data4 = data.hash_algorithm;if(typeof data4 !== "string"){const err15 = {instancePath:instancePath+"/hash_algorithm",schemaPath:"#/properties/hash_algorithm/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}if(!((data4 === "SHA-256") || (data4 === "BLAKE3"))){const err16 = {instancePath:instancePath+"/hash_algorithm",schemaPath:"#/properties/hash_algorithm/enum",keyword:"enum",params:{allowedValues: schema34.properties.hash_algorithm.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.signature_b64u !== undefined){let data5 = data.signature_b64u;if(typeof data5 === "string"){if(func2(data5) < 8){const err17 = {instancePath:instancePath+"/signature_b64u",schemaPath:"#/properties/signature_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}if(!pattern5.test(data5)){const err18 = {instancePath:instancePath+"/signature_b64u",schemaPath:"#/properties/signature_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}else {const err19 = {instancePath:instancePath+"/signature_b64u",schemaPath:"#/properties/signature_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}if(data.algorithm !== undefined){let data6 = data.algorithm;if(typeof data6 !== "string"){const err20 = {instancePath:instancePath+"/algorithm",schemaPath:"#/properties/algorithm/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}if(!(data6 === "Ed25519")){const err21 = {instancePath:instancePath+"/algorithm",schemaPath:"#/properties/algorithm/enum",keyword:"enum",params:{allowedValues: schema34.properties.algorithm.enum},message:"must be equal to one of the allowed values"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data.signer_did !== undefined){let data7 = data.signer_did;if(typeof data7 === "string"){if(!pattern4.test(data7)){const err22 = {instancePath:instancePath+"/signer_did",schemaPath:"#/properties/signer_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}else {const err23 = {instancePath:instancePath+"/signer_did",schemaPath:"#/properties/signer_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data.issued_at !== undefined){let data8 = data.issued_at;if(typeof data8 === "string"){if(!(formats0.validate(data8))){const err24 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}else {const err25 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}else {const err26 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}validate23.errors = vErrors;return errors === 0;}validate23.evaluated = {"props":true,"dynamicProps":false,"dynamicItems":false};export const validateUrmV1 = validate26;const schema37 = {"$id":"https://schemas.clawbureau.org/claw.poh.urm.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"Universal Run Manifest v1","type":"object","additionalProperties":false,"required":["urm_version","urm_id","run_id","agent_did","issued_at","harness","inputs","outputs"],"properties":{"urm_version":{"const":"1","description":"URM payload version."},"urm_id":{"type":"string","minLength":1,"description":"Unique identifier for this manifest."},"run_id":{"type":"string","minLength":1,"description":"Run identifier used to correlate events and receipts."},"agent_did":{"type":"string","pattern":"^did:","description":"Agent DID. Must start with 'did:'."},"issued_at":{"type":"string","format":"date-time","description":"When the URM was produced (ISO 8601)."},"harness":{"type":"object","additionalProperties":false,"required":["id","version"],"properties":{"id":{"type":"string","minLength":1,"description":"Harness identifier (e.g. openclaw, pi, codex)."},"version":{"type":"string","minLength":1,"description":"Harness version string."},"runtime":{"type":"string","description":"Execution environment (host|docker|clawea|tee)."},"config_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Hash of the harness config inputs, base64url (no padding)."},"metadata":{"type":"object","description":"Optional harness metadata."}}},"inputs":{"type":"array","description":"Input resources for the run (bounty spec, repo state, prompts).","items":{"type":"object","additionalProperties":false,"required":["type","hash_b64u"],"properties":{"type":{"type":"string","minLength":1},"hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Content hash of the resource bytes, base64url (no padding)."},"content_type":{"type":"string"},"uri":{"type":"string","format":"uri"},"path":{"type":"string"},"size_bytes":{"type":"integer","minimum":0},"metadata":{"type":"object"}}}},"outputs":{"type":"array","description":"Output artifacts produced by the run (patches, test results).","items":{"type":"object","additionalProperties":false,"required":["type","hash_b64u"],"properties":{"type":{"type":"string","minLength":1},"hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Content hash of the artifact bytes, base64url (no padding)."},"content_type":{"type":"string"},"uri":{"type":"string","format":"uri"},"path":{"type":"string"},"size_bytes":{"type":"integer","minimum":0},"metadata":{"type":"object"}}}},"event_chain_root_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Optional root hash of the event chain (base64url)."},"receipts_root_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Optional composite hash (or Merkle root) over all receipts (base64url)."},"proof_bundle_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Optional hash of the proof bundle envelope payload_hash_b64u this URM is referenced from."},"metadata":{"type":"object","description":"Optional additional metadata for auditability (non-normative)."}}};const formats16 = require("ajv-formats/dist/formats").fullFormats.uri;function validate26(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="https://schemas.clawbureau.org/claw.poh.urm.v1.json" */;let vErrors = null;let errors = 0;const evaluated0 = validate26.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}if(data && typeof data == "object" && !Array.isArray(data)){if(data.urm_version === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "urm_version"},message:"must have required property '"+"urm_version"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.urm_id === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "urm_id"},message:"must have required property '"+"urm_id"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.run_id === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "run_id"},message:"must have required property '"+"run_id"+"'"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.agent_did === undefined){const err3 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "agent_did"},message:"must have required property '"+"agent_did"+"'"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data.issued_at === undefined){const err4 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "issued_at"},message:"must have required property '"+"issued_at"+"'"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data.harness === undefined){const err5 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "harness"},message:"must have required property '"+"harness"+"'"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data.inputs === undefined){const err6 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "inputs"},message:"must have required property '"+"inputs"+"'"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}if(data.outputs === undefined){const err7 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "outputs"},message:"must have required property '"+"outputs"+"'"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}for(const key0 in data){if(!(func1.call(schema37.properties, key0))){const err8 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.urm_version !== undefined){if("1" !== data.urm_version){const err9 = {instancePath:instancePath+"/urm_version",schemaPath:"#/properties/urm_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}if(data.urm_id !== undefined){let data1 = data.urm_id;if(typeof data1 === "string"){if(func2(data1) < 1){const err10 = {instancePath:instancePath+"/urm_id",schemaPath:"#/properties/urm_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}else {const err11 = {instancePath:instancePath+"/urm_id",schemaPath:"#/properties/urm_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.run_id !== undefined){let data2 = data.run_id;if(typeof data2 === "string"){if(func2(data2) < 1){const err12 = {instancePath:instancePath+"/run_id",schemaPath:"#/properties/run_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}else {const err13 = {instancePath:instancePath+"/run_id",schemaPath:"#/properties/run_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}if(data.agent_did !== undefined){let data3 = data.agent_did;if(typeof data3 === "string"){if(!pattern4.test(data3)){const err14 = {instancePath:instancePath+"/agent_did",schemaPath:"#/properties/agent_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}else {const err15 = {instancePath:instancePath+"/agent_did",schemaPath:"#/properties/agent_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data.issued_at !== undefined){let data4 = data.issued_at;if(typeof data4 === "string"){if(!(formats0.validate(data4))){const err16 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}else {const err17 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.harness !== undefined){let data5 = data.harness;if(data5 && typeof data5 == "object" && !Array.isArray(data5)){if(data5.id === undefined){const err18 = {instancePath:instancePath+"/harness",schemaPath:"#/properties/harness/required",keyword:"required",params:{missingProperty: "id"},message:"must have required property '"+"id"+"'"};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}if(data5.version === undefined){const err19 = {instancePath:instancePath+"/harness",schemaPath:"#/properties/harness/required",keyword:"required",params:{missingProperty: "version"},message:"must have required property '"+"version"+"'"};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}for(const key1 in data5){if(!(((((key1 === "id") || (key1 === "version")) || (key1 === "runtime")) || (key1 === "config_hash_b64u")) || (key1 === "metadata"))){const err20 = {instancePath:instancePath+"/harness",schemaPath:"#/properties/harness/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data5.id !== undefined){let data6 = data5.id;if(typeof data6 === "string"){if(func2(data6) < 1){const err21 = {instancePath:instancePath+"/harness/id",schemaPath:"#/properties/harness/properties/id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}else {const err22 = {instancePath:instancePath+"/harness/id",schemaPath:"#/properties/harness/properties/id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}if(data5.version !== undefined){let data7 = data5.version;if(typeof data7 === "string"){if(func2(data7) < 1){const err23 = {instancePath:instancePath+"/harness/version",schemaPath:"#/properties/harness/properties/version/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}else {const err24 = {instancePath:instancePath+"/harness/version",schemaPath:"#/properties/harness/properties/version/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data5.runtime !== undefined){if(typeof data5.runtime !== "string"){const err25 = {instancePath:instancePath+"/harness/runtime",schemaPath:"#/properties/harness/properties/runtime/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}if(data5.config_hash_b64u !== undefined){let data9 = data5.config_hash_b64u;if(typeof data9 === "string"){if(func2(data9) < 8){const err26 = {instancePath:instancePath+"/harness/config_hash_b64u",schemaPath:"#/properties/harness/properties/config_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}if(!pattern5.test(data9)){const err27 = {instancePath:instancePath+"/harness/config_hash_b64u",schemaPath:"#/properties/harness/properties/config_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}else {const err28 = {instancePath:instancePath+"/harness/config_hash_b64u",schemaPath:"#/properties/harness/properties/config_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}if(data5.metadata !== undefined){let data10 = data5.metadata;if(!(data10 && typeof data10 == "object" && !Array.isArray(data10))){const err29 = {instancePath:instancePath+"/harness/metadata",schemaPath:"#/properties/harness/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}}else {const err30 = {instancePath:instancePath+"/harness",schemaPath:"#/properties/harness/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}}if(data.inputs !== undefined){let data11 = data.inputs;if(Array.isArray(data11)){const len0 = data11.length;for(let i0=0; i0<len0; i0++){let data12 = data11[i0];if(data12 && typeof data12 == "object" && !Array.isArray(data12)){if(data12.type === undefined){const err31 = {instancePath:instancePath+"/inputs/" + i0,schemaPath:"#/properties/inputs/items/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'"};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}if(data12.hash_b64u === undefined){const err32 = {instancePath:instancePath+"/inputs/" + i0,schemaPath:"#/properties/inputs/items/required",keyword:"required",params:{missingProperty: "hash_b64u"},message:"must have required property '"+"hash_b64u"+"'"};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}for(const key2 in data12){if(!(((((((key2 === "type") || (key2 === "hash_b64u")) || (key2 === "content_type")) || (key2 === "uri")) || (key2 === "path")) || (key2 === "size_bytes")) || (key2 === "metadata"))){const err33 = {instancePath:instancePath+"/inputs/" + i0,schemaPath:"#/properties/inputs/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key2},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}}if(data12.type !== undefined){let data13 = data12.type;if(typeof data13 === "string"){if(func2(data13) < 1){const err34 = {instancePath:instancePath+"/inputs/" + i0+"/type",schemaPath:"#/properties/inputs/items/properties/type/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}else {const err35 = {instancePath:instancePath+"/inputs/" + i0+"/type",schemaPath:"#/properties/inputs/items/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data12.hash_b64u !== undefined){let data14 = data12.hash_b64u;if(typeof data14 === "string"){if(func2(data14) < 8){const err36 = {instancePath:instancePath+"/inputs/" + i0+"/hash_b64u",schemaPath:"#/properties/inputs/items/properties/hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}if(!pattern5.test(data14)){const err37 = {instancePath:instancePath+"/inputs/" + i0+"/hash_b64u",schemaPath:"#/properties/inputs/items/properties/hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}else {const err38 = {instancePath:instancePath+"/inputs/" + i0+"/hash_b64u",schemaPath:"#/properties/inputs/items/properties/hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}if(data12.content_type !== undefined){if(typeof data12.content_type !== "string"){const err39 = {instancePath:instancePath+"/inputs/" + i0+"/content_type",schemaPath:"#/properties/inputs/items/properties/content_type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}if(data12.uri !== undefined){let data16 = data12.uri;if(typeof data16 === "string"){if(!(formats16(data16))){const err40 = {instancePath:instancePath+"/inputs/" + i0+"/uri",schemaPath:"#/properties/inputs/items/properties/uri/format",keyword:"format",params:{format: "uri"},message:"must match format \""+"uri"+"\""};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}else {const err41 = {instancePath:instancePath+"/inputs/" + i0+"/uri",schemaPath:"#/properties/inputs/items/properties/uri/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}}if(data12.path !== undefined){if(typeof data12.path !== "string"){const err42 = {instancePath:instancePath+"/inputs/" + i0+"/path",schemaPath:"#/properties/inputs/items/properties/path/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err42];}else {vErrors.push(err42);}errors++;}}if(data12.size_bytes !== undefined){let data18 = data12.size_bytes;if(!((typeof data18 == "number") && (!(data18 % 1) && !isNaN(data18)))){const err43 = {instancePath:instancePath+"/inputs/" + i0+"/size_bytes",schemaPath:"#/properties/inputs/items/properties/size_bytes/type",keyword:"type",params:{type: "integer"},message:"must be integer"};if(vErrors === null){vErrors = [err43];}else {vErrors.push(err43);}errors++;}if(typeof data18 == "number"){if(data18 < 0 || isNaN(data18)){const err44 = {instancePath:instancePath+"/inputs/" + i0+"/size_bytes",schemaPath:"#/properties/inputs/items/properties/size_bytes/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err44];}else {vErrors.push(err44);}errors++;}}}if(data12.metadata !== undefined){let data19 = data12.metadata;if(!(data19 && typeof data19 == "object" && !Array.isArray(data19))){const err45 = {instancePath:instancePath+"/inputs/" + i0+"/metadata",schemaPath:"#/properties/inputs/items/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err45];}else {vErrors.push(err45);}errors++;}}}else {const err46 = {instancePath:instancePath+"/inputs/" + i0,schemaPath:"#/properties/inputs/items/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err46];}else {vErrors.push(err46);}errors++;}}}else {const err47 = {instancePath:instancePath+"/inputs",schemaPath:"#/properties/inputs/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err47];}else {vErrors.push(err47);}errors++;}}if(data.outputs !== undefined){let data20 = data.outputs;if(Array.isArray(data20)){const len1 = data20.length;for(let i1=0; i1<len1; i1++){let data21 = data20[i1];if(data21 && typeof data21 == "object" && !Array.isArray(data21)){if(data21.type === undefined){const err48 = {instancePath:instancePath+"/outputs/" + i1,schemaPath:"#/properties/outputs/items/required",keyword:"required",params:{missingProperty: "type"},message:"must have required property '"+"type"+"'"};if(vErrors === null){vErrors = [err48];}else {vErrors.push(err48);}errors++;}if(data21.hash_b64u === undefined){const err49 = {instancePath:instancePath+"/outputs/" + i1,schemaPath:"#/properties/outputs/items/required",keyword:"required",params:{missingProperty: "hash_b64u"},message:"must have required property '"+"hash_b64u"+"'"};if(vErrors === null){vErrors = [err49];}else {vErrors.push(err49);}errors++;}for(const key3 in data21){if(!(((((((key3 === "type") || (key3 === "hash_b64u")) || (key3 === "content_type")) || (key3 === "uri")) || (key3 === "path")) || (key3 === "size_bytes")) || (key3 === "metadata"))){const err50 = {instancePath:instancePath+"/outputs/" + i1,schemaPath:"#/properties/outputs/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key3},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err50];}else {vErrors.push(err50);}errors++;}}if(data21.type !== undefined){let data22 = data21.type;if(typeof data22 === "string"){if(func2(data22) < 1){const err51 = {instancePath:instancePath+"/outputs/" + i1+"/type",schemaPath:"#/properties/outputs/items/properties/type/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err51];}else {vErrors.push(err51);}errors++;}}else {const err52 = {instancePath:instancePath+"/outputs/" + i1+"/type",schemaPath:"#/properties/outputs/items/properties/type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err52];}else {vErrors.push(err52);}errors++;}}if(data21.hash_b64u !== undefined){let data23 = data21.hash_b64u;if(typeof data23 === "string"){if(func2(data23) < 8){const err53 = {instancePath:instancePath+"/outputs/" + i1+"/hash_b64u",schemaPath:"#/properties/outputs/items/properties/hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err53];}else {vErrors.push(err53);}errors++;}if(!pattern5.test(data23)){const err54 = {instancePath:instancePath+"/outputs/" + i1+"/hash_b64u",schemaPath:"#/properties/outputs/items/properties/hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err54];}else {vErrors.push(err54);}errors++;}}else {const err55 = {instancePath:instancePath+"/outputs/" + i1+"/hash_b64u",schemaPath:"#/properties/outputs/items/properties/hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err55];}else {vErrors.push(err55);}errors++;}}if(data21.content_type !== undefined){if(typeof data21.content_type !== "string"){const err56 = {instancePath:instancePath+"/outputs/" + i1+"/content_type",schemaPath:"#/properties/outputs/items/properties/content_type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err56];}else {vErrors.push(err56);}errors++;}}if(data21.uri !== undefined){let data25 = data21.uri;if(typeof data25 === "string"){if(!(formats16(data25))){const err57 = {instancePath:instancePath+"/outputs/" + i1+"/uri",schemaPath:"#/properties/outputs/items/properties/uri/format",keyword:"format",params:{format: "uri"},message:"must match format \""+"uri"+"\""};if(vErrors === null){vErrors = [err57];}else {vErrors.push(err57);}errors++;}}else {const err58 = {instancePath:instancePath+"/outputs/" + i1+"/uri",schemaPath:"#/properties/outputs/items/properties/uri/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err58];}else {vErrors.push(err58);}errors++;}}if(data21.path !== undefined){if(typeof data21.path !== "string"){const err59 = {instancePath:instancePath+"/outputs/" + i1+"/path",schemaPath:"#/properties/outputs/items/properties/path/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err59];}else {vErrors.push(err59);}errors++;}}if(data21.size_bytes !== undefined){let data27 = data21.size_bytes;if(!((typeof data27 == "number") && (!(data27 % 1) && !isNaN(data27)))){const err60 = {instancePath:instancePath+"/outputs/" + i1+"/size_bytes",schemaPath:"#/properties/outputs/items/properties/size_bytes/type",keyword:"type",params:{type: "integer"},message:"must be integer"};if(vErrors === null){vErrors = [err60];}else {vErrors.push(err60);}errors++;}if(typeof data27 == "number"){if(data27 < 0 || isNaN(data27)){const err61 = {instancePath:instancePath+"/outputs/" + i1+"/size_bytes",schemaPath:"#/properties/outputs/items/properties/size_bytes/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err61];}else {vErrors.push(err61);}errors++;}}}if(data21.metadata !== undefined){let data28 = data21.metadata;if(!(data28 && typeof data28 == "object" && !Array.isArray(data28))){const err62 = {instancePath:instancePath+"/outputs/" + i1+"/metadata",schemaPath:"#/properties/outputs/items/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err62];}else {vErrors.push(err62);}errors++;}}}else {const err63 = {instancePath:instancePath+"/outputs/" + i1,schemaPath:"#/properties/outputs/items/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err63];}else {vErrors.push(err63);}errors++;}}}else {const err64 = {instancePath:instancePath+"/outputs",schemaPath:"#/properties/outputs/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err64];}else {vErrors.push(err64);}errors++;}}if(data.event_chain_root_hash_b64u !== undefined){let data29 = data.event_chain_root_hash_b64u;if(typeof data29 === "string"){if(func2(data29) < 8){const err65 = {instancePath:instancePath+"/event_chain_root_hash_b64u",schemaPath:"#/properties/event_chain_root_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err65];}else {vErrors.push(err65);}errors++;}if(!pattern5.test(data29)){const err66 = {instancePath:instancePath+"/event_chain_root_hash_b64u",schemaPath:"#/properties/event_chain_root_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err66];}else {vErrors.push(err66);}errors++;}}else {const err67 = {instancePath:instancePath+"/event_chain_root_hash_b64u",schemaPath:"#/properties/event_chain_root_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err67];}else {vErrors.push(err67);}errors++;}}if(data.receipts_root_hash_b64u !== undefined){let data30 = data.receipts_root_hash_b64u;if(typeof data30 === "string"){if(func2(data30) < 8){const err68 = {instancePath:instancePath+"/receipts_root_hash_b64u",schemaPath:"#/properties/receipts_root_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err68];}else {vErrors.push(err68);}errors++;}if(!pattern5.test(data30)){const err69 = {instancePath:instancePath+"/receipts_root_hash_b64u",schemaPath:"#/properties/receipts_root_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err69];}else {vErrors.push(err69);}errors++;}}else {const err70 = {instancePath:instancePath+"/receipts_root_hash_b64u",schemaPath:"#/properties/receipts_root_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err70];}else {vErrors.push(err70);}errors++;}}if(data.proof_bundle_hash_b64u !== undefined){let data31 = data.proof_bundle_hash_b64u;if(typeof data31 === "string"){if(func2(data31) < 8){const err71 = {instancePath:instancePath+"/proof_bundle_hash_b64u",schemaPath:"#/properties/proof_bundle_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err71];}else {vErrors.push(err71);}errors++;}if(!pattern5.test(data31)){const err72 = {instancePath:instancePath+"/proof_bundle_hash_b64u",schemaPath:"#/properties/proof_bundle_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err72];}else {vErrors.push(err72);}errors++;}}else {const err73 = {instancePath:instancePath+"/proof_bundle_hash_b64u",schemaPath:"#/properties/proof_bundle_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err73];}else {vErrors.push(err73);}errors++;}}if(data.metadata !== undefined){let data32 = data.metadata;if(!(data32 && typeof data32 == "object" && !Array.isArray(data32))){const err74 = {instancePath:instancePath+"/metadata",schemaPath:"#/properties/metadata/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err74];}else {vErrors.push(err74);}errors++;}}}else {const err75 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err75];}else {vErrors.push(err75);}errors++;}validate26.errors = vErrors;return errors === 0;}validate26.evaluated = {"props":true,"dynamicProps":false,"dynamicItems":false};export const validatePromptPackV1 = validate27;const schema38 = {"$id":"https://schemas.clawbureau.org/claw.poh.prompt_pack.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"Prompt Pack v1","description":"A prompt-pack is a commitment to the inputs that materially influence an agent's rendered system prompt (workspace/bootstrap files, skills, policies, etc.). It is intended to make 'replay' mean evidence re-validation (hash bindings), not token-identical model output reproduction.\n\nCanonical prompt_root_hash_b64u (v1): SHA-256 base64url of JSON.stringify({ prompt_pack_version: '1', entries: entries_sorted.map(({entry_id, content_hash_b64u}) => ({entry_id, content_hash_b64u})) }) where entries_sorted is sorted lexicographically by entry_id.","type":"object","additionalProperties":false,"required":["prompt_pack_version","hash_algorithm","prompt_root_hash_b64u","entries"],"properties":{"prompt_pack_version":{"const":"1","description":"Prompt pack schema version."},"prompt_pack_id":{"type":"string","minLength":1,"description":"Optional unique identifier for this prompt pack document."},"hash_algorithm":{"const":"SHA-256","description":"Hash algorithm used for the prompt_root_hash_b64u commitment (v1 fixed to SHA-256)."},"prompt_root_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Root commitment hash of the prompt pack inputs (SHA-256, base64url, no padding)."},"entries":{"type":"array","description":"Prompt pack entry commitments (hash-only).","maxItems":256,"items":{"type":"object","additionalProperties":false,"required":["entry_id","content_hash_b64u"],"properties":{"entry_id":{"type":"string","minLength":1,"maxLength":256,"description":"Stable identifier for the entry (e.g. 'AGENTS.md', 'skill:ai-sdk', 'policy:tools')."},"content_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"SHA-256 hash of the entry bytes, base64url (no padding)."},"content_type":{"type":"string","maxLength":128,"description":"Optional MIME type of the entry bytes."},"size_bytes":{"type":"integer","minimum":0,"description":"Optional size of the entry bytes."}}}}}};function validate27(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="https://schemas.clawbureau.org/claw.poh.prompt_pack.v1.json" */;let vErrors = null;let errors = 0;const evaluated0 = validate27.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}if(data && typeof data == "object" && !Array.isArray(data)){if(data.prompt_pack_version === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "prompt_pack_version"},message:"must have required property '"+"prompt_pack_version"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.hash_algorithm === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "hash_algorithm"},message:"must have required property '"+"hash_algorithm"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.prompt_root_hash_b64u === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "prompt_root_hash_b64u"},message:"must have required property '"+"prompt_root_hash_b64u"+"'"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.entries === undefined){const err3 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "entries"},message:"must have required property '"+"entries"+"'"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}for(const key0 in data){if(!(((((key0 === "prompt_pack_version") || (key0 === "prompt_pack_id")) || (key0 === "hash_algorithm")) || (key0 === "prompt_root_hash_b64u")) || (key0 === "entries"))){const err4 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}}if(data.prompt_pack_version !== undefined){if("1" !== data.prompt_pack_version){const err5 = {instancePath:instancePath+"/prompt_pack_version",schemaPath:"#/properties/prompt_pack_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}}if(data.prompt_pack_id !== undefined){let data1 = data.prompt_pack_id;if(typeof data1 === "string"){if(func2(data1) < 1){const err6 = {instancePath:instancePath+"/prompt_pack_id",schemaPath:"#/properties/prompt_pack_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}}else {const err7 = {instancePath:instancePath+"/prompt_pack_id",schemaPath:"#/properties/prompt_pack_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.hash_algorithm !== undefined){if("SHA-256" !== data.hash_algorithm){const err8 = {instancePath:instancePath+"/hash_algorithm",schemaPath:"#/properties/hash_algorithm/const",keyword:"const",params:{allowedValue: "SHA-256"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.prompt_root_hash_b64u !== undefined){let data3 = data.prompt_root_hash_b64u;if(typeof data3 === "string"){if(func2(data3) < 8){const err9 = {instancePath:instancePath+"/prompt_root_hash_b64u",schemaPath:"#/properties/prompt_root_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}if(!pattern5.test(data3)){const err10 = {instancePath:instancePath+"/prompt_root_hash_b64u",schemaPath:"#/properties/prompt_root_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}else {const err11 = {instancePath:instancePath+"/prompt_root_hash_b64u",schemaPath:"#/properties/prompt_root_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}if(data.entries !== undefined){let data4 = data.entries;if(Array.isArray(data4)){if(data4.length > 256){const err12 = {instancePath:instancePath+"/entries",schemaPath:"#/properties/entries/maxItems",keyword:"maxItems",params:{limit: 256},message:"must NOT have more than 256 items"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}const len0 = data4.length;for(let i0=0; i0<len0; i0++){let data5 = data4[i0];if(data5 && typeof data5 == "object" && !Array.isArray(data5)){if(data5.entry_id === undefined){const err13 = {instancePath:instancePath+"/entries/" + i0,schemaPath:"#/properties/entries/items/required",keyword:"required",params:{missingProperty: "entry_id"},message:"must have required property '"+"entry_id"+"'"};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}if(data5.content_hash_b64u === undefined){const err14 = {instancePath:instancePath+"/entries/" + i0,schemaPath:"#/properties/entries/items/required",keyword:"required",params:{missingProperty: "content_hash_b64u"},message:"must have required property '"+"content_hash_b64u"+"'"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}for(const key1 in data5){if(!((((key1 === "entry_id") || (key1 === "content_hash_b64u")) || (key1 === "content_type")) || (key1 === "size_bytes"))){const err15 = {instancePath:instancePath+"/entries/" + i0,schemaPath:"#/properties/entries/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}if(data5.entry_id !== undefined){let data6 = data5.entry_id;if(typeof data6 === "string"){if(func2(data6) > 256){const err16 = {instancePath:instancePath+"/entries/" + i0+"/entry_id",schemaPath:"#/properties/entries/items/properties/entry_id/maxLength",keyword:"maxLength",params:{limit: 256},message:"must NOT have more than 256 characters"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}if(func2(data6) < 1){const err17 = {instancePath:instancePath+"/entries/" + i0+"/entry_id",schemaPath:"#/properties/entries/items/properties/entry_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}else {const err18 = {instancePath:instancePath+"/entries/" + i0+"/entry_id",schemaPath:"#/properties/entries/items/properties/entry_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}}if(data5.content_hash_b64u !== undefined){let data7 = data5.content_hash_b64u;if(typeof data7 === "string"){if(func2(data7) < 8){const err19 = {instancePath:instancePath+"/entries/" + i0+"/content_hash_b64u",schemaPath:"#/properties/entries/items/properties/content_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}if(!pattern5.test(data7)){const err20 = {instancePath:instancePath+"/entries/" + i0+"/content_hash_b64u",schemaPath:"#/properties/entries/items/properties/content_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}else {const err21 = {instancePath:instancePath+"/entries/" + i0+"/content_hash_b64u",schemaPath:"#/properties/entries/items/properties/content_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}}if(data5.content_type !== undefined){let data8 = data5.content_type;if(typeof data8 === "string"){if(func2(data8) > 128){const err22 = {instancePath:instancePath+"/entries/" + i0+"/content_type",schemaPath:"#/properties/entries/items/properties/content_type/maxLength",keyword:"maxLength",params:{limit: 128},message:"must NOT have more than 128 characters"};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}}else {const err23 = {instancePath:instancePath+"/entries/" + i0+"/content_type",schemaPath:"#/properties/entries/items/properties/content_type/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}}if(data5.size_bytes !== undefined){let data9 = data5.size_bytes;if(!((typeof data9 == "number") && (!(data9 % 1) && !isNaN(data9)))){const err24 = {instancePath:instancePath+"/entries/" + i0+"/size_bytes",schemaPath:"#/properties/entries/items/properties/size_bytes/type",keyword:"type",params:{type: "integer"},message:"must be integer"};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}if(typeof data9 == "number"){if(data9 < 0 || isNaN(data9)){const err25 = {instancePath:instancePath+"/entries/" + i0+"/size_bytes",schemaPath:"#/properties/entries/items/properties/size_bytes/minimum",keyword:"minimum",params:{comparison: ">=", limit: 0},message:"must be >= 0"};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}}}else {const err26 = {instancePath:instancePath+"/entries/" + i0,schemaPath:"#/properties/entries/items/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}}else {const err27 = {instancePath:instancePath+"/entries",schemaPath:"#/properties/entries/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}}}else {const err28 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}validate27.errors = vErrors;return errors === 0;}validate27.evaluated = {"props":true,"dynamicProps":false,"dynamicItems":false};export const validateSystemPromptReportV1 = validate28;const schema39 = {"$id":"https://schemas.clawbureau.org/claw.poh.system_prompt_report.v1.json","$schema":"https://json-schema.org/draft/2020-12/schema","title":"System Prompt Report v1","description":"A per-run, hash-only report of rendered system prompts used for each LLM call. This does not include prompt plaintext; it is intended to reduce prompt-injection ambiguity and make replays/verifications checkable via hash commitments.","type":"object","additionalProperties":false,"required":["system_prompt_report_version","report_id","run_id","agent_did","issued_at","hash_algorithm","calls"],"properties":{"system_prompt_report_version":{"const":"1","description":"System prompt report schema version."},"report_id":{"type":"string","minLength":1,"description":"Unique identifier for this report."},"run_id":{"type":"string","minLength":1,"description":"Run identifier (should match proof bundle event_chain[0].run_id and URM.run_id)."},"agent_did":{"type":"string","pattern":"^did:","description":"Agent DID (should match proof bundle agent_did and URM.agent_did)."},"issued_at":{"type":"string","format":"date-time","description":"When the report was produced (ISO 8601)."},"hash_algorithm":{"const":"SHA-256","description":"Hash algorithm used for rendered_system_prompt_hash_b64u commitments (v1 fixed to SHA-256)."},"prompt_root_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Optional prompt pack root hash this report is associated with."},"calls":{"type":"array","description":"Per-llm_call entries mapping an event to the rendered system prompt hash.","maxItems":512,"items":{"type":"object","additionalProperties":false,"required":["event_id","rendered_system_prompt_hash_b64u"],"properties":{"event_id":{"type":"string","minLength":1,"description":"Event ID of the associated llm_call entry in the proof bundle event_chain."},"event_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"Optional event hash (payload.event_chain[i].event_hash_b64u)."},"provider":{"type":"string","minLength":1,"maxLength":64,"description":"Optional provider name (openai|anthropic|google|...)."},"model":{"type":"string","minLength":1,"maxLength":128,"description":"Optional model identifier."},"rendered_system_prompt_hash_b64u":{"type":"string","pattern":"^[A-Za-z0-9_-]+$","minLength":8,"description":"SHA-256 hash of the exact rendered system prompt bytes for this call, base64url (no padding)."}}}}}};function validate28(data, {instancePath="", parentData, parentDataProperty, rootData=data, dynamicAnchors={}}={}){/*# sourceURL="https://schemas.clawbureau.org/claw.poh.system_prompt_report.v1.json" */;let vErrors = null;let errors = 0;const evaluated0 = validate28.evaluated;if(evaluated0.dynamicProps){evaluated0.props = undefined;}if(evaluated0.dynamicItems){evaluated0.items = undefined;}if(data && typeof data == "object" && !Array.isArray(data)){if(data.system_prompt_report_version === undefined){const err0 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "system_prompt_report_version"},message:"must have required property '"+"system_prompt_report_version"+"'"};if(vErrors === null){vErrors = [err0];}else {vErrors.push(err0);}errors++;}if(data.report_id === undefined){const err1 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "report_id"},message:"must have required property '"+"report_id"+"'"};if(vErrors === null){vErrors = [err1];}else {vErrors.push(err1);}errors++;}if(data.run_id === undefined){const err2 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "run_id"},message:"must have required property '"+"run_id"+"'"};if(vErrors === null){vErrors = [err2];}else {vErrors.push(err2);}errors++;}if(data.agent_did === undefined){const err3 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "agent_did"},message:"must have required property '"+"agent_did"+"'"};if(vErrors === null){vErrors = [err3];}else {vErrors.push(err3);}errors++;}if(data.issued_at === undefined){const err4 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "issued_at"},message:"must have required property '"+"issued_at"+"'"};if(vErrors === null){vErrors = [err4];}else {vErrors.push(err4);}errors++;}if(data.hash_algorithm === undefined){const err5 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "hash_algorithm"},message:"must have required property '"+"hash_algorithm"+"'"};if(vErrors === null){vErrors = [err5];}else {vErrors.push(err5);}errors++;}if(data.calls === undefined){const err6 = {instancePath,schemaPath:"#/required",keyword:"required",params:{missingProperty: "calls"},message:"must have required property '"+"calls"+"'"};if(vErrors === null){vErrors = [err6];}else {vErrors.push(err6);}errors++;}for(const key0 in data){if(!((((((((key0 === "system_prompt_report_version") || (key0 === "report_id")) || (key0 === "run_id")) || (key0 === "agent_did")) || (key0 === "issued_at")) || (key0 === "hash_algorithm")) || (key0 === "prompt_root_hash_b64u")) || (key0 === "calls"))){const err7 = {instancePath,schemaPath:"#/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key0},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err7];}else {vErrors.push(err7);}errors++;}}if(data.system_prompt_report_version !== undefined){if("1" !== data.system_prompt_report_version){const err8 = {instancePath:instancePath+"/system_prompt_report_version",schemaPath:"#/properties/system_prompt_report_version/const",keyword:"const",params:{allowedValue: "1"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err8];}else {vErrors.push(err8);}errors++;}}if(data.report_id !== undefined){let data1 = data.report_id;if(typeof data1 === "string"){if(func2(data1) < 1){const err9 = {instancePath:instancePath+"/report_id",schemaPath:"#/properties/report_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err9];}else {vErrors.push(err9);}errors++;}}else {const err10 = {instancePath:instancePath+"/report_id",schemaPath:"#/properties/report_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err10];}else {vErrors.push(err10);}errors++;}}if(data.run_id !== undefined){let data2 = data.run_id;if(typeof data2 === "string"){if(func2(data2) < 1){const err11 = {instancePath:instancePath+"/run_id",schemaPath:"#/properties/run_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err11];}else {vErrors.push(err11);}errors++;}}else {const err12 = {instancePath:instancePath+"/run_id",schemaPath:"#/properties/run_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err12];}else {vErrors.push(err12);}errors++;}}if(data.agent_did !== undefined){let data3 = data.agent_did;if(typeof data3 === "string"){if(!pattern4.test(data3)){const err13 = {instancePath:instancePath+"/agent_did",schemaPath:"#/properties/agent_did/pattern",keyword:"pattern",params:{pattern: "^did:"},message:"must match pattern \""+"^did:"+"\""};if(vErrors === null){vErrors = [err13];}else {vErrors.push(err13);}errors++;}}else {const err14 = {instancePath:instancePath+"/agent_did",schemaPath:"#/properties/agent_did/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err14];}else {vErrors.push(err14);}errors++;}}if(data.issued_at !== undefined){let data4 = data.issued_at;if(typeof data4 === "string"){if(!(formats0.validate(data4))){const err15 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/format",keyword:"format",params:{format: "date-time"},message:"must match format \""+"date-time"+"\""};if(vErrors === null){vErrors = [err15];}else {vErrors.push(err15);}errors++;}}else {const err16 = {instancePath:instancePath+"/issued_at",schemaPath:"#/properties/issued_at/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err16];}else {vErrors.push(err16);}errors++;}}if(data.hash_algorithm !== undefined){if("SHA-256" !== data.hash_algorithm){const err17 = {instancePath:instancePath+"/hash_algorithm",schemaPath:"#/properties/hash_algorithm/const",keyword:"const",params:{allowedValue: "SHA-256"},message:"must be equal to constant"};if(vErrors === null){vErrors = [err17];}else {vErrors.push(err17);}errors++;}}if(data.prompt_root_hash_b64u !== undefined){let data6 = data.prompt_root_hash_b64u;if(typeof data6 === "string"){if(func2(data6) < 8){const err18 = {instancePath:instancePath+"/prompt_root_hash_b64u",schemaPath:"#/properties/prompt_root_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err18];}else {vErrors.push(err18);}errors++;}if(!pattern5.test(data6)){const err19 = {instancePath:instancePath+"/prompt_root_hash_b64u",schemaPath:"#/properties/prompt_root_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err19];}else {vErrors.push(err19);}errors++;}}else {const err20 = {instancePath:instancePath+"/prompt_root_hash_b64u",schemaPath:"#/properties/prompt_root_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err20];}else {vErrors.push(err20);}errors++;}}if(data.calls !== undefined){let data7 = data.calls;if(Array.isArray(data7)){if(data7.length > 512){const err21 = {instancePath:instancePath+"/calls",schemaPath:"#/properties/calls/maxItems",keyword:"maxItems",params:{limit: 512},message:"must NOT have more than 512 items"};if(vErrors === null){vErrors = [err21];}else {vErrors.push(err21);}errors++;}const len0 = data7.length;for(let i0=0; i0<len0; i0++){let data8 = data7[i0];if(data8 && typeof data8 == "object" && !Array.isArray(data8)){if(data8.event_id === undefined){const err22 = {instancePath:instancePath+"/calls/" + i0,schemaPath:"#/properties/calls/items/required",keyword:"required",params:{missingProperty: "event_id"},message:"must have required property '"+"event_id"+"'"};if(vErrors === null){vErrors = [err22];}else {vErrors.push(err22);}errors++;}if(data8.rendered_system_prompt_hash_b64u === undefined){const err23 = {instancePath:instancePath+"/calls/" + i0,schemaPath:"#/properties/calls/items/required",keyword:"required",params:{missingProperty: "rendered_system_prompt_hash_b64u"},message:"must have required property '"+"rendered_system_prompt_hash_b64u"+"'"};if(vErrors === null){vErrors = [err23];}else {vErrors.push(err23);}errors++;}for(const key1 in data8){if(!(((((key1 === "event_id") || (key1 === "event_hash_b64u")) || (key1 === "provider")) || (key1 === "model")) || (key1 === "rendered_system_prompt_hash_b64u"))){const err24 = {instancePath:instancePath+"/calls/" + i0,schemaPath:"#/properties/calls/items/additionalProperties",keyword:"additionalProperties",params:{additionalProperty: key1},message:"must NOT have additional properties"};if(vErrors === null){vErrors = [err24];}else {vErrors.push(err24);}errors++;}}if(data8.event_id !== undefined){let data9 = data8.event_id;if(typeof data9 === "string"){if(func2(data9) < 1){const err25 = {instancePath:instancePath+"/calls/" + i0+"/event_id",schemaPath:"#/properties/calls/items/properties/event_id/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err25];}else {vErrors.push(err25);}errors++;}}else {const err26 = {instancePath:instancePath+"/calls/" + i0+"/event_id",schemaPath:"#/properties/calls/items/properties/event_id/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err26];}else {vErrors.push(err26);}errors++;}}if(data8.event_hash_b64u !== undefined){let data10 = data8.event_hash_b64u;if(typeof data10 === "string"){if(func2(data10) < 8){const err27 = {instancePath:instancePath+"/calls/" + i0+"/event_hash_b64u",schemaPath:"#/properties/calls/items/properties/event_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err27];}else {vErrors.push(err27);}errors++;}if(!pattern5.test(data10)){const err28 = {instancePath:instancePath+"/calls/" + i0+"/event_hash_b64u",schemaPath:"#/properties/calls/items/properties/event_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err28];}else {vErrors.push(err28);}errors++;}}else {const err29 = {instancePath:instancePath+"/calls/" + i0+"/event_hash_b64u",schemaPath:"#/properties/calls/items/properties/event_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err29];}else {vErrors.push(err29);}errors++;}}if(data8.provider !== undefined){let data11 = data8.provider;if(typeof data11 === "string"){if(func2(data11) > 64){const err30 = {instancePath:instancePath+"/calls/" + i0+"/provider",schemaPath:"#/properties/calls/items/properties/provider/maxLength",keyword:"maxLength",params:{limit: 64},message:"must NOT have more than 64 characters"};if(vErrors === null){vErrors = [err30];}else {vErrors.push(err30);}errors++;}if(func2(data11) < 1){const err31 = {instancePath:instancePath+"/calls/" + i0+"/provider",schemaPath:"#/properties/calls/items/properties/provider/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err31];}else {vErrors.push(err31);}errors++;}}else {const err32 = {instancePath:instancePath+"/calls/" + i0+"/provider",schemaPath:"#/properties/calls/items/properties/provider/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err32];}else {vErrors.push(err32);}errors++;}}if(data8.model !== undefined){let data12 = data8.model;if(typeof data12 === "string"){if(func2(data12) > 128){const err33 = {instancePath:instancePath+"/calls/" + i0+"/model",schemaPath:"#/properties/calls/items/properties/model/maxLength",keyword:"maxLength",params:{limit: 128},message:"must NOT have more than 128 characters"};if(vErrors === null){vErrors = [err33];}else {vErrors.push(err33);}errors++;}if(func2(data12) < 1){const err34 = {instancePath:instancePath+"/calls/" + i0+"/model",schemaPath:"#/properties/calls/items/properties/model/minLength",keyword:"minLength",params:{limit: 1},message:"must NOT have fewer than 1 characters"};if(vErrors === null){vErrors = [err34];}else {vErrors.push(err34);}errors++;}}else {const err35 = {instancePath:instancePath+"/calls/" + i0+"/model",schemaPath:"#/properties/calls/items/properties/model/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err35];}else {vErrors.push(err35);}errors++;}}if(data8.rendered_system_prompt_hash_b64u !== undefined){let data13 = data8.rendered_system_prompt_hash_b64u;if(typeof data13 === "string"){if(func2(data13) < 8){const err36 = {instancePath:instancePath+"/calls/" + i0+"/rendered_system_prompt_hash_b64u",schemaPath:"#/properties/calls/items/properties/rendered_system_prompt_hash_b64u/minLength",keyword:"minLength",params:{limit: 8},message:"must NOT have fewer than 8 characters"};if(vErrors === null){vErrors = [err36];}else {vErrors.push(err36);}errors++;}if(!pattern5.test(data13)){const err37 = {instancePath:instancePath+"/calls/" + i0+"/rendered_system_prompt_hash_b64u",schemaPath:"#/properties/calls/items/properties/rendered_system_prompt_hash_b64u/pattern",keyword:"pattern",params:{pattern: "^[A-Za-z0-9_-]+$"},message:"must match pattern \""+"^[A-Za-z0-9_-]+$"+"\""};if(vErrors === null){vErrors = [err37];}else {vErrors.push(err37);}errors++;}}else {const err38 = {instancePath:instancePath+"/calls/" + i0+"/rendered_system_prompt_hash_b64u",schemaPath:"#/properties/calls/items/properties/rendered_system_prompt_hash_b64u/type",keyword:"type",params:{type: "string"},message:"must be string"};if(vErrors === null){vErrors = [err38];}else {vErrors.push(err38);}errors++;}}}else {const err39 = {instancePath:instancePath+"/calls/" + i0,schemaPath:"#/properties/calls/items/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err39];}else {vErrors.push(err39);}errors++;}}}else {const err40 = {instancePath:instancePath+"/calls",schemaPath:"#/properties/calls/type",keyword:"type",params:{type: "array"},message:"must be array"};if(vErrors === null){vErrors = [err40];}else {vErrors.push(err40);}errors++;}}}else {const err41 = {instancePath,schemaPath:"#/type",keyword:"type",params:{type: "object"},message:"must be object"};if(vErrors === null){vErrors = [err41];}else {vErrors.push(err41);}errors++;}validate28.errors = vErrors;return errors === 0;}validate28.evaluated = {"props":true,"dynamicProps":false,"dynamicItems":false};
