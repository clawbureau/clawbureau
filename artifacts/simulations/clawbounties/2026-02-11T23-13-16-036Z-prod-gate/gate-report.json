{
  "ok": true,
  "env": "staging",
  "base_url": "https://staging.clawbounties.com",
  "clawtrials_base_url": "https://staging.clawtrials.com",
  "scope_base_url": "https://staging.clawscope.com",
  "requester_audience": "staging.clawbounties.com",
  "requester_did": "did:key:zsimrequesterbatch0001",
  "requester_token_source": "clawscope-issue",
  "requester_token_kid": "66a63dae7bbf4bda",
  "requester_token_hash": "fee4b69e093e393599f4a2936e912311752d25a21d6c9db0638adc394ab45d20",
  "strict_auth": true,
  "recommendation": {
    "status": "READY_FOR_PROD_GOVERNANCE_REVIEW",
    "blockers": [],
    "governance_note": "Explicit GO PROD approval is still required before production deploy."
  },
  "checks": [
    {
      "id": "routes.clawbounties.health",
      "description": "clawbounties domain health endpoint responds with 200",
      "required": true,
      "ok": true,
      "elapsed_ms": 62,
      "output": {
        "status": 200,
        "version": "0.7.0",
        "environment": "staging"
      }
    },
    {
      "id": "routes.clawtrials.health",
      "description": "clawtrials domain health endpoint responds with 200",
      "required": true,
      "ok": true,
      "elapsed_ms": 95,
      "output": {
        "status": 200,
        "version": "0.1.0-staging",
        "environment": "staging"
      }
    },
    {
      "id": "routes.clawtrials.catalog",
      "description": "clawtrials catalog endpoint exposes deterministic harness IDs",
      "required": true,
      "ok": true,
      "elapsed_ms": 26,
      "output": {
        "status": 200,
        "harness_count": 3,
        "harness_ids": [
          "th_smoke_pass_v1",
          "th_smoke_fail_v1",
          "th_policy_summary_v1"
        ]
      }
    },
    {
      "id": "routes.clawtrials.harness-run",
      "description": "clawtrials /v1/harness/run returns deterministic response for pass harness",
      "required": true,
      "ok": true,
      "elapsed_ms": 26,
      "output": {
        "status": 200,
        "passed": true,
        "total_tests": 3,
        "failed_tests": 0
      }
    },
    {
      "id": "auth.requester.post-missing-token",
      "description": "POST /v1/bounties fails closed without requester token",
      "required": true,
      "ok": true,
      "elapsed_ms": 24,
      "output": {
        "status": 401,
        "error": "REQUESTER_TOKEN_REQUIRED"
      }
    },
    {
      "id": "auth.requester.legacy-header-rejected",
      "description": "Legacy requester header path is rejected in strict auth mode",
      "required": true,
      "ok": true,
      "elapsed_ms": 63,
      "output": {
        "status": 401,
        "error": "REQUESTER_TOKEN_REQUIRED"
      }
    },
    {
      "id": "auth.requester.post-valid-token",
      "description": "POST /v1/bounties succeeds with valid requester scoped token",
      "required": true,
      "ok": true,
      "elapsed_ms": 1485,
      "output": {
        "status": 201,
        "bounty_id": "bty_cf9ed54e-37a9-4e25-835f-c65b4cca95dc"
      }
    },
    {
      "id": "auth.worker.register-and-self",
      "description": "worker token contract enforces strict lane and allows scoped token for /v1/workers/self",
      "required": true,
      "ok": true,
      "elapsed_ms": 382,
      "output": {
        "register_status": 201,
        "legacy_self_status": 401,
        "legacy_self_error": "WORKER_TOKEN_CANONICAL_REQUIRED",
        "self_status": 200,
        "worker_did": "did:key:z6Mkm2LJ6xcbcxmT9njh6t8LHdSdy1Ugg4kekder3fFC4MWW",
        "worker_token_kid": "66a63dae7bbf4bda",
        "worker_token_hash": "0f662d512d99e7ce1201a9047410ca8436eba4dbeffd7fc8d1fbaa6c8809dfa5",
        "worker_token_lane": "legacy"
      }
    },
    {
      "id": "auth.requester.submission-list",
      "description": "requester token can access /v1/bounties/{id}/submissions for own bounty",
      "required": true,
      "ok": true,
      "elapsed_ms": 127,
      "output": {
        "status": 200,
        "submission_count": 0
      }
    },
    {
      "id": "harness.integration.auto-decision",
      "description": "closure_type=test submission auto-decides via clawtrials harness",
      "required": true,
      "ok": true,
      "elapsed_ms": 2521,
      "output": {
        "post_status": 201,
        "submit_status": 201,
        "final_status": "approved",
        "bounty_id": "bty_d2d9c87a-c515-4586-b1bc-ba2217950152",
        "submission_id": "sub_b154f2d2-c3da-45e1-b45e-a954fcebd256"
      }
    },
    {
      "id": "harness.integration.invalid-replay",
      "description": "invalid harness replay remains deterministic + fail-closed",
      "required": true,
      "ok": true,
      "elapsed_ms": 1209,
      "output": {
        "bounty_id": "bty_3d870f05-a0c2-4408-850d-b6e29c0ddce8",
        "first_status": 422,
        "replay_status": 422,
        "first_error": "TEST_HARNESS_INVALID",
        "replay_error": "TEST_HARNESS_INVALID"
      }
    },
    {
      "id": "auth.admin.get-bounty",
      "description": "admin key can read bounty detail endpoint",
      "required": false,
      "ok": false,
      "elapsed_ms": 0,
      "error": "ASSERT_FAILED: admin key not provided (set --admin-key or BOUNTIES_ADMIN_KEY)"
    }
  ],
  "resources": {
    "workerDid": "did:key:z6Mkm2LJ6xcbcxmT9njh6t8LHdSdy1Ugg4kekder3fFC4MWW",
    "requesterBountyId": "bty_cf9ed54e-37a9-4e25-835f-c65b4cca95dc",
    "testBountyId": "bty_d2d9c87a-c515-4586-b1bc-ba2217950152",
    "testSubmissionId": "sub_b154f2d2-c3da-45e1-b45e-a954fcebd256",
    "invalidHarnessBountyId": "bty_3d870f05-a0c2-4408-850d-b6e29c0ddce8",
    "invalidHarnessSubmissionId": "sub_1534068e-2217-4a4d-a300-15e3c79adac6"
  },
  "generated_at": "2026-02-11T23:13:16.036Z"
}
