2026-02-12
- Seeded Claw Protocol roadmap (v0.1).
- Goal: publish narrow waist spec + explicit coverage matrix + offline verifier + side-effect receipts + frictionless approvals wedge.
- Reference spec: docs/specs/claw-protocol/CLAW_PROTOCOL_v0.1.md

2026-02-12
- CPL-US-004/005 shipped: offline verifier CLI + conformance suite (offline, fail-closed, deterministic).
  - PR: https://github.com/clawbureau/clawbureau/pull/173
  - Build:
    - cd packages/clawverify-core && npm ci && npm run build
    - cd packages/clawverify-cli && npm ci && npm run build
  - Run conformance:
    - node scripts/protocol/run-claw-protocol-conformance.mjs
  - Evidence: artifacts/conformance/claw-protocol/2026-02-12T13-09-32-386Z/summary.json
  - CI: .github/workflows/claw-protocol-conformance.yml
  - DID proof: proofs/feat/protocol/CPL-US-004-005-offline-verifier-conformance/commit.sig.json

2026-02-12
- CPL-US-010 shipped: Claw Verified PR pipeline (offline verification + GitHub check).
  - PR: https://github.com/clawbureau/clawbureau/pull/174
  - Canonical evidence layout:
    - artifacts/poh/<branch>/<run_id>-bundle.json
    - artifacts/poh/<branch>/<run_id>-urm.json
    - artifacts/poh/<branch>/<run_id>-trust-pulse.json
    - artifacts/poh/<branch>/<run_id>-verify.json
  - Verifier config: packages/schema/fixtures/clawverify.config.clawbureau.v1.json
  - Workflow: .github/workflows/claw-verified-pr.yml
  - Runner: scripts/protocol/run-claw-verified-pr.mjs
  - Dogfood evidence pack:
    - artifacts/poh/feat/protocol/CPL-US-010-claw-verified-pr-pipeline/run_475c15b0-8ceb-4d39-9316-6bf6c4cf4426-verify.json

## 2026-02-12 — CPL-MAX-001: Protocol Coverage Expansion + Adoption Hardening

### CPL-US-010a — CI workflow hardening
- Added actions/setup-node cache: npm to claw-verified-pr.yml (eliminates cold npm ci)
- Added actions/upload-artifact for verify summary JSON (90-day retention)
- Documented branch protection recommendation in CLAW_VERIFIED_PR_PIPELINE.md §7-8

### CPL-US-010b — clawverify verify commit-sig CLI subcommand
- Extracted commit-sig verification from runner into packages/clawverify-cli
- CLI: `clawverify verify commit-sig --input <path>` returns PASS/FAIL + reason_code + commit_sha + signer_did
- Runner updated to use CLI (fallback to inline for missing CLI)
- 5 conformance vectors: pass, tampered, bad DID, unknown version, invalid message

### CPL-US-003 — Reason code registry
- Published docs/specs/claw-protocol/REASON_CODE_REGISTRY.md
- Mined 400+ codes from all services
- Organized by category (SIGNATURE_*, SCHEMA_*, UNKNOWN_*, HASH_*, DEPENDENCY_*, REPLAY_*, etc.)
- Defined required response shape for deny semantics
- Conformance suite validates registered codes only

### CPL-US-001 — Spec closure
- CLAW_PROTOCOL_v0.1.md confirmed complete: 5 primitives, coverage matrix, fail-closed, identity pluggable, "what is proven / what is not" section added
- passes=true

### CPL-US-002 — Coverage matrix closure
- Coverage matrix added to spec §2.3 (M/MT/MTS rows)
- Current truth updated: Coverage MT shipped
- passes=true

### CPL-US-006 — Tool receipt schema + minimal SDK
- packages/schema/poh/tool_receipt.v1.json (hash-only: tool name + args digest + result digest + timing + agent DID)
- packages/schema/poh/tool_receipt_envelope.v1.json (signed)
- packages/clawproof-sdk recordToolCall() implementation
- packages/clawverify-core validates tool_receipts in proof bundles (fail-closed on unknown version/algo)
- 3 conformance vectors: bad version, missing field, agent mismatch
- Coverage statement updated from "M shipped; MT planned" to "MT shipped"
- passes=true

### CPL-US-005b — Conformance suite expansion
- Added 12 new vectors (total: 18) covering:
  - commit-sig: pass, tampered, bad DID, unknown version, invalid message
  - tool receipts: bad version, missing field, agent mismatch
  - proof bundles: wrong signer DID, missing envelope field, unknown hash algorithm, empty event chain
- All vectors declare expected reason_code and PASS/FAIL
- conformance runner updated to handle commit_sig vectors

## 2026-02-12 — CPL-MAX-002: Side-Effect Receipts + Human Approval (Coverage MTS)

### CPL-US-007 — Side-effect receipt classes
- packages/schema/poh/side_effect_receipt.v1.json + envelope
- 3 effect classes: network_egress, filesystem_write, external_api_write
- Includes target digest, request/response digests, vendor_id, bytes_written
- SDK recordSideEffect() in clawproof-sdk
- clawverify-core validates in bundles (fail-closed on unknown class/version/algo)
- 2 conformance vectors: bad effect class, missing required field

### CPL-US-008 — Human approval receipts + capability minting
- packages/schema/poh/human_approval_receipt.v1.json + envelope
- 4 approval types: explicit_approve, explicit_deny, auto_approve, timeout_deny
- Approval mints CST bound to scope_hash_b64u + optional policy_hash_b64u pin
- SDK recordHumanApproval() in clawproof-sdk
- clawverify-core validates in bundles (fail-closed on unknown type/version)
- 2 conformance vectors: bad approval type, agent DID mismatch
- Two-phase execution posture documented in spec §2.5

### CPL-US-009 — Capability negotiation protocol
- packages/schema/poh/capability_request.v1.json
- packages/schema/poh/capability_response.v1.json
- 5 decision types: granted, denied, requires_approval, preflight_pass, preflight_fail
- Preflight mode for agent self-check compliance
- Per-action denied_actions with deterministic reason_code + rule references
- Documented in spec §2.6

### CPL-US-011 — Bring-your-own identity (stretch)
- Spec §4 expanded: canonical subject representation table
- Formats: DID, OIDC, service account, email, GitHub
- Mapping rules for receipts/envelopes/CSTs
- Fail-closed: unknown formats treated as opaque; signature verification requires did:key

### CPL-US-012 — Claw Verified supply-chain wedge (stretch)
- Spec §5: Claw Verified tool requirements (version pin + receipt emission + verification)
- Tool manifest signing flow (Ed25519 + JCS)
- Quarantine mode: low privilege, default deny side-effects, observe-only
- Integration guidance for skill/provider registries

### Coverage update
- M → MT → **MTS** (model + tools + side-effects + human approvals)
- Conformance suite: 22 vectors (4 new for side-effect + human approval)

### Tracker flips
- CPL-US-007, CPL-US-008, CPL-US-009, CPL-US-011, CPL-US-012 → passes=true
- **All 12 CPL stories now pass. Claw Protocol v0.1 roadmap: COMPLETE.**
