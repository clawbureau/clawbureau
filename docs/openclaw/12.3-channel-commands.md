Menu

## Channel Commands

Relevant source files
- [docs/cli/index.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md)
- [docs/gateway/index.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/index.md)
- [docs/gateway/troubleshooting.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md)
- [docs/index.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/index.md)
- [docs/start/getting-started.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/getting-started.md)
- [docs/start/wizard.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/wizard.md)
- [src/config/config.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/config.ts)

## Purpose and Scope

This page documents the CLI commands for managing messaging channel integrations in OpenClaw. These commands allow operators to configure, authenticate, monitor, and troubleshoot connections to WhatsApp, Telegram, Discord, Signal, iMessage, Slack, Google Chat, MS Teams, and plugin-provided channels like Mattermost.

For channel-specific setup guides, see [WhatsApp Integration](https://deepwiki.com/openclaw/openclaw/8.2-whatsapp-integration), [Telegram Integration](https://deepwiki.com/openclaw/openclaw/8.3-telegram-integration), [Discord Integration](https://deepwiki.com/openclaw/openclaw/8.4-discord-integration), and [Other Channels](https://deepwiki.com/openclaw/openclaw/8.6-other-channels). For channel routing and access control policies, see [Channel Routing and Access Control](https://deepwiki.com/openclaw/openclaw/8.1-channel-routing-and-access-control). For interactive channel setup via the wizard, see [Onboarding Wizard](https://deepwiki.com/openclaw/openclaw/2.3-onboarding-wizard).

---

## Command Overview

The `openclaw channels` command family provides seven subcommands for managing the lifecycle of channel integrations:

| Command | Purpose | Gateway Required |
| --- | --- | --- |
| `list` | Display configured channels and authentication status | No (reads local config) |
| `status` | Check Gateway reachability and channel health | Yes (RPC call) |
| `logs` | Tail recent channel logs from Gateway | Yes (RPC call) |
| `add` | Configure a new channel account | No (writes config) |
| `remove` | Disable or delete a channel account | No (writes config) |
| `login` | Interactive authentication (WhatsApp QR code) | Yes (initiates pairing) |
| `logout` | Disconnect channel session | Yes (clears credentials) |

All channel configuration is stored in `~/.openclaw/openclaw.json` under the `channels.*` namespace (or `OPENCLAW_CONFIG_PATH` when overridden). Channel credentials are stored separately under `~/.openclaw/credentials/<channel>/<accountId>/` (or `OPENCLAW_STATE_DIR`).

Sources: [docs/cli/index.md 355-402](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L355-L402) [docs/start/wizard.md 119-127](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/wizard.md#L119-L127)

---

## Channel Command Architecture

```
External ServicesGateway RuntimeConfiguration LayerCLI CommandsReadsReadsWritesPrompts forUpdatesRPC: health/statusRPC: logs queryRPC: channel.loginRPC: channel.logoutManagesMaintainsConnects toConnects toConnects toConnects toLoaded byLoaded byopenclaw channels listopenclaw channels statusopenclaw channels logsopenclaw channels addopenclaw channels removeopenclaw channels logout~/.openclaw/openclaw.json
channels.* entries~/.openclaw/credentials///.env file
TELEGRAM_BOT_TOKEN, etc.Gateway WebSocket Server
:18789Channel Adapters
Baileys, grammY, discord.jsChannel Connection State
linked, authenticated, errorWhatsApp Web
via BaileysTelegram Bot API
via grammYDiscord Bot API
via discord.jssignal-cli daemon
```

**Diagram: Channel Command Architecture**

The channel commands operate at two levels: local configuration management (list, add, remove) and Gateway runtime operations (status, logs, login, logout). Commands that modify configuration write directly to `openclaw.json`, while commands that query or control active connections communicate with the Gateway via WebSocket RPC. The Gateway loads configuration at startup and when hot-reloaded, then manages persistent connections to external messaging services through platform-specific adapters.

Sources: [docs/cli/index.md 355-402](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L355-L402) [src/config/config.ts 1-15](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/config.ts#L1-L15)

---

## Command Reference

### openclaw channels list

Displays all configured channel accounts with their authentication status, display names, and account identifiers.

**Options:**

- `--json`: Output structured JSON instead of formatted table
- `--no-usage`: Skip OAuth provider usage/quota queries (only relevant for OAuth-backed channels)

**Behavior:**

- Reads `channels.*` configuration from local config file
- Does **not** require Gateway to be running
- Checks for credential files under `~/.openclaw/credentials/<channel>/<accountId>/`
- Reports authentication state as: `configured`, `credentials found`, or `missing auth`

**Output Fields:**

- Channel name (whatsapp, telegram, discord, etc.)
- Account ID (default: `default`)
- Display name (from config or auto-generated)
- Authentication status
- Last connection timestamp (when available)

**Example:**

```
# List all channels (formatted table)
openclaw channels list

# JSON output for scripting
openclaw channels list --json

# Skip usage queries (faster)
openclaw channels list --no-usage
```

**Configuration Read Locations:**

- `channels.whatsapp.accounts.*` → WhatsApp accounts
- `channels.telegram.botToken` → Telegram (single account)
- `channels.discord.token` → Discord (single account)
- `channels.signal.*` → Signal accounts
- `channels.imessage.*` → iMessage configuration

Sources: [docs/cli/index.md 384-387](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L384-L387)

---

### openclaw channels status

Queries the Gateway for channel health and connection status. This is the primary diagnostic command for troubleshooting channel connectivity issues.

**Options:**

- `--probe`: Run deep health checks including live provider API tests
- `--json`: Output structured JSON
- `--timeout <ms>`: RPC timeout (default from config)

**Behavior:**

- Requires Gateway to be running (connects via WebSocket RPC)
- Reports Gateway reachability first (connection state, auth status)
- Queries each configured channel's connection state
- With `--probe`: Attempts test API calls to verify credentials and connectivity
- Prints warnings with suggested fixes for detected misconfigurations
- On error, suggests running `openclaw doctor` for automated repairs

**Status States:**

- `connected`: Channel adapter is connected to external service
- `authenticated`: Credentials are valid and active
- `disconnected`: Adapter is offline (may reconnect automatically)
- `error`: Configuration or authentication failure
- `not configured`: Channel is disabled or missing required settings

**Example:**

```
# Quick status check
openclaw channels status

# Deep probe with API validation
openclaw channels status --probe

# JSON output for monitoring
openclaw channels status --json --timeout 5000
```

**Common Errors and Fixes:**

- `Gateway not reachable`: Check `openclaw gateway status`
- `WhatsApp not linked`: Run `openclaw channels login`
- `Invalid bot token`: Verify token in `openclaw channels list`, re-add if needed
- `Signal daemon not running`: Check `signal-cli` daemon status

Sources: [docs/cli/index.md 362-363](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L362-L363) [docs/gateway/troubleshooting.md 23-26](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L23-L26)

---

### openclaw channels logs

Retrieves and displays recent channel-related log entries from the Gateway's structured log file.

**Options:**

- `--channel <name|all>`: Filter by channel name (default: `all`)
- `--lines <n>`: Number of log lines to retrieve (default: `200`)
- `--json`: Output raw log entries as line-delimited JSON

**Behavior:**

- Requires Gateway to be running (RPC call: `logs.query`)
- Queries `/tmp/openclaw/openclaw-YYYY-MM-DD.log` (or configured `logging.file`)
- Filters entries matching channel-related log contexts
- Renders with ANSI colors in TTY sessions, plain text otherwise

**Log Entry Fields:**

- Timestamp (ISO 8601)
- Log level (info, warn, error, debug, trace)
- Channel name
- Message/event description
- Structured context (JSON when `--json`)

**Example:**

```
# View all channel logs (last 200 lines)
openclaw channels logs

# Filter to WhatsApp only
openclaw channels logs --channel whatsapp --lines 100

# Raw JSON for analysis
openclaw channels logs --json | jq '.[] | select(.level=="error")'

# Watch for connection events
openclaw logs --follow | grep "connection\|disconnect\|logout"
```

**Use Cases:**

- Debugging authentication failures
- Monitoring reconnection attempts
- Investigating message delivery issues
- Correlating errors with Gateway restarts

Sources: [docs/cli/index.md 388-392](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L388-L392) [docs/gateway/troubleshooting.md 370-391](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L370-L391)

---

### openclaw channels add

Configures a new channel account. Runs in interactive wizard mode by default, or non-interactive mode when flags are provided.

**Common Options:**

- `--channel <name>`: Channel type (required in non-interactive mode)
	- Supported: `whatsapp`, `telegram`, `discord`, `googlechat`, `slack`, `mattermost`, `signal`, `imessage`, `msteams`
- `--account <id>`: Account identifier (default: `default`)
- `--name <label>`: Display name for this channel account

**Channel-Specific Options:**

**Telegram:**

- `--token <token>`: Bot token from @BotFather

**Discord:**

- `--token <token>`: Bot token from Discord Developer Portal

**Signal:**

- `--cli-path <path>`: Path to `signal-cli` binary
- `--account <phone>`: Phone number (E.164 format)
- `--daemon-port <port>`: signal-cli daemon port (default: `7583`)

**iMessage:**

- `--cli-path <path>`: Path to `imsg` binary
- `--db-path <path>`: Path to Messages database

**Mattermost (plugin):**

- `--token <token>`: Bot token
- `--base-url <url>`: Mattermost server URL
- `--team <name>`: Team name/slug

**Behavior:**

- Writes configuration to `~/.openclaw/openclaw.json` under `channels.<channel>.*`
- Interactive mode prompts for required fields and validates input
- Non-interactive mode requires all mandatory flags
- Does **not** require Gateway restart (hot-reloadable when `gateway.reload.mode != "off"`)
- For OAuth-backed channels (future), launches browser flow
- Saves bot tokens to config; some channels support `.env` file fallback

**Example:**

```
# Interactive wizard
openclaw channels add

# Non-interactive Telegram bot
openclaw channels add \
  --channel telegram \
  --account alerts \
  --name "Alerts Bot" \
  --token $TELEGRAM_BOT_TOKEN

# Discord bot with custom name
openclaw channels add \
  --channel discord \
  --account work \
  --name "Work Bot" \
  --token $DISCORD_BOT_TOKEN

# Signal with custom daemon port
openclaw channels add \
  --channel signal \
  --account +15555550123 \
  --cli-path /usr/local/bin/signal-cli \
  --daemon-port 7584
```

**Post-Configuration:**

- WhatsApp requires `openclaw channels login` to complete authentication
- Other channels should connect automatically when Gateway restarts/reloads
- Verify with `openclaw channels status --probe`
- For DM policies, see [Channel Routing and Access Control](https://deepwiki.com/openclaw/openclaw/8.1-channel-routing-and-access-control)

Sources: [docs/cli/index.md 365-402](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L365-L402) [docs/start/wizard.md 119-127](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/wizard.md#L119-L127)

---

### openclaw channels remove

Disables or deletes a channel account configuration.

**Options:**

- `--channel <name>`: Channel type (required)
- `--account <id>`: Account identifier (default: `default`)
- `--delete`: Permanently remove config entry (default: disable only)
- `--yes`: Skip confirmation prompt

**Behavior:**

- Default mode: Disables channel by setting `enabled: false` in config
- With `--delete`: Removes config entry entirely
- Does **not** delete credential files automatically (use `openclaw channels logout` first for clean removal)
- Prompts for confirmation unless `--yes` is passed
- Gateway hot-reloads config and disconnects channel adapter

**Example:**

```
# Disable channel (keeps config, can re-enable later)
openclaw channels remove --channel discord --account work

# Permanently delete config entry
openclaw channels remove --channel discord --account work --delete

# Non-interactive deletion
openclaw channels remove --channel telegram --account alerts --delete --yes
```

**Cleanup Workflow:**

```
# 1. Logout to clear credentials
openclaw channels logout --channel whatsapp

# 2. Remove config entry
openclaw channels remove --channel whatsapp --delete

# 3. Verify removal
openclaw channels list
```

Sources: [docs/cli/index.md 366](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L366-L366)

---

### openclaw channels login

Initiates interactive authentication for WhatsApp Web. Displays a QR code that must be scanned using WhatsApp → Settings → Linked Devices.

**Options:**

- `--channel <channel>`: Channel type (default: `whatsapp`; only `whatsapp` supported currently)
- `--account <id>`: Account identifier (default: `default`)
- `--verbose`: Show detailed connection logs

**Behavior:**

- Requires Gateway to be running (RPC: `channel.login`)
- Gateway initializes Baileys WhatsApp Web client
- Generates QR code and displays in terminal (as ASCII art)
- Waits for QR scan and authentication handshake
- Saves session credentials to `~/.openclaw/credentials/whatsapp/<accountId>/`
- Connection state updates appear in `openclaw channels status`
- Times out after 60 seconds if not scanned

**WhatsApp Authentication Flow:**

1. Command sends `channel.login` RPC to Gateway
2. Gateway creates ephemeral Baileys client
3. QR code is generated and streamed to CLI
4. User scans QR with WhatsApp mobile app
5. Gateway receives authentication payload
6. Session credentials are persisted
7. Gateway establishes persistent connection

**Example:**

```
# Login to default WhatsApp account
openclaw channels login

# Login with verbose output for debugging
openclaw channels login --verbose

# Login to specific account
openclaw channels login --account personal
```

**Troubleshooting:**

- `QR code expired`: Re-run command (QR codes expire after 60 seconds)
- `Already logged in`: Use `openclaw channels logout` first to clear session
- `Gateway not running`: Start with `openclaw gateway` or `openclaw gateway restart`
- `Connection unstable`: Check logs with `openclaw channels logs --channel whatsapp`

**Re-authentication:**If WhatsApp logs out (unlinked device, security issue, inactivity), re-run login:

```
openclaw channels logout --channel whatsapp
openclaw channels login --verbose
```

Sources: [docs/cli/index.md 375-378](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L375-L378) [docs/gateway/troubleshooting.md 467-475](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L467-L475) [docs/start/getting-started.md 133-140](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/getting-started.md#L133-L140)

---

### openclaw channels logout

Disconnects from a channel and optionally clears stored credentials.

**Options:**

- `--channel <channel>`: Channel type (default: `whatsapp`)
- `--account <id>`: Account identifier (default: `default`)

**Behavior:**

- Requires Gateway to be running (RPC: `channel.logout`)
- Gracefully disconnects from external service
- Clears session credentials from `~/.openclaw/credentials/<channel>/<accountId>/`
- For WhatsApp: unlinks device session (appears as "logged out" in WhatsApp app)
- For bot-token channels: disconnects adapter but tokens remain in config

**Example:**

```
# Logout from WhatsApp
openclaw channels logout --channel whatsapp

# Logout from specific account
openclaw channels logout --channel whatsapp --account business
```

**Manual Credential Cleanup:**If `logout` fails or credentials are corrupted, manually remove:

```
trash "${OPENCLAW_STATE_DIR:-$HOME/.openclaw}/credentials/whatsapp/"
openclaw gateway restart
```

Sources: [docs/cli/index.md 379-382](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L379-L382) [docs/gateway/troubleshooting.md 386-391](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L386-L391)

---

## Configuration Storage

```
Credential Files: ~/.openclaw/credentials/Signal ConfigurationBot Token ChannelsWhatsApp ConfigurationConfiguration File: ~/.openclaw/openclaw.jsonReferencesRoot Objectchannels.*channels.whatsapp.*channels.telegram.*channels.discord.*channels.signal.*accounts: Mapdefault account configallowFrom: string[]groups: Maptelegram.botToken: stringdiscord.token: stringtelegram.groupPolicy: stringdiscord.groupPolicy: stringsignal.cliPath: stringsignal.account: stringsignal.daemonPort: numberwhatsapp//creds.jsonkeys.json
```

**Diagram: Channel Configuration Storage Structure**

Channel configuration is split between `openclaw.json` (connection parameters, policies, bot tokens) and the `credentials/` directory (session data, authentication payloads). The `channels.*` namespace in config is read by the Gateway at startup and when hot-reloaded. WhatsApp accounts are multi-instance capable with per-account credential directories, while Telegram/Discord use single-account bot token patterns. Signal configuration points to the `signal-cli` binary and daemon connection details.

Sources: [docs/cli/index.md 355-402](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L355-L402) [docs/start/wizard.md 294-314](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/wizard.md#L294-L314)

---

## Channel Command Workflows

### Initial Channel Setup

```
External ServiceChannel AdapterGateway Processopenclaw.jsonopenclaw CLIUserExternal ServiceChannel AdapterGateway Processopenclaw.jsonopenclaw CLIUseropenclaw channels addPrompt for channel typePrompt for credentials/tokensWrite channels.* configSuccessChannel configuredopenclaw channels loginRPC: channel.loginInitialize adapterConnect + authenticateSession dataStore credentialsQR code / successDisplay QR / confirmationopenclaw channels statusRPC: channel.statusQuery stateConnection statusStatus payloadDisplay status
```

**Diagram: Initial Channel Setup Workflow**

The typical setup sequence starts with `channels add` to write configuration, followed by `channels login` for authentication (WhatsApp) or automatic connection (bot tokens). The Gateway loads configuration at startup or via hot-reload, then initializes the appropriate channel adapter (Baileys for WhatsApp, grammY for Telegram, discord.js for Discord). Status verification uses RPC to query the running Gateway's view of connection state.

Sources: [docs/cli/index.md 365-402](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L365-L402) [docs/start/wizard.md 119-127](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/wizard.md#L119-L127)

---

### Troubleshooting Disconnections

```
Channel Disconnectedopenclaw gateway statusGateway not runningGateway runningopenclaw channels statusDisconnected stateopenclaw channels logsopenclaw gateway restartopenclaw doctor
openclaw configure
```

**Diagram: Channel Disconnection Troubleshooting Flow**

Disconnection diagnostics follow a layered approach: verify Gateway health first (`gateway status`), then query channel state (`channels status`), then inspect logs for error context (`channels logs`). Authentication failures typically require re-login, network errors may resolve with Gateway restart, and configuration errors should be repaired with `openclaw doctor`.

Sources: [docs/gateway/troubleshooting.md 282-323](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L282-L323) [docs/gateway/troubleshooting.md 370-391](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L370-L391)

---

## Common Channel Patterns

### Multi-Account WhatsApp

OpenClaw supports multiple WhatsApp accounts on the same Gateway instance with isolated credentials:

```
# Add personal account (default)
openclaw channels add --channel whatsapp --account personal --name "Personal"
openclaw channels login --account personal

# Add business account
openclaw channels add --channel whatsapp --account business --name "Business"
openclaw channels login --account business

# Check both accounts
openclaw channels list
openclaw channels status
```

**Configuration:**

```
{
  "channels": {
    "whatsapp": {
      "accounts": {
        "personal": {
          "displayName": "Personal",
          "allowFrom": ["+15555550123"]
        },
        "business": {
          "displayName": "Business",
          "allowFrom": ["+15555550999"]
        }
      }
    }
  }
}
```

**Credential Storage:**

- `~/.openclaw/credentials/whatsapp/personal/`
- `~/.openclaw/credentials/whatsapp/business/`

Sources: [docs/cli/index.md 370-373](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L370-L373)

---

### Bot Token Management

For channels using bot tokens (Telegram, Discord), tokens can be stored in config or environment variables:

```
# Store in config (persisted)
openclaw channels add \
  --channel telegram \
  --token $TELEGRAM_BOT_TOKEN

# Or use environment variable (runtime only)
export TELEGRAM_BOT_TOKEN="123456:ABC-DEF..."
# Config references: channels.telegram.botToken = "${TELEGRAM_BOT_TOKEN}"
```

**Token Rotation:**

```
# 1. Get new token from @BotFather (Telegram) or Discord Developer Portal
# 2. Update config
openclaw config set channels.telegram.botToken "new-token-here"
# 3. Gateway hot-reloads and reconnects automatically
openclaw channels status --probe
```

Sources: [docs/cli/index.md 397-402](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L397-L402)

---

### Signal Integration

Signal requires `signal-cli` daemon to be running separately:

```
# Install signal-cli (via wizard or manual)
openclaw onboard  # Wizard can install signal-cli

# Or manual install
wget https://github.com/AsamK/signal-cli/releases/download/v0.X.Y/signal-cli-0.X.Y.tar.gz
tar -xf signal-cli-0.X.Y.tar.gz -C ~/.openclaw/tools/

# Register number (one-time)
signal-cli -u +15555550123 register
signal-cli -u +15555550123 verify CODE

# Start daemon
signal-cli -u +15555550123 daemon --json --socket /tmp/signal-cli.sock

# Configure OpenClaw
openclaw channels add \
  --channel signal \
  --account +15555550123 \
  --cli-path ~/.openclaw/tools/signal-cli/bin/signal-cli \
  --daemon-port 7583
```

**Daemon Supervision:**Use systemd or launchd to keep `signal-cli daemon` running:

```
# systemd user unit example
[Unit]
Description=Signal CLI Daemon
After=network.target

[Service]
ExecStart=/home/user/.openclaw/tools/signal-cli/bin/signal-cli -u +15555550123 daemon --json
Restart=always

[Install]
WantedBy=default.target
```

Sources: [docs/start/wizard.md 282-292](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/wizard.md#L282-L292)

---

Channel commands primarily interact with the following config paths:

| Config Path | Purpose |
| --- | --- |
| `channels.whatsapp.accounts.*` | WhatsApp account configurations |
| `channels.whatsapp.allowFrom` | Global WhatsApp allowlist |
| `channels.whatsapp.groups.*` | WhatsApp group policies |
| `channels.telegram.botToken` | Telegram bot authentication |
| `channels.telegram.groupPolicy` | Telegram group access control |
| `channels.discord.token` | Discord bot authentication |
| `channels.discord.guilds.*` | Discord server allowlists |
| `channels.signal.cliPath` | Path to signal-cli binary |
| `channels.signal.account` | Signal phone number |
| `channels.imessage.cliPath` | Path to imsg binary |
| `gateway.reload.mode` | Config hot-reload behavior |

For detailed configuration schema and examples, see [Configuration File Structure](https://deepwiki.com/openclaw/openclaw/4.1-configuration-file-structure).

Sources: [docs/cli/index.md 370-373](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L370-L373) [docs/start/wizard.md 294-314](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/start/wizard.md#L294-L314)

---

## Integration with Other Commands

Channel commands frequently work alongside other CLI tools:

**Health Monitoring:**

```
# Quick system overview (includes channels)
openclaw status

# Deep probe (tests channel APIs)
openclaw status --deep

# Isolated channel health
openclaw channels status --probe
```

**Gateway Management:**

```
# Restart after config changes
openclaw gateway restart

# Monitor connection logs
openclaw logs --follow | grep whatsapp
openclaw channels logs --channel whatsapp
```

**Configuration Management:**

```
# Guided channel setup
openclaw configure

# Direct config manipulation
openclaw config set channels.telegram.botToken "new-token"
openclaw config get channels.whatsapp.allowFrom

# Repair corrupted config
openclaw doctor
```

**Diagnostic Tools:**

```
# Security audit (checks channel permissions)
openclaw security audit --deep

# Export full system state
openclaw status --all > openclaw-debug.txt
```

Sources: [docs/cli/index.md 18-34](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L18-L34) [docs/gateway/troubleshooting.md 16-29](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L16-L29)

---

## Troubleshooting Quick Reference

| Symptom | Diagnostic Command | Fix Command |
| --- | --- | --- |
| Channel not listed | `openclaw channels list` | `openclaw channels add` |
| WhatsApp disconnected | `openclaw channels status` | `openclaw channels login` |
| Bot not responding | `openclaw channels logs` | Check token, re-add channel |
| Auth expired | `openclaw channels status --probe` | `openclaw channels logout && login` |
| Config invalid | `openclaw doctor` | `openclaw doctor --fix` |
| Gateway unreachable | `openclaw gateway status` | `openclaw gateway restart` |
| Credentials corrupted | `ls ~/.openclaw/credentials/` | `trash ~/.openclaw/credentials/<channel>` + re-login |

**Common Error Patterns:**

1. **"Channel not configured"**: Channel entry missing from `openclaw.json` → Run `openclaw channels add`
2. **"Invalid token"**: Bot token revoked or malformed → Get new token, re-add channel
3. **"Not linked"**: WhatsApp session expired → Run `openclaw channels logout && openclaw channels login`
4. **"Daemon not running"**: Signal-cli daemon stopped → Restart signal-cli daemon, check logs
5. **"Gateway not reachable"**: Gateway process not running or port conflict → Run `openclaw gateway status --deep`

Sources: [docs/gateway/troubleshooting.md 282-323](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L282-L323) [docs/gateway/troubleshooting.md 370-391](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/gateway/troubleshooting.md#L370-L391)

---

## Advanced Usage

### Non-Interactive Scripting

All channel commands support non-interactive operation for automation:

```
#!/bin/bash
# Automated channel setup script

# Add Telegram bot
openclaw channels add \
  --channel telegram \
  --account alerts \
  --name "Alert Bot" \
  --token "$TELEGRAM_BOT_TOKEN"

# Add Discord bot
openclaw channels add \
  --channel discord \
  --account monitoring \
  --name "Monitor Bot" \
  --token "$DISCORD_BOT_TOKEN"

# Verify setup
openclaw channels list --json | jq -r '.[] | "\(.channel):\(.account) - \(.status)"'

# Wait for Gateway restart/reload
sleep 5

# Probe connectivity
openclaw channels status --probe --json > /var/log/openclaw-channels.json
```

Sources: [docs/cli/index.md 397-402](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L397-L402)

---

### Monitoring Integration

Channel status can be polled for monitoring systems:

```
# Prometheus exporter pattern
while true; do
  openclaw channels status --json | \
    jq -r '.channels[] | "openclaw_channel_connected{channel=\"\(.channel)\",account=\"\(.account)\"} \(if .connected then 1 else 0 end)"'
  sleep 60
done
```

**Example output:**

```
openclaw_channel_connected{channel="whatsapp",account="default"} 1
openclaw_channel_connected{channel="telegram",account="alerts"} 1
openclaw_channel_connected{channel="discord",account="work"} 0
```

Sources: [docs/cli/index.md 362-363](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L362-L363)

---

### Log Analysis

Channel logs use structured JSON for programmatic analysis:

```
# Extract auth failures
openclaw channels logs --json | \
  jq 'select(.level=="error" and .message | contains("auth"))'

# Connection uptime analysis
openclaw channels logs --channel whatsapp --lines 1000 --json | \
  jq -r 'select(.event=="connection") | "\(.timestamp) \(.message)"' | \
  awk 'BEGIN {up=0; down=0} /connect/ {up++} /disconnect/ {down++} END {print "Up:", up, "Down:", down}'

# Error rate by channel
openclaw channels logs --json | \
  jq -r 'select(.level=="error") | .channel' | \
  sort | uniq -c | sort -rn
```

Sources: [docs/cli/index.md 388-392](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/cli/index.md#L388-L392)

<svg id="mermaid-fu8dstus3vp" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-7khuxtjp8f" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-5cnv3xfsc84" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-hmbioix2qbm" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-z5tp3lz1enf" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg>