Menu

## Plugin System Overview

Relevant source files
- [.npmrc](https://github.com/openclaw/openclaw/blob/bf6ec64f/.npmrc)
- [CHANGELOG.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md)
- [README.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/README.md)
- [assets/avatar-placeholder.svg](https://github.com/openclaw/openclaw/blob/bf6ec64f/assets/avatar-placeholder.svg)
- [extensions/memory-core/package.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/extensions/memory-core/package.json)
- [package.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/package.json)
- [pnpm-lock.yaml](https://github.com/openclaw/openclaw/blob/bf6ec64f/pnpm-lock.yaml)
- [pnpm-workspace.yaml](https://github.com/openclaw/openclaw/blob/bf6ec64f/pnpm-workspace.yaml)
- [scripts/clawtributors-map.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/scripts/clawtributors-map.json)
- [scripts/protocol-gen-swift.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/scripts/protocol-gen-swift.ts)
- [scripts/update-clawtributors.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/scripts/update-clawtributors.ts)
- [scripts/update-clawtributors.types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/scripts/update-clawtributors.types.ts)
- [src/agents/pi-embedded-runner-extraparams.live.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner-extraparams.live.test.ts)
- [src/agents/pi-embedded-runner-extraparams.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner-extraparams.test.ts)
- [src/cron/run-log.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/cron/run-log.test.ts)
- [src/cron/run-log.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/cron/run-log.ts)
- [src/cron/store.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/cron/store.ts)
- [src/gateway/protocol/index.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/gateway/protocol/index.ts)
- [src/gateway/protocol/schema.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/gateway/protocol/schema.ts)
- [src/gateway/server.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/gateway/server.ts)
- [src/index.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/index.ts)
- [ui/package.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/ui/package.json)
- [ui/src/styles.css](https://github.com/openclaw/openclaw/blob/bf6ec64f/ui/src/styles.css)
- [ui/src/styles/layout.mobile.css](https://github.com/openclaw/openclaw/blob/bf6ec64f/ui/src/styles/layout.mobile.css)

## Purpose and Scope

This page describes OpenClaw's plugin architecture: how plugins are discovered, loaded, validated, and integrated into the Gateway. Plugins extend OpenClaw with new messaging channels, agent tools, model providers, and memory backends through a standardized manifest system and four integration slot types.

For creating custom plugins, see [Creating Custom Plugins](https://deepwiki.com/openclaw/openclaw/10.3-creating-custom-plugins). For details on specific bundled extensions, see [Built-in Extensions](https://deepwiki.com/openclaw/openclaw/10.2-built-in-extensions).

---

## Plugin Architecture

OpenClaw's plugin system is built around **discovery**, **validation**, and **registration** of extensions that implement one or more integration slots.

```
Gateway IntegrationIntegration SlotsPlugin RegistryPlugin LoadingPlugin Discoveryextensions/ directorypackage.json filesopenclaw.extensions fieldPluginLoaderTypeBox Schema ValidatorPlugin SDK
dist/plugin-sdk/PluginRegistryCapability MetadataLifecycle ManagementChannel Slot
Messaging PlatformsTool Slot
Agent CapabilitiesProvider Slot
Model InferenceMemory Slot
Search BackendsChannel RouterTool RegistryModel ProvidersMemory Search
```

**Sources:**[CHANGELOG.md 1-430](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L1-L430) Diagram 5 from high-level architecture

---

## Plugin Discovery

The **Plugin Loader** discovers extensions by scanning the `extensions/` workspace directory for `package.json` files containing an `openclaw.extensions` manifest field.

### Discovery Process

1. **Directory Scan**: Loader traverses `extensions/` looking for package directories
2. **Manifest Detection**: Reads `package.json` and checks for `openclaw.extensions` array
3. **Entry Resolution**: Each entry in the array points to a TypeScript/JavaScript file
4. **Import**: Loader dynamically imports the entry file
```
YesNoGateway StartScan extensions/Find package.json filesCheck openclaw.extensionsHas manifest?Import entry filesSkip packageValidate manifest schema
```

### Example Plugin Structure

```
extensions/
├── memory-core/
│   ├── package.json         # Contains openclaw.extensions manifest
│   ├── index.ts             # Plugin entry point
│   └── ...
├── matrix/
│   ├── package.json
│   ├── index.ts
│   └── ...
└── msteams/
    ├── package.json
    ├── index.ts
    └── ...
```

**Sources:**[CHANGELOG.md 395-409](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L395-L409) [extensions/memory-core/package.json 1-17](https://github.com/openclaw/openclaw/blob/bf6ec64f/extensions/memory-core/package.json#L1-L17) [pnpm-workspace.yaml 1-15](https://github.com/openclaw/openclaw/blob/bf6ec64f/pnpm-workspace.yaml#L1-L15)

---

## Plugin Manifest

Each plugin declares its capabilities in `package.json` via the `openclaw.extensions` field. The manifest includes entry points, configuration schema, and capability declarations.

### Manifest Structure

```
{
  "name": "@openclaw/memory-core",
  "openclaw": {
    "extensions": [
      "./index.ts"
    ]
  },
  "peerDependencies": {
    "openclaw": ">=2026.1.26"
  }
}
```

### Manifest Fields

| Field | Type | Description |
| --- | --- | --- |
| `extensions` | `string[]` | Array of entry file paths relative to package root |
| Configuration schema | Embedded in entry file | TypeBox schema for plugin config validation |
| Slot declarations | Exported from entry | Channel, tool, provider, or memory slot implementations |
| Metadata | Exported from entry | Display name, icon, description for UI rendering |

### Auto-Enable Behavior

**Built-in channel and provider plugins** auto-enable when relevant configuration sections are present in `openclaw.json`. For example, the Matrix plugin auto-enables when `channels.matrix` config exists.

```
YesNoLoad openclaw.jsonCheck config sectionsHas channels.matrix?Enable Matrix pluginSkip Matrix pluginPlugin ready
```

**Sources:**[CHANGELOG.md 406](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L406-L406) [extensions/memory-core/package.json 6-10](https://github.com/openclaw/openclaw/blob/bf6ec64f/extensions/memory-core/package.json#L6-L10)

---

## Integration Slots

OpenClaw defines four **integration slot types** that plugins can implement. Each slot provides a different extension point into the Gateway's core functionality.

### Slot Types Overview

| Slot Type | Purpose | Integration Point | Examples |
| --- | --- | --- | --- |
| **Channel** | Messaging platform integrations | Channel Router | MS Teams, Matrix, Nostr, LINE |
| **Tool** | Agent capabilities | Tool Registry | Lobster workflow, LLM Task |
| **Provider** | AI model inference | Model Providers | Custom inference endpoints |
| **Memory** | Search backends | Memory Search | memory-core (BM25+vector) |

### Channel Slot

Channel plugins implement messaging platform adapters. They handle:

- Connection lifecycle (login, logout, reconnect)
- Message routing (inbound/outbound)
- Platform-specific features (threads, reactions, media)
- Access control (allowlists, DM policies)
```
Messaging Platform
(Teams, Matrix, etc)Channel Plugin AdapterChannel RouterGateway Message BusAgent Runtime
```

### Tool Slot

Tool plugins add agent capabilities. They expose functions that agents can invoke during execution.

Examples:

- **Lobster**: Workflow execution with typed inputs/outputs
- **LLM Task**: JSON-only structured generation

### Provider Slot

Provider plugins add AI model inference backends. They implement the model provider interface for custom inference services.

### Memory Slot

Memory plugins implement search backends for context retrieval. The default `@openclaw/memory-core` provides hybrid BM25+vector search.

**Sources:**[CHANGELOG.md 395-409](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L395-L409) Diagram 5 from high-level architecture

---

## Plugin SDK

The **Plugin SDK** (`dist/plugin-sdk/`) provides TypeScript types, validation utilities, and helper functions for plugin development.

### SDK Exports

The main package exports the SDK for plugin use:

```
// From package.json exports
"./plugin-sdk": "./dist/plugin-sdk/index.js"
"./plugin-sdk/*": "./dist/plugin-sdk/*"
```

### SDK Components

| Component | Purpose |
| --- | --- |
| Type definitions | TypeScript interfaces for slots, manifests, events |
| Schema validators | TypeBox validation for plugin config |
| Helper utilities | Common patterns for plugin lifecycle |
| Gateway client | RPC client for plugin-to-Gateway communication |

### TypeBox Validation

Plugins declare configuration schemas using **TypeBox** (not Zod). The Plugin Loader validates plugin config sections against these schemas before loading.

```
// Example schema declaration in plugin
import { Type } from "@sinclair/typebox";

export const configSchema = Type.Object({
  enabled: Type.Optional(Type.Boolean()),
  apiKey: Type.String(),
  endpoint: Type.Optional(Type.String())
});
```

**Sources:**[package.json 8-10](https://github.com/openclaw/openclaw/blob/bf6ec64f/package.json#L8-L10) [CHANGELOG.md 395](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L395-L395)

---

## Plugin Lifecycle

Plugins follow a managed lifecycle from discovery through shutdown.

### Lifecycle Phases

```
Scan extensions/Check manifest schemaImport entry fileApply config sectionRegister capabilitiesReady for useGateway stopDiscoveredValidatedLoadedConfiguredActiveShutdown
```

### Lifecycle Events

| Phase | Action | Trigger |
| --- | --- | --- |
| **Discovery** | Scan `extensions/` directory | Gateway start |
| **Validation** | Validate manifest + config schema | After discovery |
| **Loading** | Import entry file | After validation |
| **Configuration** | Load plugin config section | After import |
| **Registration** | Register with PluginRegistry | After config |
| **Activation** | Mark available for use | After registration |
| **Shutdown** | Cleanup resources | Gateway stop |

### Auto-Enable for Built-ins

Built-in **channel** and **provider** plugins auto-enable when configuration is present. Other plugins require explicit allowlists or opt-in.

**Sources:**[CHANGELOG.md 406-409](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L406-L409)

---

## Built-in Extensions

OpenClaw ships with **20+ bundled extensions** in the `extensions/` workspace.

### Extension Categories

```
Utility Extensions (5+)discord
Enhanced Discordslack
Enhanced Slacktelegram
Enhanced Telegramsignal
Enhanced Signalimessage
Enhanced iMessageProvider Extensions (2)google-antigravity-auth
OAuth providergoogle-gemini-cli-auth
CLI authMemory Extensions (2)memory-core
BM25+vector searchmemory-lancedb
LanceDB backendTool Extensions (2)lobster
Workflow toolllm-task
JSON generationChannel Extensions (9)msteams
Microsoft Teamsmatrix
Matrix E2EEnostr
Nostr protocolline
LINE Messagingtlon
Urbit/Tlonzalo
Zalo Messengerzalouser
Zalo Personalbluebubbles
iMessage proxyvoice-call
Twilio integration
```

### Built-in Extension List

| Extension | Slot Type | Dependencies | Auto-Enable |
| --- | --- | --- | --- |
| `msteams` | Channel | `@microsoft/agents-hosting` | Yes (if config) |
| `matrix` | Channel | `@vector-im/matrix-bot-sdk` | Yes (if config) |
| `nostr` | Channel | `nostr-tools` | Yes (if config) |
| `line` | Channel | `@line/bot-sdk` | Yes (if config) |
| `tlon` | Channel | `@urbit/http-api` | Yes (if config) |
| `zalo` | Channel | Custom protocol | Yes (if config) |
| `zalouser` | Channel | Custom protocol | Yes (if config) |
| `bluebubbles` | Channel | BlueBubbles API | Optional |
| `voice-call` | Channel | Twilio | Optional |
| `lobster` | Tool | None | Optional allowlist |
| `llm-task` | Tool | None | Optional allowlist |
| `memory-core` | Memory | `sqlite-vec` | Default |
| `memory-lancedb` | Memory | `@lancedb/lancedb` | Optional |

**Sources:**[CHANGELOG.md 1-430](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L1-L430) [pnpm-workspace.yaml 1-15](https://github.com/openclaw/openclaw/blob/bf6ec64f/pnpm-workspace.yaml#L1-L15) Diagram 5

---

## Configuration Integration

Plugins integrate with OpenClaw's configuration system through dedicated config sections.

### Plugin Config Sections

Plugin configuration lives under the plugin name in `openclaw.json`:

```
{
  "channels": {
    "matrix": {
      "enabled": true,
      "homeserverUrl": "https://matrix.org",
      "accessToken": "...",
      "dm": {
        "policy": "pairing"
      }
    }
  }
}
```

### Config Schema Validation

Each plugin provides a **TypeBox schema** that validates its config section. The Gateway validates config on load and rejects invalid configurations.

```
YesNoLoad openclaw.jsonExtract plugin sectionsValidate each sectionSchema valid?Apply to pluginReject + log errorPlugin readyPlugin disabled
```

### Auto-Discovery of Config

The Gateway **auto-discovers** which plugins to enable by checking for matching config sections. When `channels.matrix` exists, the Matrix plugin auto-enables.

**Sources:**[CHANGELOG.md 395-409](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L395-L409)

---

## Plugin Updates and Sync

### NPM Plugin Updates

Plugins installed from npm (not bundled) update during `openclaw update`:

```
openclaw update          # Updates core + npm plugins
openclaw plugins update  # Updates only npm plugins
```

### Version Sync

The `scripts/sync-plugin-versions.ts` script keeps bundled extension versions in sync with the main package version.

**Sources:**[package.json 89](https://github.com/openclaw/openclaw/blob/bf6ec64f/package.json#L89-L89) [CHANGELOG.md 407-408](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L407-L408)

---

## Key Takeaways

1. **Discovery**: Plugin Loader scans `extensions/` for `package.json` with `openclaw.extensions` manifest
2. **Validation**: TypeBox schemas validate plugin config sections
3. **Four Slots**: Channel, Tool, Provider, Memory integration points
4. **Auto-Enable**: Built-in channel/provider plugins enable when config present
5. **Plugin SDK**: `dist/plugin-sdk/` provides types, validators, utilities
6. **20+ Bundled**: Extensive set of built-in extensions for channels, tools, memory
7. **Lifecycle**: Managed discovery → validation → loading → registration → activation

For implementing custom plugins, proceed to [Creating Custom Plugins](https://deepwiki.com/openclaw/openclaw/10.3-creating-custom-plugins).

**Sources:**[CHANGELOG.md 1-430](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L1-L430) [package.json 1-287](https://github.com/openclaw/openclaw/blob/bf6ec64f/package.json#L1-L287) [extensions/memory-core/package.json 1-17](https://github.com/openclaw/openclaw/blob/bf6ec64f/extensions/memory-core/package.json#L1-L17) Diagram 5

<svg id="mermaid-fu8dstus3vp" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-7khuxtjp8f" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg>