Menu

## Skills System

Relevant source files
- [.npmrc](https://github.com/openclaw/openclaw/blob/bf6ec64f/.npmrc)
- [CHANGELOG.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md)
- [README.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/README.md)
- [assets/avatar-placeholder.svg](https://github.com/openclaw/openclaw/blob/bf6ec64f/assets/avatar-placeholder.svg)
- [docs/concepts/system-prompt.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/concepts/system-prompt.md)
- [extensions/memory-core/package.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/extensions/memory-core/package.json)
- [package.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/package.json)
- [pnpm-lock.yaml](https://github.com/openclaw/openclaw/blob/bf6ec64f/pnpm-lock.yaml)
- [pnpm-workspace.yaml](https://github.com/openclaw/openclaw/blob/bf6ec64f/pnpm-workspace.yaml)
- [scripts/clawtributors-map.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/scripts/clawtributors-map.json)
- [scripts/update-clawtributors.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/scripts/update-clawtributors.ts)
- [scripts/update-clawtributors.types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/scripts/update-clawtributors.types.ts)
- [src/agents/channel-tools.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/channel-tools.ts)
- [src/agents/cli-runner.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/cli-runner.test.ts)
- [src/agents/cli-runner/helpers.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/cli-runner/helpers.ts)
- [src/agents/pi-embedded-runner-extraparams.live.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner-extraparams.live.test.ts)
- [src/agents/pi-embedded-runner-extraparams.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner-extraparams.test.ts)
- [src/agents/pi-embedded-runner.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner.test.ts)
- [src/agents/pi-embedded-runner/compact.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/compact.ts)
- [src/agents/pi-embedded-runner/run.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run.ts)
- [src/agents/pi-embedded-runner/run/attempt.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run/attempt.ts)
- [src/agents/pi-embedded-runner/run/params.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run/params.ts)
- [src/agents/pi-embedded-runner/run/types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run/types.ts)
- [src/agents/pi-embedded-runner/system-prompt.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/system-prompt.ts)
- [src/agents/system-prompt-params.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt-params.test.ts)
- [src/agents/system-prompt-params.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt-params.ts)
- [src/agents/system-prompt-report.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt-report.ts)
- [src/agents/system-prompt.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.test.ts)
- [src/agents/system-prompt.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts)
- [src/auto-reply/reply/commands-context-report.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/commands-context-report.ts)
- [src/commands/agent/run-context.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/commands/agent/run-context.ts)
- [src/commands/agent/types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/commands/agent/types.ts)
- [src/gateway/protocol/schema/agent.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/gateway/protocol/schema/agent.ts)
- [src/index.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/index.ts)
- [src/telegram/group-migration.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/group-migration.test.ts)
- [src/telegram/group-migration.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/group-migration.ts)
- [ui/package.json](https://github.com/openclaw/openclaw/blob/bf6ec64f/ui/package.json)
- [ui/src/styles.css](https://github.com/openclaw/openclaw/blob/bf6ec64f/ui/src/styles.css)
- [ui/src/styles/layout.mobile.css](https://github.com/openclaw/openclaw/blob/bf6ec64f/ui/src/styles/layout.mobile.css)

The Skills System provides a modular way to extend agent capabilities through self-contained instruction sets. Each skill is a directory containing a `SKILL.md` file with specialized guidance that the agent reads on demand when a task matches the skill's purpose.

For information about how skills are injected into the system prompt, see [System Prompt](https://deepwiki.com/openclaw/openclaw/5.2-system-prompt). For workspace organization and bootstrap files, see [Agent Execution Flow](https://deepwiki.com/openclaw/openclaw/5.1-agent-execution-flow). For tool configuration and security policies, see [Tool Security and Sandboxing](https://deepwiki.com/openclaw/openclaw/6.2-tool-security-and-sandboxing).

---

## Overview

Skills in OpenClaw are discovered, indexed, and presented to the agent as a compact list in the system prompt. When the agent identifies a task that matches a skill, it uses the `read` tool to load the corresponding `SKILL.md` file and follow its instructions.

**Key Characteristics:**

| Aspect | Description |
| --- | --- |
| **Storage** | `~/.openclaw/workspace/skills/<skill-name>/` |
| **Entry Point** | `SKILL.md` per skill directory |
| **Discovery** | Automatic scan at agent startup and on workspace changes |
| **Activation** | Agent-driven (model decides when to load) |
| **Scope** | Session-independent (all sessions see same skills) |
| **Types** | Workspace (user), Managed (installed), Bundled (shipped) |

Skills are **not** tools. They are instruction documents that guide the agent's behavior for specific scenarios. The agent remains in control of when and whether to load a skill.

Sources: [src/agents/system-prompt.ts 15-32](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts#L15-L32) [docs/concepts/system-prompt.md 83-95](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/concepts/system-prompt.md#L83-L95)

---

## Skills Architecture

```
Agent RuntimeDiscovery & LoadingSkill StructureSkill TypesYesNo~/.openclaw/workspace/skills/ directoryWorkspace Skills
(user-created)Managed Skills
(installed)Bundled Skills
(shipped)/SKILL.md
(instructions)skill.json
(metadata, optional)bins/
(executables, optional)loadWorkspaceSkillEntriesbuildWorkspaceSkillSnapshotformatSkillsForPromptSystem Prompt
Skills SectionAgent Decision:
Task matches skill?read tool
Load SKILL.mdFollow Instructions
```

**Skills Architecture**

The system scans the workspace skills directory at startup and builds a snapshot containing eligible skills. This snapshot is formatted into a compact XML structure and injected into the system prompt. The agent sees the available skills list and can choose to load any skill by reading its `SKILL.md` file.

Sources: [src/agents/system-prompt.ts 15-32](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts#L15-L32) [src/agents/skills.ts (referenced)](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/skills.ts%20\(referenced\)) [src/agents/pi-embedded-runner/run/attempt.ts 162-181](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run/attempt.ts#L162-L181)

---

```
"buildAgentSystemPrompt""formatSkillsForPrompt""buildWorkspaceSkillSnapshot""File System""loadWorkspaceSkillEntries""Agent Runtime""buildAgentSystemPrompt""formatSkillsForPrompt""buildWorkspaceSkillSnapshot""File System""loadWorkspaceSkillEntries""Agent Runtime"Scan workspace skills/Read directory structureSkill directoriesCheck for SKILL.mdSkill entriesRaw skill entriesBuild snapshot(eligibility check)Filter by remote eligibilityApply config overridesSkill snapshotFormat for promptGenerate XML structureSkills prompt (XML)Include skills sectionComplete system prompt
```

**Skill Discovery Flow**

Discovery happens in three phases:

1. **Entry Loading**: `loadWorkspaceSkillEntries` scans the `skills/` directory and identifies valid skill directories (those containing `SKILL.md`).
2. **Snapshot Building**: `buildWorkspaceSkillSnapshot` filters skills by eligibility (remote skill settings, config overrides) and creates a cached snapshot.
3. **Prompt Formatting**: The snapshot is formatted into XML with `<available_skills>` containing `<skill>` entries, each with `<name>`, `<description>`, and `<location>`.

The resulting prompt is injected into the **Skills** section of the system prompt, instructing the agent to read the `SKILL.md` file at the listed location when a task matches.

Sources: [src/agents/pi-embedded-runner/run/attempt.ts 162-181](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run/attempt.ts#L162-L181) [src/agents/system-prompt.ts 15-32](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts#L15-L32) [src/auto-reply/reply/commands-context-report.ts 64-72](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/commands-context-report.ts#L64-L72)

---

## Skill Directory Structure

Each skill lives in its own directory under `~/.openclaw/workspace/skills/<skill-name>/`:

```
skills/
├── my-skill/
│   ├── SKILL.md              # Required: Instructions for the agent
│   ├── skill.json            # Optional: Metadata (dependencies, env vars)
│   ├── bins/                 # Optional: Executables (auto-added to PATH)
│   │   └── my-tool
│   └── README.md             # Optional: Human documentation
```

### SKILL.md Format

The `SKILL.md` file contains natural language instructions for the agent. It should:

- **Describe** when to use the skill
- **Provide** step-by-step guidance
- **Reference** tools and commands as needed
- **Include** examples and edge cases

Example structure:

```
# Skill Name

When to use: <scenario description>

Steps:
1. Check prerequisites with \`<tool>\`
2. Execute \`<command>\`
3. Verify output matches <pattern>

Constraints:
- Do not proceed if <condition>
- Always confirm with user before <action>
```

Optional JSON file for skill configuration:

| Field | Type | Purpose |
| --- | --- | --- |
| `name` | string | Skill identifier |
| `description` | string | Short summary (used in prompt) |
| `dependencies` | string\[\] | Required npm packages or binaries |
| `env` | object | Environment variable overrides |
| `install` | object | Installation instructions (OS-specific) |

Sources: [src/agents/skills.ts (referenced)](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/skills.ts%20\(referenced\)) [CHANGELOG.md 30](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L30-L30)

---

## Skills in the System Prompt

```
Skills Section ContentSystem Prompt Structure## Tooling
(tool list)## Skills
(mandatory)## Memory Recall... other sections ...Instructions:
1. Scan available_skills
2. Choose most specific
3. Read SKILL.md
4. Follow it
  
    demo
    ...
    path
```

**Skills Section in System Prompt**

The skills section is injected by `buildSkillsSection` in [src/agents/system-prompt.ts 15-32](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts#L15-L32) It contains:

1. **Guidance Block**: Instructs the agent how to select and load skills:
	- "Before replying: scan `<available_skills>` `<description>` entries."
	- "If exactly one skill clearly applies: read its SKILL.md at `<location>` with `read`, then follow it."
	- "If multiple could apply: choose the most specific one, then read/follow it."
	- "If none clearly apply: do not read any SKILL.md."
	- "Constraints: never read more than one skill up front; only read after selecting."
2. **Skills XML**: The formatted skills list from `formatSkillsForPrompt`, containing:
	```
	<available_skills>
	  <skill>
	    <name>skill-name</name>
	    <description>Brief description</description>
	    <location>~/.openclaw/workspace/skills/skill-name/SKILL.md</location>
	  </skill>
	  ...
	</available_skills>
	```

The skills section is **omitted** when:

- `promptMode` is `"minimal"` or `"none"` (e.g., for subagents)
- No eligible skills exist
- `skillsPrompt` is empty after formatting

Sources: [src/agents/system-prompt.ts 15-32](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts#L15-L32) [docs/concepts/system-prompt.md 83-95](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/concepts/system-prompt.md#L83-L95)

---

## Skill Environment Overrides

Skills can inject environment variables into the agent runtime, allowing them to configure tools, set API keys, or adjust paths without modifying the global environment.

```
RuntimeEnvironment ApplicationEnvironment SourcesGlobal Environment
(process.env)Config Env
(config.env)Skill Env
(skill.json env)applySkillEnvOverridesRestore Function
(cleanup)Agent Run
(with skill env)Run Complete
(restore original env)
```

**Skill Environment Workflow**

When an agent run begins:

1. **Load Skills**: `loadWorkspaceSkillEntries` discovers skill directories
2. **Apply Overrides**: `applySkillEnvOverrides` or `applySkillEnvOverridesFromSnapshot` merges skill environment variables into `process.env`
3. **Run Agent**: The agent executes with the enhanced environment
4. **Restore**: The returned cleanup function restores the original environment after the run completes

Environment variables from skills are applied **after** config.env but **before** the agent run, giving skills the ability to configure tools dynamically.

**Example skill.json with env:**

```
{
  "name": "my-skill",
  "description": "Custom skill",
  "env": {
    "MY_TOOL_API_KEY": "sk-...",
    "MY_TOOL_ENDPOINT": "https://api.example.com"
  }
}
```

Sources: [src/agents/pi-embedded-runner/run/attempt.ts 159-174](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run/attempt.ts#L159-L174) [src/agents/pi-embedded-runner/compact.ts 164](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/compact.ts#L164-L164)

---

## Skills Snapshot and Caching

To avoid redundant filesystem scans, OpenClaw maintains a **skill snapshot** that caches discovered skills and their formatted prompts.

```
Snapshot UsageSnapshot StructureSnapshot CreationScan workspace skills/Filter by eligibilityFormat prompt XMLStore snapshotSkillSnapshotprompt: string
(formatted XML)skills: string[]
(skill names)resolvedSkills: ResolvedSkill[]
(full metadata)snapshotVersion: string
(workspace hash)Check snapshot versionReuse if validRebuild if stale
```

**Snapshot Structure**

The snapshot ([src/agents/skills.ts (SkillSnapshot type)](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/skills.ts%20\(SkillSnapshot%20type\))) contains:

| Field | Type | Description |
| --- | --- | --- |
| `prompt` | string | Formatted XML for system prompt |
| `skills` | string\[\] | List of skill names |
| `resolvedSkills` | ResolvedSkill\[\] | Full skill metadata (location, description, env) |
| `snapshotVersion` | string | Workspace version hash (for invalidation) |

**Snapshot Lifecycle:**

1. **Creation**: `buildWorkspaceSkillSnapshot` scans the workspace and builds the snapshot
2. **Versioning**: `getSkillsSnapshotVersion` computes a hash of the workspace state (file mtimes, directory structure)
3. **Reuse**: If the snapshot version matches the current workspace version, the cached snapshot is used
4. **Refresh**: If stale, a new snapshot is built and cached
5. **Application**: `applySkillEnvOverridesFromSnapshot` uses the cached `resolvedSkills` to apply environment overrides without re-scanning

This optimization is especially important for rapid-fire agent runs (e.g., during conversations) where filesystem scans would add latency.

Sources: [src/agents/pi-embedded-runner/run/attempt.ts 162-181](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/pi-embedded-runner/run/attempt.ts#L162-L181) [src/agents/skills.ts (referenced)](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/skills.ts%20\(referenced\)) [src/auto-reply/reply/commands-context-report.ts 64-72](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/commands-context-report.ts#L64-L72)

---

## Skill Types and Locations

OpenClaw supports three skill locations, prioritized in this order:

```
ResolutionEligibility RulesSkill LocationsWorkspace Skills
~/.openclaw/workspace/skills/
(highest priority)Managed Skills
~/.openclaw/managed-skills/
(medium priority)Bundled Skills
node_modules/openclaw/skills/
(lowest priority)Remote Skill Eligibility
(config flag)Config Overrides
(per-skill enable/disable)Merge by PriorityDeduplicate by NameFinal Skills List
```

**Skill Priority and Resolution**

When multiple skills have the same name, the one from the higher-priority location wins:

1. **Workspace Skills**: User-created or user-edited skills in `~/.openclaw/workspace/skills/`
	- Highest priority
	- Fully user-controlled
	- Can override managed or bundled skills
2. **Managed Skills**: Installed via `openclaw skills install` or package managers
	- Medium priority
	- Versioned and updateable
	- Stored in `~/.openclaw/managed-skills/` or similar
3. **Bundled Skills**: Shipped with OpenClaw in `node_modules/openclaw/skills/` or the npm package
	- Lowest priority
	- Updated with OpenClaw releases
	- Provide baseline capabilities

**Remote Skills Eligibility:**

Remote (managed and bundled) skills can be gated by configuration:

- `getRemoteSkillEligibility()` checks if remote skills are enabled
- Workspace skills are always eligible
- Config can enable/disable individual skills via overrides

Sources: [src/auto-reply/reply/commands-context-report.ts 66](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/commands-context-report.ts#L66-L66) [CHANGELOG.md 17](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L17-L17)

---

## Skill Bins and PATH Injection

Skills can provide executable binaries in a `bins/` subdirectory. These are automatically added to the agent's PATH during runs that load the skill's environment.

```
Tool ExecutionEnvironment ApplicationSkill Structureskills/my-skill/bins/my-tool
(executable)Discover bins/ directoryAppend to PATH env varexec tool
(inherits PATH)Agent calls: exec my-toolShell resolves my-tool
(finds in PATH)Execute my-tool
```

**PATH Injection Workflow**

1. **Discovery**: When `applySkillEnvOverrides` processes a skill, it checks for a `bins/` directory
2. **PATH Update**: If `bins/` exists, its absolute path is prepended to `process.env.PATH`
3. **Tool Availability**: Any executables in `bins/` become available to the `exec` tool without specifying full paths
4. **Cleanup**: The restore function resets PATH to its original value after the run

This allows skills to bundle custom CLIs, scripts, or compiled binaries without requiring global installation or manual PATH configuration.

**Security Note**: Skills with binaries should be reviewed before use, especially if sourced from untrusted origins. The `tools.exec.safeBins` config can allowlist specific binaries for approval-free execution.

Sources: [src/agents/skills.ts (referenced)](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/skills.ts%20\(referenced\)) [CHANGELOG.md 18](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L18-L18)

---

## Skill Dependencies and Installation

Skills can declare dependencies (npm packages, system binaries) and provide installation instructions for different platforms.

**skill.json with dependencies:**

```
{
  "name": "my-skill",
  "description": "Example skill with deps",
  "dependencies": [
    "github-cli",
    "jq"
  ],
  "install": {
    "darwin": {
      "command": "brew install gh jq",
      "download": [
        {
          "url": "https://example.com/tool-macos.tar.gz",
          "dest": "bins/tool"
        }
      ]
    },
    "linux": {
      "command": "apt-get install -y gh jq"
    }
  }
}
```

**Installation Workflow:**

1. **Detection**: When a skill is loaded, OpenClaw checks for `install` metadata
2. **OS Matching**: The appropriate install instructions for the current OS are selected
3. **Execution** (manual or automated):
	- `command`: Shell command to install dependencies
	- `download`: URLs to fetch and unpack into the skill directory
4. **Validation**: After installation, dependencies should be available in PATH or the skill's `bins/`

Skills with missing dependencies will still appear in the skills list, but the agent may encounter errors when attempting to use them. Consider adding dependency checks in the `SKILL.md` instructions.

Sources: [CHANGELOG.md 30](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L30-L30)

---

## Creating Custom Skills

To create a new skill:

1. **Create the directory:**
	```
	mkdir -p ~/.openclaw/workspace/skills/my-skill
	```
2. **Write SKILL.md:**
	```
	# My Skill
	When to use: [describe scenario]
	Steps:
	1. [instruction]
	2. [instruction]
	Constraints:
	- [constraint]
	```
3. **Add metadata (optional):**
	```
	{
	  "name": "my-skill",
	  "description": "Brief description for prompt",
	  "env": {
	    "MY_VAR": "value"
	  }
	}
	```
4. **Refresh skills:**The agent will discover the skill on its next run. To force immediate discovery, restart the gateway or trigger a workspace refresh (editing a file in the workspace typically triggers a refresh).
5. **Test the skill:**Send a message that should trigger the skill's scenario. Check the agent's reasoning (via `/think high` or `/reasoning on`) to see if it loads and follows the SKILL.md.

**Best Practices:**

- **Keep SKILL.md focused**: One skill per scenario
- **Use examples**: Show expected input/output patterns
- **Test incrementally**: Start with simple instructions, refine based on agent behavior
- **Version control**: Track your workspace skills in git for reproducibility
- **Document dependencies**: If the skill requires external tools, document them clearly

Sources: [docs/concepts/system-prompt.md 83-95](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/concepts/system-prompt.md#L83-L95) [src/agents/system-prompt.ts 15-32](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts#L15-L32)

---

## Skills CLI Commands

OpenClaw provides CLI commands for managing skills:

| Command | Purpose |
| --- | --- |
| `openclaw skills list` | List all discovered skills (workspace, managed, bundled) |
| `openclaw skills install <name>` | Install a managed skill from a registry or URL |
| `openclaw skills refresh` | Force rebuild of the skills snapshot |
| `openclaw skills bins` | List all skill binaries available in PATH |

(Note: Exact command availability depends on OpenClaw version. Use `openclaw help` to verify.)

The skills system integrates with the broader workspace and configuration management. For more on workspace structure, see [Agent Execution Flow](https://deepwiki.com/openclaw/openclaw/5.1-agent-execution-flow).

Sources: [src/agents/system-prompt.ts 15-32](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/agents/system-prompt.ts#L15-L32) [CHANGELOG.md 17-30](https://github.com/openclaw/openclaw/blob/bf6ec64f/CHANGELOG.md#L17-L30)

<svg id="mermaid-fu8dstus3vp" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-7khuxtjp8f" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg>