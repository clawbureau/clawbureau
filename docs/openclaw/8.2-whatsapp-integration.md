Menu

## WhatsApp Integration

Relevant source files
- [src/config/config.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/config.ts)
- [src/discord/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor.ts)
- [src/imessage/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/imessage/monitor.ts)
- [src/signal/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/signal/monitor.ts)
- [src/slack/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/slack/monitor.ts)
- [src/telegram/bot.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot.test.ts)
- [src/telegram/bot.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot.ts)
- [src/web/auto-reply.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/auto-reply.ts)
- [src/web/inbound.media.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.media.test.ts)
- [src/web/inbound.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.test.ts)
- [src/web/inbound.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.ts)
- [src/web/test-helpers.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/test-helpers.ts)
- [src/web/vcard.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/vcard.ts)

This document describes OpenClaw's WhatsApp integration via the Baileys library, covering connection establishment, message processing, media handling, and access control. For general channel routing and access policies, see [Channel Routing and Access Control](https://deepwiki.com/openclaw/openclaw/8.1-channel-routing-and-access-control). For other messaging platforms, see [Telegram Integration](https://deepwiki.com/openclaw/openclaw/8.3-telegram-integration), [Discord Integration](https://deepwiki.com/openclaw/openclaw/8.4-discord-integration), and [Signal Integration](https://deepwiki.com/openclaw/openclaw/8.5-signal-integration).

---

## Architecture Overview

OpenClaw integrates with WhatsApp using [\`@whiskeysockets/baileys\`](https://github.com/openclaw/openclaw/blob/bf6ec64f/%60@whiskeysockets/baileys%60) a TypeScript/JavaScript library that implements the WhatsApp Web protocol. The integration consists of a WebSocket connection to WhatsApp servers, multi-file authentication state persistence, and message event handlers that route inbound messages to the agent system.

```
Agent SystemMessage ProcessingOpenClaw Gateway :18789WhatsApp InfrastructureWebSocket
Protocol Buffersmessages.upsert
eventsdownloadMediaMessage()AuthorizedUnauthorizedsendMessage()
sendMessageRetry()WhatsApp ServersmonitorWebInbox()
src/web/inbound/monitor.tscreateWaSocket()
src/web/session.tsuseMultiFileAuthState()
~/.openclaw/whatsapp-sessions/Message Extractors
extractText()
extractMediaPlaceholder()
extractLocationData()Access Control
allowFrom/dmPolicy
pairing-storeresetWebInboundDedupe()
src/web/inbound/dedupe.tsEnvelope Builder
Timestamp + Sender + ChatsaveMediaBuffer()
src/media/store.jsAgent Router
resolveAgentRoute()Agent Runtime
Pi Agent CoreReply Handler
sendMessage()
```

**Sources**: [src/web/inbound/monitor.ts 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound/monitor.ts#L1-L5) [src/web/session.ts 1-88](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/session.ts#L1-L88) (inferred), [src/web/inbound/extract.ts 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound/extract.ts#L1-L5) (inferred)

---

## Connection and Authentication

WhatsApp authentication uses a multi-file auth state stored in `~/.openclaw/whatsapp-sessions/{accountId}/`. The connection process involves:

1. **Auth State Initialization**: `useMultiFileAuthState()` loads existing credentials or creates new storage
2. **Socket Creation**: `makeWASocket()` establishes WebSocket connection with authentication
3. **QR Code Login**: On first connection, a QR code is generated for pairing with WhatsApp mobile app
4. **Connection Monitoring**: `waitForWaConnection()` monitors connection status and handles reconnection

### Connection Flow

```
WhatsApp Serversqrcode-terminal~/.openclaw/whatsapp-sessions/useMultiFileAuthState()@whiskeysockets/baileyscreateWaSocket()monitorWebInbox()openclaw CLIWhatsApp Serversqrcode-terminal~/.openclaw/whatsapp-sessions/useMultiFileAuthState()@whiskeysockets/baileyscreateWaSocket()monitorWebInbox()openclaw CLIUser scans QR withWhatsApp mobile appalt[First Time Setup][Existing Credentials]Start WhatsApp monitoringInitialize socketLoad auth stateRead creds.jsonNo credentials foundmakeWASocket(no creds)Connect (unauthenticated)QR code dataDisplay QR codeRender QR in terminalAuthentication successSave credentialsWrite creds.jsonReturn credentialsmakeWASocket(with creds)Connect (authenticated)Connection establishedSocket readyRegister event handlersListen for messages.upsert
```

**Sources**: [src/web/session.ts 70-88](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/session.ts#L70-L88) (inferred from test mocks), [src/web/test-helpers.ts 55-73](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/test-helpers.ts#L55-L73)

---

## Message Types and Extraction

WhatsApp supports multiple message types, each requiring specific extraction logic. The `extractText()`, `extractMediaPlaceholder()`, and `extractLocationData()` functions handle different message structures.

### Message Type Matrix

| Message Type | Baileys Field | Extraction Function | Output Format |
| --- | --- | --- | --- |
| **Text** | `conversation` | `extractText()` | Plain text |
| **Caption** | `imageMessage.caption`, `documentMessage.caption` | `extractText()` | Plain text from caption field |
| **Image** | `imageMessage` | `extractMediaPlaceholder()` | `<media:image>` + download |
| **Audio** | `audioMessage` | `extractMediaPlaceholder()` | `<media:audio>` + download |
| **Video** | `videoMessage` | `extractMediaPlaceholder()` | `<media:video>` + download |
| **Document** | `documentMessage` | `extractMediaPlaceholder()` | `<media:document>` + caption |
| **Contact** | `contactMessage` | `extractText()` | `<contact: Name, +Phone>` |
| **Contacts Array** | `contactsArrayMessage` | `extractText()` | `<contacts: Name1, +Phone1, ...>` |
| **Location** | `locationMessage` | `extractLocationData()` | Structured location object |
| **Live Location** | `liveLocationMessage` | `extractLocationData()` | Structured location with `isLive: true` |
| **View Once** | `viewOnceMessageV2Extension` | `extractText()` | Unwraps inner message |

**Sources**: [src/web/inbound.test.ts 5-238](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.test.ts#L5-L238) [src/web/inbound/extract.ts 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound/extract.ts#L1-L5) (inferred)

---

WhatsApp contact messages contain vCard data (RFC 6350 format). The `parseVcard()` function extracts name and phone numbers from vCard strings.

### vCard Extraction Logic

```
NormalizationField ExtractionvCard String
(RFC 6350)parseVcard()
src/web/vcard.tsFN Field
(Formatted Name)N Field
(Structured Name)TEL Fields
(Phone Numbers)normalizeVcardName()
Replace ; with spacenormalizeVcardPhone()
Strip tel: prefixnormalizeVcardKey()
Extract base keyParsedVcard
{name?: string
phones: string[]}Prefer FN over N
for name resolutionFilter allowed keys:
FN, N, TEL only
```

**Single Contact:**

```
[WhatsApp Ada Lovelace (+15555550123) id:111@s.whatsapp.net]
<contact: Ada Lovelace, +15555550123>
```

**Multiple Contacts:**

```
[WhatsApp Ada Lovelace (+15555550123) id:111@s.whatsapp.net]
<contacts: Alice, +15555550101, Bob, +15555550102, Charlie, +15555550103 (+1 more), Dana, +15555550105>
```

**Sources**: [src/web/vcard.ts 1-65](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/vcard.ts#L1-L65) [src/web/inbound.test.ts 27-164](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.test.ts#L27-L164)

---

## Location Messages

WhatsApp supports both static location messages (single point) and live location messages (real-time sharing). The `extractLocationData()` function normalizes both types into a unified structure.

### Location Data Structure

```
type LocationData = {
  latitude: number;
  longitude: number;
  accuracy?: number;
  name?: string;        // Place name (static only)
  address?: string;     // Address (static only)
  caption?: string;     // User comment
  source: "place" | "live";
  isLive: boolean;
}
```

### Location Message Handling

```
Normalized OutputWhatsApp MessagelocationMessage
{degreesLatitude
degreesLongitude
name
address
accuracyInMeters
comment}liveLocationMessage
{degreesLatitude
degreesLongitude
accuracyInMeters
caption}extractLocationData()
src/web/inbound/extract.tssource: 'place'
isLive: false
+ name, addresssource: 'live'
isLive: true
(no name/address)Agent Receives
LocationData in payload
```

**Example Location Envelope:**

```
[WhatsApp Ada Lovelace (+15555550123) id:111@s.whatsapp.net 2025-01-09 00:00:00 UTC]
Location: 48.858844, 2.294351 (accuracy: 12m)
Name: Eiffel Tower
Address: Champ de Mars, Paris
Comment: Meet here
```

**Sources**: [src/web/inbound.test.ts 197-237](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.test.ts#L197-L237) [src/web/inbound/extract.ts 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound/extract.ts#L1-L5) (inferred)

---

## Media Handling

WhatsApp media messages (images, audio, video, documents) are downloaded via `downloadMediaMessage()` from Baileys, then saved to the OpenClaw media store using `saveMediaBuffer()`.

### Media Processing Pipeline

```
Agent Runtime~/.openclaw/media/saveMediaBuffer()downloadMediaMessage()messages.upsert HandlerBaileys SocketAgent Runtime~/.openclaw/media/saveMediaBuffer()downloadMediaMessage()messages.upsert HandlerBaileys SocketText: "<media:image>"MediaPath: "/path/to/media.jpg"alt[Has Media]alt[Has Caption]messages.upsert eventDetect imageMessage/audioMessage/etcDownload media bufferFetch encrypted mediaBuffer (encrypted)Buffer (decrypted)Save buffer + contentTypeGenerate media IDDetect file extension(image/jpeg â†’ .jpg)Write file with extensionFile path{id, path, size, contentType}Envelope + mediaPathExtract caption from imageMessage.captionEnvelope with caption + mediaPath
```

### Media Size Limits

Media downloads are subject to `mediaMaxMb` configuration (default 5MB for WhatsApp). The `saveMediaBuffer()` function enforces this limit and throws an error if exceeded.

**Configuration:**

```
{
  "channels": {
    "whatsapp": {
      "mediaMaxMb": 5
    }
  }
}
```

**Sources**: [src/web/inbound.media.test.ts 92-233](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.media.test.ts#L92-L233) [src/media/store.js 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/media/store.js#L1-L5) (inferred from imports)

---

## Access Control

WhatsApp integration supports three DM policies: `allowlist`, `pairing`, and `open`. Access control is enforced before message processing begins.

### Access Control Flow

```
Group Access ControlDM Access ControlDM
(private chat)Group
(group chat)allowlistpairingopenIn listNot in listPairedNot pairedallowlistopenIn listNot in listIncoming WhatsApp MessageChat Type?DM Policy?Check allowFrom listCheck pairing store
readChannelAllowFromStore()Send pairing code
upsertChannelPairingRequest()Accept messageGroup Policy?Check groupAllowFromAccept group messageBlock messageProcess & Route to AgentBlock Message (silent)
```

### Pairing Code Flow

When `dmPolicy: "pairing"` is configured and an unknown user sends a message:

1. System checks `readChannelAllowFromStore()` for existing pairing
2. If not paired, calls `upsertChannelPairingRequest()` to generate code
3. Sends message to user: "Your WhatsApp user id: {jid}\\nPairing code: {code}"
4. User provides code to administrator via secure channel
5. Administrator runs `openclaw channels add whatsapp --allow-from {jid}` or approves via Control UI
6. Future messages from that JID are accepted

**Sources**: [src/web/inbound/monitor.ts 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound/monitor.ts#L1-L5) (inferred), [src/pairing/pairing-store.js 1-35](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/pairing/pairing-store.js#L1-L35) (inferred from test mocks)

---

## Message Envelope Format

All WhatsApp messages are wrapped in a standardized envelope before routing to agents. The envelope includes metadata about the sender, chat, and timestamp.

### Envelope Structure

**DM Envelope:**

```
[WhatsApp {First} {Last} ({Username}) id:{jid} {timestamp}]
{message body}
```

**Group Envelope:**

```
[WhatsApp {GroupName} id:{groupJid} {timestamp}]
{SenderName} ({@username}): {message body}
```

**With Reply Context:**

```
[WhatsApp {Name} id:{jid} {timestamp}]
[Replying to {ReplyToSender} id:{replyToMessageId}]
{quoted message}
---
{message body}
```

### Envelope Builder Logic

```
Group EnvelopeDM EnveloperemoteJid ends
with @s.whatsapp.netremoteJid ends
with @g.usmessages.upsert EventExtract key.remoteJid
key.participant
key.fromMeChat Type?Extract from field
first_name + last_nameExtract usernameBuild: [WhatsApp {Name} id:{jid} {ts}]Extract chat.titleExtract remoteJidExtract participant nameBuild: [WhatsApp {Group} id:{jid} {ts}]
{Participant}: {body}Append message body
```

**Sources**: [src/web/inbound/monitor.ts 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound/monitor.ts#L1-L5) (inferred), [src/telegram/bot.test.ts 517-558](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot.test.ts#L517-L558) (similar envelope pattern)

---

## Configuration Reference

WhatsApp integration is configured under `channels.whatsapp` in `openclaw.json`.

### Configuration Schema

```
{
  "channels": {
    "whatsapp": {
      "enabled": true,
      "accountId": "default",
      "dmPolicy": "pairing",
      "allowFrom": ["111@s.whatsapp.net"],
      "groupPolicy": "allowlist",
      "groupAllowFrom": ["222@g.us"],
      "mediaMaxMb": 5,
      "blockStreaming": false,
      "sessionPath": "~/.openclaw/whatsapp-sessions/default",
      "qrTimeout": 60000,
      "reconnectDelay": 5000
    }
  }
}
```

### Configuration Parameters

| Parameter | Type | Default | Description |
| --- | --- | --- | --- |
| `enabled` | boolean | `true` | Enable WhatsApp monitoring |
| `accountId` | string | `"default"` | Identifier for multi-account support |
| `dmPolicy` | `"allowlist"` \| `"pairing"` \| `"open"` | `"pairing"` | DM access control policy |
| `allowFrom` | string\[\] | `[]` | Allowlist of JIDs for DM access |
| `groupPolicy` | `"allowlist"` \| `"open"` | `"allowlist"` | Group chat access policy |
| `groupAllowFrom` | string\[\] | `[]` | Allowlist of group JIDs |
| `mediaMaxMb` | number | `5` | Maximum media download size in MB |
| `blockStreaming` | boolean | `false` | Disable streaming responses (send complete) |
| `sessionPath` | string | `"~/.openclaw/whatsapp-sessions/{accountId}"` | Auth state storage path |
| `qrTimeout` | number | `60000` | QR code display timeout (ms) |
| `reconnectDelay` | number | `5000` | Delay between reconnection attempts (ms) |

**Sources**: [src/config/types.ts 1-15](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/types.ts#L1-L15) (inferred), [src/web/test-helpers.ts 8-19](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/test-helpers.ts#L8-L19)

---

## Deduplication

The WhatsApp integration implements message deduplication to prevent processing duplicate `messages.upsert` events that can occur during reconnections or message history sync.

### Deduplication Mechanism

The `resetWebInboundDedupe()` function maintains an in-memory cache of recently processed message IDs. When a message arrives:

1. Extract `key.id` from the message
2. Check if ID exists in dedupe cache
3. If present, skip processing (silent drop)
4. If absent, add to cache and process message
5. Cache expires after a configurable TTL (typically 60 seconds)

**Dedupe Key Format:**

```
whatsapp:{remoteJid}:{messageId}
```

**Sources**: [src/web/inbound/dedupe.ts 1-5](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound/dedupe.ts#L1-L5) (inferred from exports), [src/web/inbound.media.test.ts 95](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.media.test.ts#L95-L95)

---

## Reply Sending

Replies from the agent are sent back through the Baileys socket using `sendMessage()` and related functions. The reply handler manages message chunking, media attachments, and error retry logic.

### Reply Pipeline

```
WhatsApp ServersBaileys SocketMedia LoaderText ChunkerReply HandlerAgent RuntimeWhatsApp ServersBaileys SocketMedia LoaderText ChunkerReply HandlerAgent Runtimealt[Has Media]loop[For each chunk]alt[Has Text (no media)]alt[Error]ReplyPayload{text, mediaUrls}Load media from pathBuffer + contentTypesendMessage(jid, {image/audio/video})Send media messageMessage IDSplit by textLimit (default 4096)Text chunkssendMessage(jid, {text})Send text messageMessage IDNetwork errorRetry with exponential backoffsendMessageRetry()
```

### Reply Configuration

Text chunking is configured via `messages.textChunkLimit` (global) or channel-specific limits:

```
{
  "messages": {
    "textChunkLimit": 4096
  },
  "channels": {
    "whatsapp": {
      "textChunkLimit": 4096
    }
  }
}
```

**Sources**: [src/auto-reply/chunk.ts 1-9](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/chunk.ts#L1-L9) (inferred from imports), [src/telegram/bot.test.ts 995-1009](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot.test.ts#L995-L1009) (similar chunking pattern)

---

The WhatsApp integration implements automatic reconnection with exponential backoff when connection failures occur.

### Reconnection States

```
Start monitoringSocket readyNetwork error/server closeMessage receivedProcessing completeAfter reconnectDelayCreate new socketMax retries exceededExit processConnectingConnectedDisconnectedProcessingReconnectingFailedNormal operation:
- Handle messages.upsert
- Send replies
- Update auth stateExponential backoff:
- 5s, 10s, 20s, 40s...
- Max delay: 60s
- Preserve auth state
```

### Connection Events Monitored

- `connection.update` - Connection state changes
- `creds.update` - Authentication credentials updated
- `messages.upsert` - New/updated messages
- `messages.update` - Message status changes (read receipts, etc.)

**Sources**: [src/web/session.ts 70-88](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/session.ts#L70-L88) (inferred from test setup), [src/web/test-helpers.ts 70-83](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/test-helpers.ts#L70-L83)

<svg id="mermaid-fu8dstus3vp" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-7khuxtjp8f" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg>