Menu

## Discord Integration

Relevant source files
- [docs/tools/slash-commands.md](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/tools/slash-commands.md)
- [src/auto-reply/command-detection.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/command-detection.ts)
- [src/auto-reply/commands-args.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/commands-args.ts)
- [src/auto-reply/commands-registry.data.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/commands-registry.data.ts)
- [src/auto-reply/commands-registry.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/commands-registry.test.ts)
- [src/auto-reply/commands-registry.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/commands-registry.ts)
- [src/auto-reply/commands-registry.types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/commands-registry.types.ts)
- [src/auto-reply/group-activation.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/group-activation.ts)
- [src/auto-reply/reply.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply.ts)
- [src/auto-reply/reply/commands-info.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/commands-info.test.ts)
- [src/auto-reply/reply/commands-info.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/commands-info.ts)
- [src/auto-reply/reply/commands.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/commands.ts)
- [src/auto-reply/reply/directive-handling.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/reply/directive-handling.ts)
- [src/auto-reply/send-policy.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/send-policy.ts)
- [src/auto-reply/status.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/status.test.ts)
- [src/auto-reply/status.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/status.ts)
- [src/auto-reply/templating.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/templating.ts)
- [src/config/config.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/config.ts)
- [src/discord/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor.ts)
- [src/discord/monitor/native-command.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts)
- [src/imessage/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/imessage/monitor.ts)
- [src/signal/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/signal/monitor.ts)
- [src/slack/monitor.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/slack/monitor.ts)
- [src/slack/monitor/slash.command-arg-menus.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/slack/monitor/slash.command-arg-menus.test.ts)
- [src/slack/monitor/slash.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/slack/monitor/slash.ts)
- [src/telegram/bot-handlers.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot-handlers.ts)
- [src/telegram/bot.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot.test.ts)
- [src/telegram/bot.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot.ts)
- [src/telegram/bot/types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/telegram/bot/types.ts)
- [src/web/auto-reply.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/auto-reply.ts)
- [src/web/inbound.media.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.media.test.ts)
- [src/web/inbound.test.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.test.ts)
- [src/web/inbound.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/inbound.ts)
- [src/web/test-helpers.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/test-helpers.ts)
- [src/web/vcard.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/web/vcard.ts)

## Purpose and Scope

This page documents OpenClaw's Discord integration, covering bot setup, configuration, native slash commands, button interactions, and message processing. For general channel routing and access control concepts, see [Channel Routing and Access Control](https://deepwiki.com/openclaw/openclaw/8.1-channel-routing-and-access-control). For configuration management, see [Configuration System](https://deepwiki.com/openclaw/openclaw/4-configuration-system).

---

## Architecture Overview

Discord integration uses the `discord.js` library wrapped by the `@buape/carbon` framework for slash commands, autocomplete, and button interactions. The integration connects to the Gateway Control Plane and routes messages bidirectionally between Discord and the agent execution system.

```
WebSocket EventsRoute MessageRoute CommandReplyDiscord Application
(Bot Token)Carbon Client
@buape/carbonmonitorDiscordProvider
src/discord/monitor/provider.tscreateDiscordMessageHandler
src/discord/monitor/message-handler.tscreateDiscordNativeCommand
src/discord/monitor/native-command.tsregisterDiscordListener
src/discord/monitor/listeners.tsresolveDiscordCommandAuthorized
allow-list.tsisDiscordGroupAllowedByPolicy
allow-list.tsGateway Channel RouterAgent Runtime
```

**Sources**: [src/discord/monitor.ts 1-29](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor.ts#L1-L29) [src/discord/monitor/provider.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/provider.ts) [src/discord/monitor/message-handler.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-handler.ts) [src/discord/monitor/native-command.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts)

---

## Configuration

### Bot Setup

Discord integration requires:

1. A Discord Application with bot token
2. Application ID for registering commands
3. Bot invited to guilds with appropriate permissions
```
{
  channels: {
    discord: {
      token: "DISCORD_BOT_TOKEN",
      applicationId: "123456789012345678",
      // Multi-account support
      accounts: {
        main: {
          token: "TOKEN_1",
          applicationId: "APP_ID_1"
        },
        work: {
          token: "TOKEN_2",
          applicationId: "APP_ID_2"
        }
      }
    }
  }
}
```

### Access Control

| Config Key | Type | Default | Description |
| --- | --- | --- | --- |
| `dmPolicy` | `"open" \| "pairing" \| "allowlist" \| "disabled"` | `"pairing"` | DM access policy |
| `allowFrom` | `string[]` | `[]` | User allowlist (user IDs or usernames) |
| `groupPolicy` | `"open" \| "allowlist" \| "disabled"` | `"allowlist"` | Guild/channel policy |
| `groupAllowFrom` | `string[]` | `[]` | Group-specific user allowlist |
| `guilds` | `Record<string, GuildConfig>` | `{}` | Per-guild overrides |
| `guilds.*.channels` | `Record<string, ChannelConfig>` | `{}` | Per-channel overrides |

**Sources**: [src/discord/monitor/allow-list.ts 1-200](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/allow-list.ts#L1-L200) [src/config/types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/types.ts)

### Guild and Channel Overrides

```
{
  channels: {
    discord: {
      guilds: {
        "123456789012345678": {
          enabled: true,
          allowFrom: ["user1", "user2"],
          groupPolicy: "open",
          channels: {
            "987654321098765432": {
              enabled: true,
              requireMention: true,
              allowFrom: ["*"]
            }
          }
        }
      }
    }
  }
}
```

Guild/channel configs support:

- `enabled`: Enable/disable messages from this guild/channel
- `allowFrom`: Override user allowlist
- `requireMention`: Gate messages on bot mention
- `groupPolicy`: Override group policy
- `bind`: Route to specific agent

**Sources**: [src/discord/monitor/allow-list.ts 50-150](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/allow-list.ts#L50-L150) [src/config/types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/types.ts)

---

## Native Slash Commands

Discord uses the Carbon framework to register and handle slash commands. Commands are registered at bot startup via Discord's API.

### Command Registration Flow

**Sources**: [src/discord/monitor/provider.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/provider.ts) [src/discord/monitor/native-command.ts 1-100](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L1-L100)

### Native Command Implementation

Commands are implemented as Carbon `Command` classes:

```
class DiscordNativeCommand extends Command {
  name = "status"
  description = "Show current status"
  options = [...] // Autocomplete, choices, etc.
  
  async run(interaction: CommandInteraction) {
    // Access control
    // Build inbound context
    // Dispatch to agent
    // Stream response
  }
}
```

The `createDiscordNativeCommand` factory [src/discord/monitor/native-command.ts 200-600](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L200-L600) handles:

1. Access control validation
2. DM vs guild policy checks
3. Argument parsing from Discord options
4. Argument menus (button prompts for missing args)
5. Message dispatch to agent runtime
6. Response streaming and chunking

**Sources**: [src/discord/monitor/native-command.ts 200-600](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L200-L600)

### Provider-Specific Command Names

Discord reserves certain command names. OpenClaw overrides these in the registry:

| Standard Name | Discord Override | Reason |
| --- | --- | --- |
| `tts` | `voice` | Discord reserves `/tts` |

**Sources**: [src/auto-reply/commands-registry.ts 108-121](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/commands-registry.ts#L108-L121)

---

When a command with choices is invoked without required arguments, Discord shows a **button menu** for argument selection.

```
dispatchReplyWithDispatcherButton InteractionButton BuilderresolveCommandArgMenuCommand HandlerDiscordUserdispatchReplyWithDispatcherButton InteractionButton BuilderresolveCommandArgMenuCommand HandlerDiscordUser/usage (no args)CommandInteractionCheck for menu{arg: "mode", choices: [...]}Build button rowsButton componentsEphemeral message + buttonsShow menuClick "tokens" buttonButtonInteractionDecode custom_idValidate user IDExecute with argsResponse
```

**Sources**: [src/discord/monitor/native-command.ts 300-500](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L300-L500) [src/auto-reply/commands-registry.ts 288-310](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/auto-reply/commands-registry.ts#L288-L310)

### Custom ID Encoding

Button interactions encode command state in the `custom_id` field:

Format: `cmdarg:command={cmd};arg={arg};value={val};user={uid}`

Components:

- `command`: URL-encoded command name
- `arg`: URL-encoded argument name
- `value`: URL-encoded argument value
- `user`: User ID (validates sender)

Only the original command invoker can trigger the button (user ID check).

**Sources**: [src/discord/monitor/native-command.ts 198-230](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L198-L230)

---

## Autocomplete

Commands with many choices (>25) or dynamic choices use **autocomplete** instead of static menus.

### Autocomplete Implementation

```
{
  name: "level",
  type: ApplicationCommandOptionType.String,
  autocomplete: async (interaction: AutocompleteInteraction) => {
    const focused = interaction.options.getFocused()
    const choices = resolveCommandArgChoices({command, arg, cfg})
    const filtered = choices.filter(c => 
      c.label.toLowerCase().includes(focused.value.toLowerCase())
    )
    await interaction.respond(
      filtered.slice(0, 25).map(c => ({name: c.label, value: c.value}))
    )
  }
}
```

Autocomplete triggers:

1. Choices length > 25
2. Choices are defined as a function (dynamic)

**Sources**: [src/discord/monitor/native-command.ts 85-117](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L85-L117)

---

## Message Processing

### Access Control Flow

```
YesNoNoYesNoYesdisabledopenallowlistNoYesdisabledopenpairingallowlistNoYesNoYesNoYesInbound Message EventIs Guild Message?Guild Enabled?Channel Enabled?Guild Policy?User in
Guild Allowlist?DM Policy?User in
DM Allowlist?Mention Required?Was Mentioned?Process MessageReject (Silent)
```

**Sources**: [src/discord/monitor/allow-list.ts 1-200](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/allow-list.ts#L1-L200) [src/discord/monitor/message-handler.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-handler.ts)

### Message Handler Pipeline

The `createDiscordMessageHandler` function [src/discord/monitor/message-handler.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-handler.ts) processes incoming messages:

1. **Extract Context**: Parse message metadata (author, channel, guild, mentions, attachments)
2. **Access Control**: Apply DM/guild policies and allowlists
3. **Mention Detection**: Check if bot was mentioned (role or user mention)
4. **Media Download**: Fetch attachments via Discord CDN
5. **Build Envelope**: Format message with sender/channel/timestamp metadata
6. **Session Resolution**: Route to appropriate session key (`discord:dm:userId` or `discord:guild:channelId`)
7. **Dispatch to Agent**: Forward to agent runtime via `dispatchReplyWithDispatcher`
8. **Stream Response**: Chunk and send replies (respecting Discord's 2000 char limit)

**Sources**: [src/discord/monitor/message-handler.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-handler.ts) [src/discord/monitor/message-utils.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-utils.ts)

---

## Threading and Replies

Discord supports thread channels. OpenClaw handles:

1. **Thread Detection**: Identify messages in threads via `channel.isThread()`
2. **Parent Resolution**: Resolve parent channel for thread messages
3. **Reply Targets**: Determine whether to reply in thread or parent channel
4. **Thread Naming**: Sanitize thread names (remove special chars, limit length)
```
ParentParentText ChannelThread 1Thread 2Session:
discord:guild:channelIdSession:
discord:guild:threadIdSession:
discord:guild:threadId
```

Thread session keys use the thread ID, not the parent channel ID, providing conversation isolation per thread.

**Sources**: [src/discord/monitor/threading.ts 1-100](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/threading.ts#L1-L100) [src/routing/session-key.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/routing/session-key.ts)

---

## Implementation Details

### Key Code Entities

| Entity | Location | Role |
| --- | --- | --- |
| `monitorDiscordProvider` | [src/discord/monitor/provider.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/provider.ts) | Main entry point, initializes Carbon client and listeners |
| `createDiscordNativeCommand` | [src/discord/monitor/native-command.ts 200-600](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L200-L600) | Factory for slash command handlers |
| `createDiscordMessageHandler` | [src/discord/monitor/message-handler.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-handler.ts) | Message event processor |
| `registerDiscordListener` | [src/discord/monitor/listeners.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/listeners.ts) | Registers message event listeners |
| `resolveDiscordCommandAuthorized` | [src/discord/monitor/allow-list.ts 100-150](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/allow-list.ts#L100-L150) | Access control validation |
| `isDiscordGroupAllowedByPolicy` | [src/discord/monitor/allow-list.ts 200-250](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/allow-list.ts#L200-L250) | Guild/channel policy checks |
| `buildDiscordMediaPayload` | [src/discord/monitor/message-utils.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-utils.ts) | Attachment processing |
| `resolveDiscordReplyTarget` | [src/discord/monitor/threading.ts 1-50](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/threading.ts#L1-L50) | Thread reply routing |

**Sources**: [src/discord/monitor.ts 1-29](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor.ts#L1-L29) [src/discord/monitor/provider.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/provider.ts) [src/discord/monitor/native-command.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts) [src/discord/monitor/message-handler.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/message-handler.ts) [src/discord/monitor/allow-list.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/allow-list.ts)

### Carbon Framework Integration

OpenClaw uses `@buape/carbon` for Discord interactions:

- `Command` class for slash commands
- `Button` component for interactive menus
- `AutocompleteInteraction` for dynamic choices
- `CommandInteraction` for command execution

Carbon provides type-safe abstractions over Discord's API, handling serialization and interaction acknowledgment automatically.

**Sources**: [src/discord/monitor/native-command.ts 1-30](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L1-L30)

Discord interaction errors (especially "Unknown interaction" from expired tokens) are caught and logged without crashing:

```
async function safeDiscordInteractionCall<T>(
  label: string,
  fn: () => Promise<T>
): Promise<T | null> {
  try {
    return await fn()
  } catch (error) {
    if (isDiscordUnknownInteraction(error)) {
      console.warn(\`discord: ${label} skipped (interaction expired)\`)
      return null
    }
    throw error
  }
}
```

**Sources**: [src/discord/monitor/native-command.ts 183-197](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/discord/monitor/native-command.ts#L183-L197)

---

For additional Discord-specific settings:

- **Text chunking**: See [Configuration File Structure](https://deepwiki.com/openclaw/openclaw/4.1-configuration-file-structure) for `channels.discord.textChunk*` options
- **Media handling**: See [Configuration File Structure](https://deepwiki.com/openclaw/openclaw/4.1-configuration-file-structure) for `channels.discord.mediaMaxMb`
- **Command configuration**: See [Commands and Directives](https://deepwiki.com/openclaw/openclaw/9-commands-and-directives) for native command control
- **Access groups**: See [Configuration File Structure](https://deepwiki.com/openclaw/openclaw/4.1-configuration-file-structure) for `commands.useAccessGroups`

**Sources**: [src/config/types.ts](https://github.com/openclaw/openclaw/blob/bf6ec64f/src/config/types.ts) [docs/tools/slash-commands.md 1-50](https://github.com/openclaw/openclaw/blob/bf6ec64f/docs/tools/slash-commands.md#L1-L50)

<svg id="mermaid-fu8dstus3vp" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg> <svg id="mermaid-7khuxtjp8f" width="100%" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 2412 512" style="max-width: 512px;" role="graphics-document document" aria-roledescription="error"><g></g><g><path class="error-icon" d="m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"></path><path class="error-icon" d="m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"></path><path class="error-icon" d="m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"></path><path class="error-icon" d="m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"></path><path class="error-icon" d="m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"></path><path class="error-icon" d="m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"></path><text class="error-text" x="1440" y="250" font-size="150px" style="text-anchor: middle;">Syntax error in text</text> <text class="error-text" x="1250" y="400" font-size="100px" style="text-anchor: middle;">mermaid version 11.12.2</text></g></svg>